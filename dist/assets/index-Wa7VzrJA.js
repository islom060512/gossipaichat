var Kh=Object.defineProperty;var Jh=(e,t,n)=>t in e?Kh(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var Os=(e,t,n)=>Jh(e,typeof t!="symbol"?t+"":t,n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var Re=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Qh(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var i=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return e[r]}})}),n}var sc={exports:{}},ss={},oc={exports:{}},I={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fr=Symbol.for("react.element"),Yh=Symbol.for("react.portal"),Xh=Symbol.for("react.fragment"),Zh=Symbol.for("react.strict_mode"),ef=Symbol.for("react.profiler"),tf=Symbol.for("react.provider"),nf=Symbol.for("react.context"),rf=Symbol.for("react.forward_ref"),sf=Symbol.for("react.suspense"),of=Symbol.for("react.memo"),lf=Symbol.for("react.lazy"),pa=Symbol.iterator;function af(e){return e===null||typeof e!="object"?null:(e=pa&&e[pa]||e["@@iterator"],typeof e=="function"?e:null)}var lc={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},ac=Object.assign,uc={};function zn(e,t,n){this.props=e,this.context=t,this.refs=uc,this.updater=n||lc}zn.prototype.isReactComponent={};zn.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};zn.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function cc(){}cc.prototype=zn.prototype;function fl(e,t,n){this.props=e,this.context=t,this.refs=uc,this.updater=n||lc}var pl=fl.prototype=new cc;pl.constructor=fl;ac(pl,zn.prototype);pl.isPureReactComponent=!0;var ma=Array.isArray,dc=Object.prototype.hasOwnProperty,ml={current:null},hc={key:!0,ref:!0,__self:!0,__source:!0};function fc(e,t,n){var r,i={},s=null,o=null;if(t!=null)for(r in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(s=""+t.key),t)dc.call(t,r)&&!hc.hasOwnProperty(r)&&(i[r]=t[r]);var l=arguments.length-2;if(l===1)i.children=n;else if(1<l){for(var a=Array(l),u=0;u<l;u++)a[u]=arguments[u+2];i.children=a}if(e&&e.defaultProps)for(r in l=e.defaultProps,l)i[r]===void 0&&(i[r]=l[r]);return{$$typeof:Fr,type:e,key:s,ref:o,props:i,_owner:ml.current}}function uf(e,t){return{$$typeof:Fr,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function gl(e){return typeof e=="object"&&e!==null&&e.$$typeof===Fr}function cf(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var ga=/\/+/g;function Ps(e,t){return typeof e=="object"&&e!==null&&e.key!=null?cf(""+e.key):t.toString(36)}function _i(e,t,n,r,i){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case Fr:case Yh:o=!0}}if(o)return o=e,i=i(o),e=r===""?"."+Ps(o,0):r,ma(i)?(n="",e!=null&&(n=e.replace(ga,"$&/")+"/"),_i(i,t,n,"",function(u){return u})):i!=null&&(gl(i)&&(i=uf(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(ga,"$&/")+"/")+e)),t.push(i)),1;if(o=0,r=r===""?".":r+":",ma(e))for(var l=0;l<e.length;l++){s=e[l];var a=r+Ps(s,l);o+=_i(s,t,n,a,i)}else if(a=af(e),typeof a=="function")for(e=a.call(e),l=0;!(s=e.next()).done;)s=s.value,a=r+Ps(s,l++),o+=_i(s,t,n,a,i);else if(s==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function Xr(e,t,n){if(e==null)return e;var r=[],i=0;return _i(e,r,"","",function(s){return t.call(n,s,i++)}),r}function df(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var pe={current:null},xi={transition:null},hf={ReactCurrentDispatcher:pe,ReactCurrentBatchConfig:xi,ReactCurrentOwner:ml};function pc(){throw Error("act(...) is not supported in production builds of React.")}I.Children={map:Xr,forEach:function(e,t,n){Xr(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Xr(e,function(){t++}),t},toArray:function(e){return Xr(e,function(t){return t})||[]},only:function(e){if(!gl(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};I.Component=zn;I.Fragment=Xh;I.Profiler=ef;I.PureComponent=fl;I.StrictMode=Zh;I.Suspense=sf;I.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=hf;I.act=pc;I.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=ac({},e.props),i=e.key,s=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(s=t.ref,o=ml.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(a in t)dc.call(t,a)&&!hc.hasOwnProperty(a)&&(r[a]=t[a]===void 0&&l!==void 0?l[a]:t[a])}var a=arguments.length-2;if(a===1)r.children=n;else if(1<a){l=Array(a);for(var u=0;u<a;u++)l[u]=arguments[u+2];r.children=l}return{$$typeof:Fr,type:e.type,key:i,ref:s,props:r,_owner:o}};I.createContext=function(e){return e={$$typeof:nf,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:tf,_context:e},e.Consumer=e};I.createElement=fc;I.createFactory=function(e){var t=fc.bind(null,e);return t.type=e,t};I.createRef=function(){return{current:null}};I.forwardRef=function(e){return{$$typeof:rf,render:e}};I.isValidElement=gl;I.lazy=function(e){return{$$typeof:lf,_payload:{_status:-1,_result:e},_init:df}};I.memo=function(e,t){return{$$typeof:of,type:e,compare:t===void 0?null:t}};I.startTransition=function(e){var t=xi.transition;xi.transition={};try{e()}finally{xi.transition=t}};I.unstable_act=pc;I.useCallback=function(e,t){return pe.current.useCallback(e,t)};I.useContext=function(e){return pe.current.useContext(e)};I.useDebugValue=function(){};I.useDeferredValue=function(e){return pe.current.useDeferredValue(e)};I.useEffect=function(e,t){return pe.current.useEffect(e,t)};I.useId=function(){return pe.current.useId()};I.useImperativeHandle=function(e,t,n){return pe.current.useImperativeHandle(e,t,n)};I.useInsertionEffect=function(e,t){return pe.current.useInsertionEffect(e,t)};I.useLayoutEffect=function(e,t){return pe.current.useLayoutEffect(e,t)};I.useMemo=function(e,t){return pe.current.useMemo(e,t)};I.useReducer=function(e,t,n){return pe.current.useReducer(e,t,n)};I.useRef=function(e){return pe.current.useRef(e)};I.useState=function(e){return pe.current.useState(e)};I.useSyncExternalStore=function(e,t,n){return pe.current.useSyncExternalStore(e,t,n)};I.useTransition=function(){return pe.current.useTransition()};I.version="18.3.1";oc.exports=I;var H=oc.exports;/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ff=H,pf=Symbol.for("react.element"),mf=Symbol.for("react.fragment"),gf=Object.prototype.hasOwnProperty,vf=ff.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,yf={key:!0,ref:!0,__self:!0,__source:!0};function mc(e,t,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),t.key!==void 0&&(s=""+t.key),t.ref!==void 0&&(o=t.ref);for(r in t)gf.call(t,r)&&!yf.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:pf,type:e,key:s,ref:o,props:i,_owner:vf.current}}ss.Fragment=mf;ss.jsx=mc;ss.jsxs=mc;sc.exports=ss;var h=sc.exports,gc={exports:{}},be={},vc={exports:{}},yc={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(T,A){var O=T.length;T.push(A);e:for(;0<O;){var K=O-1>>>1,Z=T[K];if(0<i(Z,A))T[K]=A,T[O]=Z,O=K;else break e}}function n(T){return T.length===0?null:T[0]}function r(T){if(T.length===0)return null;var A=T[0],O=T.pop();if(O!==A){T[0]=O;e:for(var K=0,Z=T.length,Qr=Z>>>1;K<Qr;){var Ut=2*(K+1)-1,As=T[Ut],Dt=Ut+1,Yr=T[Dt];if(0>i(As,O))Dt<Z&&0>i(Yr,As)?(T[K]=Yr,T[Dt]=O,K=Dt):(T[K]=As,T[Ut]=O,K=Ut);else if(Dt<Z&&0>i(Yr,O))T[K]=Yr,T[Dt]=O,K=Dt;else break e}}return A}function i(T,A){var O=T.sortIndex-A.sortIndex;return O!==0?O:T.id-A.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var a=[],u=[],c=1,f=null,d=3,v=!1,w=!1,_=!1,C=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,p=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function m(T){for(var A=n(u);A!==null;){if(A.callback===null)r(u);else if(A.startTime<=T)r(u),A.sortIndex=A.expirationTime,t(a,A);else break;A=n(u)}}function y(T){if(_=!1,m(T),!w)if(n(a)!==null)w=!0,bs(k);else{var A=n(u);A!==null&&Ns(y,A.startTime-T)}}function k(T,A){w=!1,_&&(_=!1,g(b),b=-1),v=!0;var O=d;try{for(m(A),f=n(a);f!==null&&(!(f.expirationTime>A)||T&&!De());){var K=f.callback;if(typeof K=="function"){f.callback=null,d=f.priorityLevel;var Z=K(f.expirationTime<=A);A=e.unstable_now(),typeof Z=="function"?f.callback=Z:f===n(a)&&r(a),m(A)}else r(a);f=n(a)}if(f!==null)var Qr=!0;else{var Ut=n(u);Ut!==null&&Ns(y,Ut.startTime-A),Qr=!1}return Qr}finally{f=null,d=O,v=!1}}var S=!1,E=null,b=-1,q=5,R=-1;function De(){return!(e.unstable_now()-R<q)}function Wn(){if(E!==null){var T=e.unstable_now();R=T;var A=!0;try{A=E(!0,T)}finally{A?Gn():(S=!1,E=null)}}else S=!1}var Gn;if(typeof p=="function")Gn=function(){p(Wn)};else if(typeof MessageChannel<"u"){var fa=new MessageChannel,qh=fa.port2;fa.port1.onmessage=Wn,Gn=function(){qh.postMessage(null)}}else Gn=function(){C(Wn,0)};function bs(T){E=T,S||(S=!0,Gn())}function Ns(T,A){b=C(function(){T(e.unstable_now())},A)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(T){T.callback=null},e.unstable_continueExecution=function(){w||v||(w=!0,bs(k))},e.unstable_forceFrameRate=function(T){0>T||125<T?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):q=0<T?Math.floor(1e3/T):5},e.unstable_getCurrentPriorityLevel=function(){return d},e.unstable_getFirstCallbackNode=function(){return n(a)},e.unstable_next=function(T){switch(d){case 1:case 2:case 3:var A=3;break;default:A=d}var O=d;d=A;try{return T()}finally{d=O}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(T,A){switch(T){case 1:case 2:case 3:case 4:case 5:break;default:T=3}var O=d;d=T;try{return A()}finally{d=O}},e.unstable_scheduleCallback=function(T,A,O){var K=e.unstable_now();switch(typeof O=="object"&&O!==null?(O=O.delay,O=typeof O=="number"&&0<O?K+O:K):O=K,T){case 1:var Z=-1;break;case 2:Z=250;break;case 5:Z=1073741823;break;case 4:Z=1e4;break;default:Z=5e3}return Z=O+Z,T={id:c++,callback:A,priorityLevel:T,startTime:O,expirationTime:Z,sortIndex:-1},O>K?(T.sortIndex=O,t(u,T),n(a)===null&&T===n(u)&&(_?(g(b),b=-1):_=!0,Ns(y,O-K))):(T.sortIndex=Z,t(a,T),w||v||(w=!0,bs(k))),T},e.unstable_shouldYield=De,e.unstable_wrapCallback=function(T){var A=d;return function(){var O=d;d=A;try{return T.apply(this,arguments)}finally{d=O}}}})(yc);vc.exports=yc;var wf=vc.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _f=H,Te=wf;function x(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var wc=new Set,xr={};function tn(e,t){Pn(e,t),Pn(e+"Capture",t)}function Pn(e,t){for(xr[e]=t,e=0;e<t.length;e++)wc.add(t[e])}var ot=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ho=Object.prototype.hasOwnProperty,xf=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,va={},ya={};function kf(e){return ho.call(ya,e)?!0:ho.call(va,e)?!1:xf.test(e)?ya[e]=!0:(va[e]=!0,!1)}function Sf(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Ef(e,t,n,r){if(t===null||typeof t>"u"||Sf(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function me(e,t,n,r,i,s,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=o}var oe={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){oe[e]=new me(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];oe[t]=new me(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){oe[e]=new me(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){oe[e]=new me(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){oe[e]=new me(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){oe[e]=new me(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){oe[e]=new me(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){oe[e]=new me(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){oe[e]=new me(e,5,!1,e.toLowerCase(),null,!1,!1)});var vl=/[\-:]([a-z])/g;function yl(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(vl,yl);oe[t]=new me(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(vl,yl);oe[t]=new me(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(vl,yl);oe[t]=new me(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){oe[e]=new me(e,1,!1,e.toLowerCase(),null,!1,!1)});oe.xlinkHref=new me("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){oe[e]=new me(e,1,!1,e.toLowerCase(),null,!0,!0)});function wl(e,t,n,r){var i=oe.hasOwnProperty(t)?oe[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Ef(t,n,i,r)&&(n=null),r||i===null?kf(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var ct=_f.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Zr=Symbol.for("react.element"),hn=Symbol.for("react.portal"),fn=Symbol.for("react.fragment"),_l=Symbol.for("react.strict_mode"),fo=Symbol.for("react.profiler"),_c=Symbol.for("react.provider"),xc=Symbol.for("react.context"),xl=Symbol.for("react.forward_ref"),po=Symbol.for("react.suspense"),mo=Symbol.for("react.suspense_list"),kl=Symbol.for("react.memo"),ft=Symbol.for("react.lazy"),kc=Symbol.for("react.offscreen"),wa=Symbol.iterator;function qn(e){return e===null||typeof e!="object"?null:(e=wa&&e[wa]||e["@@iterator"],typeof e=="function"?e:null)}var W=Object.assign,Is;function nr(e){if(Is===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Is=t&&t[1]||""}return`
`+Is+e}var Rs=!1;function Ls(e,t){if(!e||Rs)return"";Rs=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,l=s.length-1;1<=o&&0<=l&&i[o]!==s[l];)l--;for(;1<=o&&0<=l;o--,l--)if(i[o]!==s[l]){if(o!==1||l!==1)do if(o--,l--,0>l||i[o]!==s[l]){var a=`
`+i[o].replace(" at new "," at ");return e.displayName&&a.includes("<anonymous>")&&(a=a.replace("<anonymous>",e.displayName)),a}while(1<=o&&0<=l);break}}}finally{Rs=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?nr(e):""}function Cf(e){switch(e.tag){case 5:return nr(e.type);case 16:return nr("Lazy");case 13:return nr("Suspense");case 19:return nr("SuspenseList");case 0:case 2:case 15:return e=Ls(e.type,!1),e;case 11:return e=Ls(e.type.render,!1),e;case 1:return e=Ls(e.type,!0),e;default:return""}}function go(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case fn:return"Fragment";case hn:return"Portal";case fo:return"Profiler";case _l:return"StrictMode";case po:return"Suspense";case mo:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case xc:return(e.displayName||"Context")+".Consumer";case _c:return(e._context.displayName||"Context")+".Provider";case xl:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case kl:return t=e.displayName||null,t!==null?t:go(e.type)||"Memo";case ft:t=e._payload,e=e._init;try{return go(e(t))}catch{}}return null}function jf(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return go(t);case 8:return t===_l?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Ot(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Sc(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Tf(e){var t=Sc(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function ei(e){e._valueTracker||(e._valueTracker=Tf(e))}function Ec(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Sc(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Ii(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function vo(e,t){var n=t.checked;return W({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function _a(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Ot(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Cc(e,t){t=t.checked,t!=null&&wl(e,"checked",t,!1)}function yo(e,t){Cc(e,t);var n=Ot(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?wo(e,t.type,n):t.hasOwnProperty("defaultValue")&&wo(e,t.type,Ot(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function xa(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function wo(e,t,n){(t!=="number"||Ii(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var rr=Array.isArray;function Cn(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Ot(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function _o(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(x(91));return W({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ka(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(x(92));if(rr(n)){if(1<n.length)throw Error(x(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Ot(n)}}function jc(e,t){var n=Ot(t.value),r=Ot(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function Sa(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Tc(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function xo(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Tc(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var ti,bc=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(ti=ti||document.createElement("div"),ti.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ti.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function kr(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var lr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},bf=["Webkit","ms","Moz","O"];Object.keys(lr).forEach(function(e){bf.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),lr[t]=lr[e]})});function Nc(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||lr.hasOwnProperty(e)&&lr[e]?(""+t).trim():t+"px"}function Ac(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=Nc(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var Nf=W({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ko(e,t){if(t){if(Nf[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(x(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(x(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(x(61))}if(t.style!=null&&typeof t.style!="object")throw Error(x(62))}}function So(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Eo=null;function Sl(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Co=null,jn=null,Tn=null;function Ea(e){if(e=Vr(e)){if(typeof Co!="function")throw Error(x(280));var t=e.stateNode;t&&(t=cs(t),Co(e.stateNode,e.type,t))}}function Oc(e){jn?Tn?Tn.push(e):Tn=[e]:jn=e}function Pc(){if(jn){var e=jn,t=Tn;if(Tn=jn=null,Ea(e),t)for(e=0;e<t.length;e++)Ea(t[e])}}function Ic(e,t){return e(t)}function Rc(){}var $s=!1;function Lc(e,t,n){if($s)return e(t,n);$s=!0;try{return Ic(e,t,n)}finally{$s=!1,(jn!==null||Tn!==null)&&(Rc(),Pc())}}function Sr(e,t){var n=e.stateNode;if(n===null)return null;var r=cs(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(x(231,t,typeof n));return n}var jo=!1;if(ot)try{var Kn={};Object.defineProperty(Kn,"passive",{get:function(){jo=!0}}),window.addEventListener("test",Kn,Kn),window.removeEventListener("test",Kn,Kn)}catch{jo=!1}function Af(e,t,n,r,i,s,o,l,a){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(c){this.onError(c)}}var ar=!1,Ri=null,Li=!1,To=null,Of={onError:function(e){ar=!0,Ri=e}};function Pf(e,t,n,r,i,s,o,l,a){ar=!1,Ri=null,Af.apply(Of,arguments)}function If(e,t,n,r,i,s,o,l,a){if(Pf.apply(this,arguments),ar){if(ar){var u=Ri;ar=!1,Ri=null}else throw Error(x(198));Li||(Li=!0,To=u)}}function nn(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function $c(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Ca(e){if(nn(e)!==e)throw Error(x(188))}function Rf(e){var t=e.alternate;if(!t){if(t=nn(e),t===null)throw Error(x(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return Ca(i),e;if(s===r)return Ca(i),t;s=s.sibling}throw Error(x(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,l=i.child;l;){if(l===n){o=!0,n=i,r=s;break}if(l===r){o=!0,r=i,n=s;break}l=l.sibling}if(!o){for(l=s.child;l;){if(l===n){o=!0,n=s,r=i;break}if(l===r){o=!0,r=s,n=i;break}l=l.sibling}if(!o)throw Error(x(189))}}if(n.alternate!==r)throw Error(x(190))}if(n.tag!==3)throw Error(x(188));return n.stateNode.current===n?e:t}function Uc(e){return e=Rf(e),e!==null?Dc(e):null}function Dc(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Dc(e);if(t!==null)return t;e=e.sibling}return null}var Mc=Te.unstable_scheduleCallback,ja=Te.unstable_cancelCallback,Lf=Te.unstable_shouldYield,$f=Te.unstable_requestPaint,J=Te.unstable_now,Uf=Te.unstable_getCurrentPriorityLevel,El=Te.unstable_ImmediatePriority,zc=Te.unstable_UserBlockingPriority,$i=Te.unstable_NormalPriority,Df=Te.unstable_LowPriority,Fc=Te.unstable_IdlePriority,os=null,Ye=null;function Mf(e){if(Ye&&typeof Ye.onCommitFiberRoot=="function")try{Ye.onCommitFiberRoot(os,e,void 0,(e.current.flags&128)===128)}catch{}}var We=Math.clz32?Math.clz32:Bf,zf=Math.log,Ff=Math.LN2;function Bf(e){return e>>>=0,e===0?32:31-(zf(e)/Ff|0)|0}var ni=64,ri=4194304;function ir(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Ui(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,s=e.pingedLanes,o=n&268435455;if(o!==0){var l=o&~i;l!==0?r=ir(l):(s&=o,s!==0&&(r=ir(s)))}else o=n&~i,o!==0?r=ir(o):s!==0&&(r=ir(s));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,s=t&-t,i>=s||i===16&&(s&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-We(t),i=1<<n,r|=e[n],t&=~i;return r}function Hf(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Vf(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,s=e.pendingLanes;0<s;){var o=31-We(s),l=1<<o,a=i[o];a===-1?(!(l&n)||l&r)&&(i[o]=Hf(l,t)):a<=t&&(e.expiredLanes|=l),s&=~l}}function bo(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Bc(){var e=ni;return ni<<=1,!(ni&4194240)&&(ni=64),e}function Us(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Br(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-We(t),e[t]=n}function Wf(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-We(n),s=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~s}}function Cl(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-We(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var $=0;function Hc(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Vc,jl,Wc,Gc,qc,No=!1,ii=[],kt=null,St=null,Et=null,Er=new Map,Cr=new Map,vt=[],Gf="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ta(e,t){switch(e){case"focusin":case"focusout":kt=null;break;case"dragenter":case"dragleave":St=null;break;case"mouseover":case"mouseout":Et=null;break;case"pointerover":case"pointerout":Er.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Cr.delete(t.pointerId)}}function Jn(e,t,n,r,i,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},t!==null&&(t=Vr(t),t!==null&&jl(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function qf(e,t,n,r,i){switch(t){case"focusin":return kt=Jn(kt,e,t,n,r,i),!0;case"dragenter":return St=Jn(St,e,t,n,r,i),!0;case"mouseover":return Et=Jn(Et,e,t,n,r,i),!0;case"pointerover":var s=i.pointerId;return Er.set(s,Jn(Er.get(s)||null,e,t,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Cr.set(s,Jn(Cr.get(s)||null,e,t,n,r,i)),!0}return!1}function Kc(e){var t=Vt(e.target);if(t!==null){var n=nn(t);if(n!==null){if(t=n.tag,t===13){if(t=$c(n),t!==null){e.blockedOn=t,qc(e.priority,function(){Wc(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function ki(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Ao(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Eo=r,n.target.dispatchEvent(r),Eo=null}else return t=Vr(n),t!==null&&jl(t),e.blockedOn=n,!1;t.shift()}return!0}function ba(e,t,n){ki(e)&&n.delete(t)}function Kf(){No=!1,kt!==null&&ki(kt)&&(kt=null),St!==null&&ki(St)&&(St=null),Et!==null&&ki(Et)&&(Et=null),Er.forEach(ba),Cr.forEach(ba)}function Qn(e,t){e.blockedOn===t&&(e.blockedOn=null,No||(No=!0,Te.unstable_scheduleCallback(Te.unstable_NormalPriority,Kf)))}function jr(e){function t(i){return Qn(i,e)}if(0<ii.length){Qn(ii[0],e);for(var n=1;n<ii.length;n++){var r=ii[n];r.blockedOn===e&&(r.blockedOn=null)}}for(kt!==null&&Qn(kt,e),St!==null&&Qn(St,e),Et!==null&&Qn(Et,e),Er.forEach(t),Cr.forEach(t),n=0;n<vt.length;n++)r=vt[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<vt.length&&(n=vt[0],n.blockedOn===null);)Kc(n),n.blockedOn===null&&vt.shift()}var bn=ct.ReactCurrentBatchConfig,Di=!0;function Jf(e,t,n,r){var i=$,s=bn.transition;bn.transition=null;try{$=1,Tl(e,t,n,r)}finally{$=i,bn.transition=s}}function Qf(e,t,n,r){var i=$,s=bn.transition;bn.transition=null;try{$=4,Tl(e,t,n,r)}finally{$=i,bn.transition=s}}function Tl(e,t,n,r){if(Di){var i=Ao(e,t,n,r);if(i===null)qs(e,t,r,Mi,n),Ta(e,r);else if(qf(i,e,t,n,r))r.stopPropagation();else if(Ta(e,r),t&4&&-1<Gf.indexOf(e)){for(;i!==null;){var s=Vr(i);if(s!==null&&Vc(s),s=Ao(e,t,n,r),s===null&&qs(e,t,r,Mi,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else qs(e,t,r,null,n)}}var Mi=null;function Ao(e,t,n,r){if(Mi=null,e=Sl(r),e=Vt(e),e!==null)if(t=nn(e),t===null)e=null;else if(n=t.tag,n===13){if(e=$c(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Mi=e,null}function Jc(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Uf()){case El:return 1;case zc:return 4;case $i:case Df:return 16;case Fc:return 536870912;default:return 16}default:return 16}}var _t=null,bl=null,Si=null;function Qc(){if(Si)return Si;var e,t=bl,n=t.length,r,i="value"in _t?_t.value:_t.textContent,s=i.length;for(e=0;e<n&&t[e]===i[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===i[s-r];r++);return Si=i.slice(e,1<r?1-r:void 0)}function Ei(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function si(){return!0}function Na(){return!1}function Ne(e){function t(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(n=e[l],this[l]=n?n(s):s[l]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?si:Na,this.isPropagationStopped=Na,this}return W(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=si)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=si)},persist:function(){},isPersistent:si}),t}var Fn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Nl=Ne(Fn),Hr=W({},Fn,{view:0,detail:0}),Yf=Ne(Hr),Ds,Ms,Yn,ls=W({},Hr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Al,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Yn&&(Yn&&e.type==="mousemove"?(Ds=e.screenX-Yn.screenX,Ms=e.screenY-Yn.screenY):Ms=Ds=0,Yn=e),Ds)},movementY:function(e){return"movementY"in e?e.movementY:Ms}}),Aa=Ne(ls),Xf=W({},ls,{dataTransfer:0}),Zf=Ne(Xf),ep=W({},Hr,{relatedTarget:0}),zs=Ne(ep),tp=W({},Fn,{animationName:0,elapsedTime:0,pseudoElement:0}),np=Ne(tp),rp=W({},Fn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),ip=Ne(rp),sp=W({},Fn,{data:0}),Oa=Ne(sp),op={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},lp={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ap={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function up(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=ap[e])?!!t[e]:!1}function Al(){return up}var cp=W({},Hr,{key:function(e){if(e.key){var t=op[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Ei(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?lp[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Al,charCode:function(e){return e.type==="keypress"?Ei(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ei(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),dp=Ne(cp),hp=W({},ls,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Pa=Ne(hp),fp=W({},Hr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Al}),pp=Ne(fp),mp=W({},Fn,{propertyName:0,elapsedTime:0,pseudoElement:0}),gp=Ne(mp),vp=W({},ls,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),yp=Ne(vp),wp=[9,13,27,32],Ol=ot&&"CompositionEvent"in window,ur=null;ot&&"documentMode"in document&&(ur=document.documentMode);var _p=ot&&"TextEvent"in window&&!ur,Yc=ot&&(!Ol||ur&&8<ur&&11>=ur),Ia=" ",Ra=!1;function Xc(e,t){switch(e){case"keyup":return wp.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Zc(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var pn=!1;function xp(e,t){switch(e){case"compositionend":return Zc(t);case"keypress":return t.which!==32?null:(Ra=!0,Ia);case"textInput":return e=t.data,e===Ia&&Ra?null:e;default:return null}}function kp(e,t){if(pn)return e==="compositionend"||!Ol&&Xc(e,t)?(e=Qc(),Si=bl=_t=null,pn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Yc&&t.locale!=="ko"?null:t.data;default:return null}}var Sp={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function La(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Sp[e.type]:t==="textarea"}function ed(e,t,n,r){Oc(r),t=zi(t,"onChange"),0<t.length&&(n=new Nl("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var cr=null,Tr=null;function Ep(e){dd(e,0)}function as(e){var t=vn(e);if(Ec(t))return e}function Cp(e,t){if(e==="change")return t}var td=!1;if(ot){var Fs;if(ot){var Bs="oninput"in document;if(!Bs){var $a=document.createElement("div");$a.setAttribute("oninput","return;"),Bs=typeof $a.oninput=="function"}Fs=Bs}else Fs=!1;td=Fs&&(!document.documentMode||9<document.documentMode)}function Ua(){cr&&(cr.detachEvent("onpropertychange",nd),Tr=cr=null)}function nd(e){if(e.propertyName==="value"&&as(Tr)){var t=[];ed(t,Tr,e,Sl(e)),Lc(Ep,t)}}function jp(e,t,n){e==="focusin"?(Ua(),cr=t,Tr=n,cr.attachEvent("onpropertychange",nd)):e==="focusout"&&Ua()}function Tp(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return as(Tr)}function bp(e,t){if(e==="click")return as(t)}function Np(e,t){if(e==="input"||e==="change")return as(t)}function Ap(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var qe=typeof Object.is=="function"?Object.is:Ap;function br(e,t){if(qe(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!ho.call(t,i)||!qe(e[i],t[i]))return!1}return!0}function Da(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Ma(e,t){var n=Da(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Da(n)}}function rd(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?rd(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function id(){for(var e=window,t=Ii();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Ii(e.document)}return t}function Pl(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Op(e){var t=id(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&rd(n.ownerDocument.documentElement,n)){if(r!==null&&Pl(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!e.extend&&s>r&&(i=r,r=s,s=i),i=Ma(n,s);var o=Ma(n,r);i&&o&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),s>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Pp=ot&&"documentMode"in document&&11>=document.documentMode,mn=null,Oo=null,dr=null,Po=!1;function za(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Po||mn==null||mn!==Ii(r)||(r=mn,"selectionStart"in r&&Pl(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),dr&&br(dr,r)||(dr=r,r=zi(Oo,"onSelect"),0<r.length&&(t=new Nl("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=mn)))}function oi(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var gn={animationend:oi("Animation","AnimationEnd"),animationiteration:oi("Animation","AnimationIteration"),animationstart:oi("Animation","AnimationStart"),transitionend:oi("Transition","TransitionEnd")},Hs={},sd={};ot&&(sd=document.createElement("div").style,"AnimationEvent"in window||(delete gn.animationend.animation,delete gn.animationiteration.animation,delete gn.animationstart.animation),"TransitionEvent"in window||delete gn.transitionend.transition);function us(e){if(Hs[e])return Hs[e];if(!gn[e])return e;var t=gn[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in sd)return Hs[e]=t[n];return e}var od=us("animationend"),ld=us("animationiteration"),ad=us("animationstart"),ud=us("transitionend"),cd=new Map,Fa="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function It(e,t){cd.set(e,t),tn(t,[e])}for(var Vs=0;Vs<Fa.length;Vs++){var Ws=Fa[Vs],Ip=Ws.toLowerCase(),Rp=Ws[0].toUpperCase()+Ws.slice(1);It(Ip,"on"+Rp)}It(od,"onAnimationEnd");It(ld,"onAnimationIteration");It(ad,"onAnimationStart");It("dblclick","onDoubleClick");It("focusin","onFocus");It("focusout","onBlur");It(ud,"onTransitionEnd");Pn("onMouseEnter",["mouseout","mouseover"]);Pn("onMouseLeave",["mouseout","mouseover"]);Pn("onPointerEnter",["pointerout","pointerover"]);Pn("onPointerLeave",["pointerout","pointerover"]);tn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));tn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));tn("onBeforeInput",["compositionend","keypress","textInput","paste"]);tn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));tn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));tn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var sr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Lp=new Set("cancel close invalid load scroll toggle".split(" ").concat(sr));function Ba(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,If(r,t,void 0,e),e.currentTarget=null}function dd(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var o=r.length-1;0<=o;o--){var l=r[o],a=l.instance,u=l.currentTarget;if(l=l.listener,a!==s&&i.isPropagationStopped())break e;Ba(i,l,u),s=a}else for(o=0;o<r.length;o++){if(l=r[o],a=l.instance,u=l.currentTarget,l=l.listener,a!==s&&i.isPropagationStopped())break e;Ba(i,l,u),s=a}}}if(Li)throw e=To,Li=!1,To=null,e}function M(e,t){var n=t[Uo];n===void 0&&(n=t[Uo]=new Set);var r=e+"__bubble";n.has(r)||(hd(t,e,2,!1),n.add(r))}function Gs(e,t,n){var r=0;t&&(r|=4),hd(n,e,r,t)}var li="_reactListening"+Math.random().toString(36).slice(2);function Nr(e){if(!e[li]){e[li]=!0,wc.forEach(function(n){n!=="selectionchange"&&(Lp.has(n)||Gs(n,!1,e),Gs(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[li]||(t[li]=!0,Gs("selectionchange",!1,t))}}function hd(e,t,n,r){switch(Jc(t)){case 1:var i=Jf;break;case 4:i=Qf;break;default:i=Tl}n=i.bind(null,t,n,e),i=void 0,!jo||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function qs(e,t,n,r,i){var s=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var l=r.stateNode.containerInfo;if(l===i||l.nodeType===8&&l.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var a=o.tag;if((a===3||a===4)&&(a=o.stateNode.containerInfo,a===i||a.nodeType===8&&a.parentNode===i))return;o=o.return}for(;l!==null;){if(o=Vt(l),o===null)return;if(a=o.tag,a===5||a===6){r=s=o;continue e}l=l.parentNode}}r=r.return}Lc(function(){var u=s,c=Sl(n),f=[];e:{var d=cd.get(e);if(d!==void 0){var v=Nl,w=e;switch(e){case"keypress":if(Ei(n)===0)break e;case"keydown":case"keyup":v=dp;break;case"focusin":w="focus",v=zs;break;case"focusout":w="blur",v=zs;break;case"beforeblur":case"afterblur":v=zs;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":v=Aa;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":v=Zf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":v=pp;break;case od:case ld:case ad:v=np;break;case ud:v=gp;break;case"scroll":v=Yf;break;case"wheel":v=yp;break;case"copy":case"cut":case"paste":v=ip;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":v=Pa}var _=(t&4)!==0,C=!_&&e==="scroll",g=_?d!==null?d+"Capture":null:d;_=[];for(var p=u,m;p!==null;){m=p;var y=m.stateNode;if(m.tag===5&&y!==null&&(m=y,g!==null&&(y=Sr(p,g),y!=null&&_.push(Ar(p,y,m)))),C)break;p=p.return}0<_.length&&(d=new v(d,w,null,n,c),f.push({event:d,listeners:_}))}}if(!(t&7)){e:{if(d=e==="mouseover"||e==="pointerover",v=e==="mouseout"||e==="pointerout",d&&n!==Eo&&(w=n.relatedTarget||n.fromElement)&&(Vt(w)||w[lt]))break e;if((v||d)&&(d=c.window===c?c:(d=c.ownerDocument)?d.defaultView||d.parentWindow:window,v?(w=n.relatedTarget||n.toElement,v=u,w=w?Vt(w):null,w!==null&&(C=nn(w),w!==C||w.tag!==5&&w.tag!==6)&&(w=null)):(v=null,w=u),v!==w)){if(_=Aa,y="onMouseLeave",g="onMouseEnter",p="mouse",(e==="pointerout"||e==="pointerover")&&(_=Pa,y="onPointerLeave",g="onPointerEnter",p="pointer"),C=v==null?d:vn(v),m=w==null?d:vn(w),d=new _(y,p+"leave",v,n,c),d.target=C,d.relatedTarget=m,y=null,Vt(c)===u&&(_=new _(g,p+"enter",w,n,c),_.target=m,_.relatedTarget=C,y=_),C=y,v&&w)t:{for(_=v,g=w,p=0,m=_;m;m=sn(m))p++;for(m=0,y=g;y;y=sn(y))m++;for(;0<p-m;)_=sn(_),p--;for(;0<m-p;)g=sn(g),m--;for(;p--;){if(_===g||g!==null&&_===g.alternate)break t;_=sn(_),g=sn(g)}_=null}else _=null;v!==null&&Ha(f,d,v,_,!1),w!==null&&C!==null&&Ha(f,C,w,_,!0)}}e:{if(d=u?vn(u):window,v=d.nodeName&&d.nodeName.toLowerCase(),v==="select"||v==="input"&&d.type==="file")var k=Cp;else if(La(d))if(td)k=Np;else{k=Tp;var S=jp}else(v=d.nodeName)&&v.toLowerCase()==="input"&&(d.type==="checkbox"||d.type==="radio")&&(k=bp);if(k&&(k=k(e,u))){ed(f,k,n,c);break e}S&&S(e,d,u),e==="focusout"&&(S=d._wrapperState)&&S.controlled&&d.type==="number"&&wo(d,"number",d.value)}switch(S=u?vn(u):window,e){case"focusin":(La(S)||S.contentEditable==="true")&&(mn=S,Oo=u,dr=null);break;case"focusout":dr=Oo=mn=null;break;case"mousedown":Po=!0;break;case"contextmenu":case"mouseup":case"dragend":Po=!1,za(f,n,c);break;case"selectionchange":if(Pp)break;case"keydown":case"keyup":za(f,n,c)}var E;if(Ol)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else pn?Xc(e,n)&&(b="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(b="onCompositionStart");b&&(Yc&&n.locale!=="ko"&&(pn||b!=="onCompositionStart"?b==="onCompositionEnd"&&pn&&(E=Qc()):(_t=c,bl="value"in _t?_t.value:_t.textContent,pn=!0)),S=zi(u,b),0<S.length&&(b=new Oa(b,e,null,n,c),f.push({event:b,listeners:S}),E?b.data=E:(E=Zc(n),E!==null&&(b.data=E)))),(E=_p?xp(e,n):kp(e,n))&&(u=zi(u,"onBeforeInput"),0<u.length&&(c=new Oa("onBeforeInput","beforeinput",null,n,c),f.push({event:c,listeners:u}),c.data=E))}dd(f,t)})}function Ar(e,t,n){return{instance:e,listener:t,currentTarget:n}}function zi(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Sr(e,n),s!=null&&r.unshift(Ar(e,s,i)),s=Sr(e,t),s!=null&&r.push(Ar(e,s,i))),e=e.return}return r}function sn(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Ha(e,t,n,r,i){for(var s=t._reactName,o=[];n!==null&&n!==r;){var l=n,a=l.alternate,u=l.stateNode;if(a!==null&&a===r)break;l.tag===5&&u!==null&&(l=u,i?(a=Sr(n,s),a!=null&&o.unshift(Ar(n,a,l))):i||(a=Sr(n,s),a!=null&&o.push(Ar(n,a,l)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var $p=/\r\n?/g,Up=/\u0000|\uFFFD/g;function Va(e){return(typeof e=="string"?e:""+e).replace($p,`
`).replace(Up,"")}function ai(e,t,n){if(t=Va(t),Va(e)!==t&&n)throw Error(x(425))}function Fi(){}var Io=null,Ro=null;function Lo(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var $o=typeof setTimeout=="function"?setTimeout:void 0,Dp=typeof clearTimeout=="function"?clearTimeout:void 0,Wa=typeof Promise=="function"?Promise:void 0,Mp=typeof queueMicrotask=="function"?queueMicrotask:typeof Wa<"u"?function(e){return Wa.resolve(null).then(e).catch(zp)}:$o;function zp(e){setTimeout(function(){throw e})}function Ks(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),jr(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);jr(t)}function Ct(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Ga(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Bn=Math.random().toString(36).slice(2),Qe="__reactFiber$"+Bn,Or="__reactProps$"+Bn,lt="__reactContainer$"+Bn,Uo="__reactEvents$"+Bn,Fp="__reactListeners$"+Bn,Bp="__reactHandles$"+Bn;function Vt(e){var t=e[Qe];if(t)return t;for(var n=e.parentNode;n;){if(t=n[lt]||n[Qe]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Ga(e);e!==null;){if(n=e[Qe])return n;e=Ga(e)}return t}e=n,n=e.parentNode}return null}function Vr(e){return e=e[Qe]||e[lt],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function vn(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(x(33))}function cs(e){return e[Or]||null}var Do=[],yn=-1;function Rt(e){return{current:e}}function z(e){0>yn||(e.current=Do[yn],Do[yn]=null,yn--)}function D(e,t){yn++,Do[yn]=e.current,e.current=t}var Pt={},ce=Rt(Pt),xe=Rt(!1),Jt=Pt;function In(e,t){var n=e.type.contextTypes;if(!n)return Pt;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=t[s];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function ke(e){return e=e.childContextTypes,e!=null}function Bi(){z(xe),z(ce)}function qa(e,t,n){if(ce.current!==Pt)throw Error(x(168));D(ce,t),D(xe,n)}function fd(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(x(108,jf(e)||"Unknown",i));return W({},n,r)}function Hi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Pt,Jt=ce.current,D(ce,e),D(xe,xe.current),!0}function Ka(e,t,n){var r=e.stateNode;if(!r)throw Error(x(169));n?(e=fd(e,t,Jt),r.__reactInternalMemoizedMergedChildContext=e,z(xe),z(ce),D(ce,e)):z(xe),D(xe,n)}var nt=null,ds=!1,Js=!1;function pd(e){nt===null?nt=[e]:nt.push(e)}function Hp(e){ds=!0,pd(e)}function Lt(){if(!Js&&nt!==null){Js=!0;var e=0,t=$;try{var n=nt;for($=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}nt=null,ds=!1}catch(i){throw nt!==null&&(nt=nt.slice(e+1)),Mc(El,Lt),i}finally{$=t,Js=!1}}return null}var wn=[],_n=0,Vi=null,Wi=0,Ae=[],Oe=0,Qt=null,rt=1,it="";function zt(e,t){wn[_n++]=Wi,wn[_n++]=Vi,Vi=e,Wi=t}function md(e,t,n){Ae[Oe++]=rt,Ae[Oe++]=it,Ae[Oe++]=Qt,Qt=e;var r=rt;e=it;var i=32-We(r)-1;r&=~(1<<i),n+=1;var s=32-We(t)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,rt=1<<32-We(t)+i|n<<i|r,it=s+e}else rt=1<<s|n<<i|r,it=e}function Il(e){e.return!==null&&(zt(e,1),md(e,1,0))}function Rl(e){for(;e===Vi;)Vi=wn[--_n],wn[_n]=null,Wi=wn[--_n],wn[_n]=null;for(;e===Qt;)Qt=Ae[--Oe],Ae[Oe]=null,it=Ae[--Oe],Ae[Oe]=null,rt=Ae[--Oe],Ae[Oe]=null}var je=null,Ce=null,F=!1,Ve=null;function gd(e,t){var n=Pe(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Ja(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,je=e,Ce=Ct(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,je=e,Ce=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Qt!==null?{id:rt,overflow:it}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Pe(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,je=e,Ce=null,!0):!1;default:return!1}}function Mo(e){return(e.mode&1)!==0&&(e.flags&128)===0}function zo(e){if(F){var t=Ce;if(t){var n=t;if(!Ja(e,t)){if(Mo(e))throw Error(x(418));t=Ct(n.nextSibling);var r=je;t&&Ja(e,t)?gd(r,n):(e.flags=e.flags&-4097|2,F=!1,je=e)}}else{if(Mo(e))throw Error(x(418));e.flags=e.flags&-4097|2,F=!1,je=e}}}function Qa(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;je=e}function ui(e){if(e!==je)return!1;if(!F)return Qa(e),F=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Lo(e.type,e.memoizedProps)),t&&(t=Ce)){if(Mo(e))throw vd(),Error(x(418));for(;t;)gd(e,t),t=Ct(t.nextSibling)}if(Qa(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(x(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Ce=Ct(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Ce=null}}else Ce=je?Ct(e.stateNode.nextSibling):null;return!0}function vd(){for(var e=Ce;e;)e=Ct(e.nextSibling)}function Rn(){Ce=je=null,F=!1}function Ll(e){Ve===null?Ve=[e]:Ve.push(e)}var Vp=ct.ReactCurrentBatchConfig;function Xn(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(x(309));var r=n.stateNode}if(!r)throw Error(x(147,e));var i=r,s=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===s?t.ref:(t=function(o){var l=i.refs;o===null?delete l[s]:l[s]=o},t._stringRef=s,t)}if(typeof e!="string")throw Error(x(284));if(!n._owner)throw Error(x(290,e))}return e}function ci(e,t){throw e=Object.prototype.toString.call(t),Error(x(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Ya(e){var t=e._init;return t(e._payload)}function yd(e){function t(g,p){if(e){var m=g.deletions;m===null?(g.deletions=[p],g.flags|=16):m.push(p)}}function n(g,p){if(!e)return null;for(;p!==null;)t(g,p),p=p.sibling;return null}function r(g,p){for(g=new Map;p!==null;)p.key!==null?g.set(p.key,p):g.set(p.index,p),p=p.sibling;return g}function i(g,p){return g=Nt(g,p),g.index=0,g.sibling=null,g}function s(g,p,m){return g.index=m,e?(m=g.alternate,m!==null?(m=m.index,m<p?(g.flags|=2,p):m):(g.flags|=2,p)):(g.flags|=1048576,p)}function o(g){return e&&g.alternate===null&&(g.flags|=2),g}function l(g,p,m,y){return p===null||p.tag!==6?(p=no(m,g.mode,y),p.return=g,p):(p=i(p,m),p.return=g,p)}function a(g,p,m,y){var k=m.type;return k===fn?c(g,p,m.props.children,y,m.key):p!==null&&(p.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===ft&&Ya(k)===p.type)?(y=i(p,m.props),y.ref=Xn(g,p,m),y.return=g,y):(y=Oi(m.type,m.key,m.props,null,g.mode,y),y.ref=Xn(g,p,m),y.return=g,y)}function u(g,p,m,y){return p===null||p.tag!==4||p.stateNode.containerInfo!==m.containerInfo||p.stateNode.implementation!==m.implementation?(p=ro(m,g.mode,y),p.return=g,p):(p=i(p,m.children||[]),p.return=g,p)}function c(g,p,m,y,k){return p===null||p.tag!==7?(p=Kt(m,g.mode,y,k),p.return=g,p):(p=i(p,m),p.return=g,p)}function f(g,p,m){if(typeof p=="string"&&p!==""||typeof p=="number")return p=no(""+p,g.mode,m),p.return=g,p;if(typeof p=="object"&&p!==null){switch(p.$$typeof){case Zr:return m=Oi(p.type,p.key,p.props,null,g.mode,m),m.ref=Xn(g,null,p),m.return=g,m;case hn:return p=ro(p,g.mode,m),p.return=g,p;case ft:var y=p._init;return f(g,y(p._payload),m)}if(rr(p)||qn(p))return p=Kt(p,g.mode,m,null),p.return=g,p;ci(g,p)}return null}function d(g,p,m,y){var k=p!==null?p.key:null;if(typeof m=="string"&&m!==""||typeof m=="number")return k!==null?null:l(g,p,""+m,y);if(typeof m=="object"&&m!==null){switch(m.$$typeof){case Zr:return m.key===k?a(g,p,m,y):null;case hn:return m.key===k?u(g,p,m,y):null;case ft:return k=m._init,d(g,p,k(m._payload),y)}if(rr(m)||qn(m))return k!==null?null:c(g,p,m,y,null);ci(g,m)}return null}function v(g,p,m,y,k){if(typeof y=="string"&&y!==""||typeof y=="number")return g=g.get(m)||null,l(p,g,""+y,k);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Zr:return g=g.get(y.key===null?m:y.key)||null,a(p,g,y,k);case hn:return g=g.get(y.key===null?m:y.key)||null,u(p,g,y,k);case ft:var S=y._init;return v(g,p,m,S(y._payload),k)}if(rr(y)||qn(y))return g=g.get(m)||null,c(p,g,y,k,null);ci(p,y)}return null}function w(g,p,m,y){for(var k=null,S=null,E=p,b=p=0,q=null;E!==null&&b<m.length;b++){E.index>b?(q=E,E=null):q=E.sibling;var R=d(g,E,m[b],y);if(R===null){E===null&&(E=q);break}e&&E&&R.alternate===null&&t(g,E),p=s(R,p,b),S===null?k=R:S.sibling=R,S=R,E=q}if(b===m.length)return n(g,E),F&&zt(g,b),k;if(E===null){for(;b<m.length;b++)E=f(g,m[b],y),E!==null&&(p=s(E,p,b),S===null?k=E:S.sibling=E,S=E);return F&&zt(g,b),k}for(E=r(g,E);b<m.length;b++)q=v(E,g,b,m[b],y),q!==null&&(e&&q.alternate!==null&&E.delete(q.key===null?b:q.key),p=s(q,p,b),S===null?k=q:S.sibling=q,S=q);return e&&E.forEach(function(De){return t(g,De)}),F&&zt(g,b),k}function _(g,p,m,y){var k=qn(m);if(typeof k!="function")throw Error(x(150));if(m=k.call(m),m==null)throw Error(x(151));for(var S=k=null,E=p,b=p=0,q=null,R=m.next();E!==null&&!R.done;b++,R=m.next()){E.index>b?(q=E,E=null):q=E.sibling;var De=d(g,E,R.value,y);if(De===null){E===null&&(E=q);break}e&&E&&De.alternate===null&&t(g,E),p=s(De,p,b),S===null?k=De:S.sibling=De,S=De,E=q}if(R.done)return n(g,E),F&&zt(g,b),k;if(E===null){for(;!R.done;b++,R=m.next())R=f(g,R.value,y),R!==null&&(p=s(R,p,b),S===null?k=R:S.sibling=R,S=R);return F&&zt(g,b),k}for(E=r(g,E);!R.done;b++,R=m.next())R=v(E,g,b,R.value,y),R!==null&&(e&&R.alternate!==null&&E.delete(R.key===null?b:R.key),p=s(R,p,b),S===null?k=R:S.sibling=R,S=R);return e&&E.forEach(function(Wn){return t(g,Wn)}),F&&zt(g,b),k}function C(g,p,m,y){if(typeof m=="object"&&m!==null&&m.type===fn&&m.key===null&&(m=m.props.children),typeof m=="object"&&m!==null){switch(m.$$typeof){case Zr:e:{for(var k=m.key,S=p;S!==null;){if(S.key===k){if(k=m.type,k===fn){if(S.tag===7){n(g,S.sibling),p=i(S,m.props.children),p.return=g,g=p;break e}}else if(S.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===ft&&Ya(k)===S.type){n(g,S.sibling),p=i(S,m.props),p.ref=Xn(g,S,m),p.return=g,g=p;break e}n(g,S);break}else t(g,S);S=S.sibling}m.type===fn?(p=Kt(m.props.children,g.mode,y,m.key),p.return=g,g=p):(y=Oi(m.type,m.key,m.props,null,g.mode,y),y.ref=Xn(g,p,m),y.return=g,g=y)}return o(g);case hn:e:{for(S=m.key;p!==null;){if(p.key===S)if(p.tag===4&&p.stateNode.containerInfo===m.containerInfo&&p.stateNode.implementation===m.implementation){n(g,p.sibling),p=i(p,m.children||[]),p.return=g,g=p;break e}else{n(g,p);break}else t(g,p);p=p.sibling}p=ro(m,g.mode,y),p.return=g,g=p}return o(g);case ft:return S=m._init,C(g,p,S(m._payload),y)}if(rr(m))return w(g,p,m,y);if(qn(m))return _(g,p,m,y);ci(g,m)}return typeof m=="string"&&m!==""||typeof m=="number"?(m=""+m,p!==null&&p.tag===6?(n(g,p.sibling),p=i(p,m),p.return=g,g=p):(n(g,p),p=no(m,g.mode,y),p.return=g,g=p),o(g)):n(g,p)}return C}var Ln=yd(!0),wd=yd(!1),Gi=Rt(null),qi=null,xn=null,$l=null;function Ul(){$l=xn=qi=null}function Dl(e){var t=Gi.current;z(Gi),e._currentValue=t}function Fo(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Nn(e,t){qi=e,$l=xn=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(_e=!0),e.firstContext=null)}function Le(e){var t=e._currentValue;if($l!==e)if(e={context:e,memoizedValue:t,next:null},xn===null){if(qi===null)throw Error(x(308));xn=e,qi.dependencies={lanes:0,firstContext:e}}else xn=xn.next=e;return t}var Wt=null;function Ml(e){Wt===null?Wt=[e]:Wt.push(e)}function _d(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,Ml(t)):(n.next=i.next,i.next=n),t.interleaved=n,at(e,r)}function at(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var pt=!1;function zl(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function xd(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function st(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function jt(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,L&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,at(e,n)}return i=r.interleaved,i===null?(t.next=t,Ml(r)):(t.next=i.next,i.next=t),r.interleaved=t,at(e,n)}function Ci(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Cl(e,n)}}function Xa(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=t:s=s.next=t}else i=s=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Ki(e,t,n,r){var i=e.updateQueue;pt=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var a=l,u=a.next;a.next=null,o===null?s=u:o.next=u,o=a;var c=e.alternate;c!==null&&(c=c.updateQueue,l=c.lastBaseUpdate,l!==o&&(l===null?c.firstBaseUpdate=u:l.next=u,c.lastBaseUpdate=a))}if(s!==null){var f=i.baseState;o=0,c=u=a=null,l=s;do{var d=l.lane,v=l.eventTime;if((r&d)===d){c!==null&&(c=c.next={eventTime:v,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var w=e,_=l;switch(d=t,v=n,_.tag){case 1:if(w=_.payload,typeof w=="function"){f=w.call(v,f,d);break e}f=w;break e;case 3:w.flags=w.flags&-65537|128;case 0:if(w=_.payload,d=typeof w=="function"?w.call(v,f,d):w,d==null)break e;f=W({},f,d);break e;case 2:pt=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,d=i.effects,d===null?i.effects=[l]:d.push(l))}else v={eventTime:v,lane:d,tag:l.tag,payload:l.payload,callback:l.callback,next:null},c===null?(u=c=v,a=f):c=c.next=v,o|=d;if(l=l.next,l===null){if(l=i.shared.pending,l===null)break;d=l,l=d.next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}while(!0);if(c===null&&(a=f),i.baseState=a,i.firstBaseUpdate=u,i.lastBaseUpdate=c,t=i.shared.interleaved,t!==null){i=t;do o|=i.lane,i=i.next;while(i!==t)}else s===null&&(i.shared.lanes=0);Xt|=o,e.lanes=o,e.memoizedState=f}}function Za(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(x(191,i));i.call(r)}}}var Wr={},Xe=Rt(Wr),Pr=Rt(Wr),Ir=Rt(Wr);function Gt(e){if(e===Wr)throw Error(x(174));return e}function Fl(e,t){switch(D(Ir,t),D(Pr,e),D(Xe,Wr),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:xo(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=xo(t,e)}z(Xe),D(Xe,t)}function $n(){z(Xe),z(Pr),z(Ir)}function kd(e){Gt(Ir.current);var t=Gt(Xe.current),n=xo(t,e.type);t!==n&&(D(Pr,e),D(Xe,n))}function Bl(e){Pr.current===e&&(z(Xe),z(Pr))}var B=Rt(0);function Ji(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Qs=[];function Hl(){for(var e=0;e<Qs.length;e++)Qs[e]._workInProgressVersionPrimary=null;Qs.length=0}var ji=ct.ReactCurrentDispatcher,Ys=ct.ReactCurrentBatchConfig,Yt=0,V=null,Y=null,te=null,Qi=!1,hr=!1,Rr=0,Wp=0;function le(){throw Error(x(321))}function Vl(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!qe(e[n],t[n]))return!1;return!0}function Wl(e,t,n,r,i,s){if(Yt=s,V=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ji.current=e===null||e.memoizedState===null?Jp:Qp,e=n(r,i),hr){s=0;do{if(hr=!1,Rr=0,25<=s)throw Error(x(301));s+=1,te=Y=null,t.updateQueue=null,ji.current=Yp,e=n(r,i)}while(hr)}if(ji.current=Yi,t=Y!==null&&Y.next!==null,Yt=0,te=Y=V=null,Qi=!1,t)throw Error(x(300));return e}function Gl(){var e=Rr!==0;return Rr=0,e}function Je(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return te===null?V.memoizedState=te=e:te=te.next=e,te}function $e(){if(Y===null){var e=V.alternate;e=e!==null?e.memoizedState:null}else e=Y.next;var t=te===null?V.memoizedState:te.next;if(t!==null)te=t,Y=e;else{if(e===null)throw Error(x(310));Y=e,e={memoizedState:Y.memoizedState,baseState:Y.baseState,baseQueue:Y.baseQueue,queue:Y.queue,next:null},te===null?V.memoizedState=te=e:te=te.next=e}return te}function Lr(e,t){return typeof t=="function"?t(e):t}function Xs(e){var t=$e(),n=t.queue;if(n===null)throw Error(x(311));n.lastRenderedReducer=e;var r=Y,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var l=o=null,a=null,u=s;do{var c=u.lane;if((Yt&c)===c)a!==null&&(a=a.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var f={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};a===null?(l=a=f,o=r):a=a.next=f,V.lanes|=c,Xt|=c}u=u.next}while(u!==null&&u!==s);a===null?o=r:a.next=l,qe(r,t.memoizedState)||(_e=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=a,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do s=i.lane,V.lanes|=s,Xt|=s,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Zs(e){var t=$e(),n=t.queue;if(n===null)throw Error(x(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,s=t.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=e(s,o.action),o=o.next;while(o!==i);qe(s,t.memoizedState)||(_e=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function Sd(){}function Ed(e,t){var n=V,r=$e(),i=t(),s=!qe(r.memoizedState,i);if(s&&(r.memoizedState=i,_e=!0),r=r.queue,ql(Td.bind(null,n,r,e),[e]),r.getSnapshot!==t||s||te!==null&&te.memoizedState.tag&1){if(n.flags|=2048,$r(9,jd.bind(null,n,r,i,t),void 0,null),ne===null)throw Error(x(349));Yt&30||Cd(n,t,i)}return i}function Cd(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=V.updateQueue,t===null?(t={lastEffect:null,stores:null},V.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function jd(e,t,n,r){t.value=n,t.getSnapshot=r,bd(t)&&Nd(e)}function Td(e,t,n){return n(function(){bd(t)&&Nd(e)})}function bd(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!qe(e,n)}catch{return!0}}function Nd(e){var t=at(e,1);t!==null&&Ge(t,e,1,-1)}function eu(e){var t=Je();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Lr,lastRenderedState:e},t.queue=e,e=e.dispatch=Kp.bind(null,V,e),[t.memoizedState,e]}function $r(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=V.updateQueue,t===null?(t={lastEffect:null,stores:null},V.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function Ad(){return $e().memoizedState}function Ti(e,t,n,r){var i=Je();V.flags|=e,i.memoizedState=$r(1|t,n,void 0,r===void 0?null:r)}function hs(e,t,n,r){var i=$e();r=r===void 0?null:r;var s=void 0;if(Y!==null){var o=Y.memoizedState;if(s=o.destroy,r!==null&&Vl(r,o.deps)){i.memoizedState=$r(t,n,s,r);return}}V.flags|=e,i.memoizedState=$r(1|t,n,s,r)}function tu(e,t){return Ti(8390656,8,e,t)}function ql(e,t){return hs(2048,8,e,t)}function Od(e,t){return hs(4,2,e,t)}function Pd(e,t){return hs(4,4,e,t)}function Id(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Rd(e,t,n){return n=n!=null?n.concat([e]):null,hs(4,4,Id.bind(null,t,e),n)}function Kl(){}function Ld(e,t){var n=$e();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Vl(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function $d(e,t){var n=$e();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Vl(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Ud(e,t,n){return Yt&21?(qe(n,t)||(n=Bc(),V.lanes|=n,Xt|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,_e=!0),e.memoizedState=n)}function Gp(e,t){var n=$;$=n!==0&&4>n?n:4,e(!0);var r=Ys.transition;Ys.transition={};try{e(!1),t()}finally{$=n,Ys.transition=r}}function Dd(){return $e().memoizedState}function qp(e,t,n){var r=bt(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Md(e))zd(t,n);else if(n=_d(e,t,n,r),n!==null){var i=fe();Ge(n,e,r,i),Fd(n,t,r)}}function Kp(e,t,n){var r=bt(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Md(e))zd(t,i);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var o=t.lastRenderedState,l=s(o,n);if(i.hasEagerState=!0,i.eagerState=l,qe(l,o)){var a=t.interleaved;a===null?(i.next=i,Ml(t)):(i.next=a.next,a.next=i),t.interleaved=i;return}}catch{}finally{}n=_d(e,t,i,r),n!==null&&(i=fe(),Ge(n,e,r,i),Fd(n,t,r))}}function Md(e){var t=e.alternate;return e===V||t!==null&&t===V}function zd(e,t){hr=Qi=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Fd(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Cl(e,n)}}var Yi={readContext:Le,useCallback:le,useContext:le,useEffect:le,useImperativeHandle:le,useInsertionEffect:le,useLayoutEffect:le,useMemo:le,useReducer:le,useRef:le,useState:le,useDebugValue:le,useDeferredValue:le,useTransition:le,useMutableSource:le,useSyncExternalStore:le,useId:le,unstable_isNewReconciler:!1},Jp={readContext:Le,useCallback:function(e,t){return Je().memoizedState=[e,t===void 0?null:t],e},useContext:Le,useEffect:tu,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Ti(4194308,4,Id.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ti(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ti(4,2,e,t)},useMemo:function(e,t){var n=Je();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Je();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=qp.bind(null,V,e),[r.memoizedState,e]},useRef:function(e){var t=Je();return e={current:e},t.memoizedState=e},useState:eu,useDebugValue:Kl,useDeferredValue:function(e){return Je().memoizedState=e},useTransition:function(){var e=eu(!1),t=e[0];return e=Gp.bind(null,e[1]),Je().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=V,i=Je();if(F){if(n===void 0)throw Error(x(407));n=n()}else{if(n=t(),ne===null)throw Error(x(349));Yt&30||Cd(r,t,n)}i.memoizedState=n;var s={value:n,getSnapshot:t};return i.queue=s,tu(Td.bind(null,r,s,e),[e]),r.flags|=2048,$r(9,jd.bind(null,r,s,n,t),void 0,null),n},useId:function(){var e=Je(),t=ne.identifierPrefix;if(F){var n=it,r=rt;n=(r&~(1<<32-We(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Rr++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=Wp++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Qp={readContext:Le,useCallback:Ld,useContext:Le,useEffect:ql,useImperativeHandle:Rd,useInsertionEffect:Od,useLayoutEffect:Pd,useMemo:$d,useReducer:Xs,useRef:Ad,useState:function(){return Xs(Lr)},useDebugValue:Kl,useDeferredValue:function(e){var t=$e();return Ud(t,Y.memoizedState,e)},useTransition:function(){var e=Xs(Lr)[0],t=$e().memoizedState;return[e,t]},useMutableSource:Sd,useSyncExternalStore:Ed,useId:Dd,unstable_isNewReconciler:!1},Yp={readContext:Le,useCallback:Ld,useContext:Le,useEffect:ql,useImperativeHandle:Rd,useInsertionEffect:Od,useLayoutEffect:Pd,useMemo:$d,useReducer:Zs,useRef:Ad,useState:function(){return Zs(Lr)},useDebugValue:Kl,useDeferredValue:function(e){var t=$e();return Y===null?t.memoizedState=e:Ud(t,Y.memoizedState,e)},useTransition:function(){var e=Zs(Lr)[0],t=$e().memoizedState;return[e,t]},useMutableSource:Sd,useSyncExternalStore:Ed,useId:Dd,unstable_isNewReconciler:!1};function Fe(e,t){if(e&&e.defaultProps){t=W({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Bo(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:W({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var fs={isMounted:function(e){return(e=e._reactInternals)?nn(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=fe(),i=bt(e),s=st(r,i);s.payload=t,n!=null&&(s.callback=n),t=jt(e,s,i),t!==null&&(Ge(t,e,i,r),Ci(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=fe(),i=bt(e),s=st(r,i);s.tag=1,s.payload=t,n!=null&&(s.callback=n),t=jt(e,s,i),t!==null&&(Ge(t,e,i,r),Ci(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=fe(),r=bt(e),i=st(n,r);i.tag=2,t!=null&&(i.callback=t),t=jt(e,i,r),t!==null&&(Ge(t,e,r,n),Ci(t,e,r))}};function nu(e,t,n,r,i,s,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,s,o):t.prototype&&t.prototype.isPureReactComponent?!br(n,r)||!br(i,s):!0}function Bd(e,t,n){var r=!1,i=Pt,s=t.contextType;return typeof s=="object"&&s!==null?s=Le(s):(i=ke(t)?Jt:ce.current,r=t.contextTypes,s=(r=r!=null)?In(e,i):Pt),t=new t(n,s),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=fs,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=s),t}function ru(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&fs.enqueueReplaceState(t,t.state,null)}function Ho(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},zl(e);var s=t.contextType;typeof s=="object"&&s!==null?i.context=Le(s):(s=ke(t)?Jt:ce.current,i.context=In(e,s)),i.state=e.memoizedState,s=t.getDerivedStateFromProps,typeof s=="function"&&(Bo(e,t,s,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&fs.enqueueReplaceState(i,i.state,null),Ki(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function Un(e,t){try{var n="",r=t;do n+=Cf(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:e,source:t,stack:i,digest:null}}function eo(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Vo(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var Xp=typeof WeakMap=="function"?WeakMap:Map;function Hd(e,t,n){n=st(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Zi||(Zi=!0,el=r),Vo(e,t)},n}function Vd(e,t,n){n=st(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){Vo(e,t)}}var s=e.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){Vo(e,t),typeof r!="function"&&(Tt===null?Tt=new Set([this]):Tt.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function iu(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new Xp;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=hm.bind(null,e,t,n),t.then(e,e))}function su(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function ou(e,t,n,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=st(-1,1),t.tag=2,jt(n,t,1))),n.lanes|=1),e)}var Zp=ct.ReactCurrentOwner,_e=!1;function he(e,t,n,r){t.child=e===null?wd(t,null,n,r):Ln(t,e.child,n,r)}function lu(e,t,n,r,i){n=n.render;var s=t.ref;return Nn(t,i),r=Wl(e,t,n,r,s,i),n=Gl(),e!==null&&!_e?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,ut(e,t,i)):(F&&n&&Il(t),t.flags|=1,he(e,t,r,i),t.child)}function au(e,t,n,r,i){if(e===null){var s=n.type;return typeof s=="function"&&!na(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=s,Wd(e,t,s,r,i)):(e=Oi(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!(e.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:br,n(o,r)&&e.ref===t.ref)return ut(e,t,i)}return t.flags|=1,e=Nt(s,r),e.ref=t.ref,e.return=t,t.child=e}function Wd(e,t,n,r,i){if(e!==null){var s=e.memoizedProps;if(br(s,r)&&e.ref===t.ref)if(_e=!1,t.pendingProps=r=s,(e.lanes&i)!==0)e.flags&131072&&(_e=!0);else return t.lanes=e.lanes,ut(e,t,i)}return Wo(e,t,n,r,i)}function Gd(e,t,n){var r=t.pendingProps,i=r.children,s=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},D(Sn,Ee),Ee|=n;else{if(!(n&1073741824))return e=s!==null?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,D(Sn,Ee),Ee|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,D(Sn,Ee),Ee|=r}else s!==null?(r=s.baseLanes|n,t.memoizedState=null):r=n,D(Sn,Ee),Ee|=r;return he(e,t,i,n),t.child}function qd(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Wo(e,t,n,r,i){var s=ke(n)?Jt:ce.current;return s=In(t,s),Nn(t,i),n=Wl(e,t,n,r,s,i),r=Gl(),e!==null&&!_e?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,ut(e,t,i)):(F&&r&&Il(t),t.flags|=1,he(e,t,n,i),t.child)}function uu(e,t,n,r,i){if(ke(n)){var s=!0;Hi(t)}else s=!1;if(Nn(t,i),t.stateNode===null)bi(e,t),Bd(t,n,r),Ho(t,n,r,i),r=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var a=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=Le(u):(u=ke(n)?Jt:ce.current,u=In(t,u));var c=n.getDerivedStateFromProps,f=typeof c=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==r||a!==u)&&ru(t,o,r,u),pt=!1;var d=t.memoizedState;o.state=d,Ki(t,r,o,i),a=t.memoizedState,l!==r||d!==a||xe.current||pt?(typeof c=="function"&&(Bo(t,n,c,r),a=t.memoizedState),(l=pt||nu(t,n,l,r,d,a,u))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=a),o.props=r,o.state=a,o.context=u,r=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,xd(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:Fe(t.type,l),o.props=u,f=t.pendingProps,d=o.context,a=n.contextType,typeof a=="object"&&a!==null?a=Le(a):(a=ke(n)?Jt:ce.current,a=In(t,a));var v=n.getDerivedStateFromProps;(c=typeof v=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==f||d!==a)&&ru(t,o,r,a),pt=!1,d=t.memoizedState,o.state=d,Ki(t,r,o,i);var w=t.memoizedState;l!==f||d!==w||xe.current||pt?(typeof v=="function"&&(Bo(t,n,v,r),w=t.memoizedState),(u=pt||nu(t,n,u,r,d,w,a)||!1)?(c||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,w,a),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,w,a)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=w),o.props=r,o.state=w,o.context=a,r=u):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),r=!1)}return Go(e,t,n,r,s,i)}function Go(e,t,n,r,i,s){qd(e,t);var o=(t.flags&128)!==0;if(!r&&!o)return i&&Ka(t,n,!1),ut(e,t,s);r=t.stateNode,Zp.current=t;var l=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&o?(t.child=Ln(t,e.child,null,s),t.child=Ln(t,null,l,s)):he(e,t,l,s),t.memoizedState=r.state,i&&Ka(t,n,!0),t.child}function Kd(e){var t=e.stateNode;t.pendingContext?qa(e,t.pendingContext,t.pendingContext!==t.context):t.context&&qa(e,t.context,!1),Fl(e,t.containerInfo)}function cu(e,t,n,r,i){return Rn(),Ll(i),t.flags|=256,he(e,t,n,r),t.child}var qo={dehydrated:null,treeContext:null,retryLane:0};function Ko(e){return{baseLanes:e,cachePool:null,transitions:null}}function Jd(e,t,n){var r=t.pendingProps,i=B.current,s=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(i&2)!==0),l?(s=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),D(B,i&1),e===null)return zo(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=r.children,e=r.fallback,s?(r=t.mode,s=t.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=gs(o,r,0,null),e=Kt(e,r,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Ko(n),t.memoizedState=qo,e):Jl(t,o));if(i=e.memoizedState,i!==null&&(l=i.dehydrated,l!==null))return em(e,t,o,r,l,i,n);if(s){s=r.fallback,o=t.mode,i=e.child,l=i.sibling;var a={mode:"hidden",children:r.children};return!(o&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=a,t.deletions=null):(r=Nt(i,a),r.subtreeFlags=i.subtreeFlags&14680064),l!==null?s=Nt(l,s):(s=Kt(s,o,n,null),s.flags|=2),s.return=t,r.return=t,r.sibling=s,t.child=r,r=s,s=t.child,o=e.child.memoizedState,o=o===null?Ko(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=e.childLanes&~n,t.memoizedState=qo,r}return s=e.child,e=s.sibling,r=Nt(s,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Jl(e,t){return t=gs({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function di(e,t,n,r){return r!==null&&Ll(r),Ln(t,e.child,null,n),e=Jl(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function em(e,t,n,r,i,s,o){if(n)return t.flags&256?(t.flags&=-257,r=eo(Error(x(422))),di(e,t,o,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(s=r.fallback,i=t.mode,r=gs({mode:"visible",children:r.children},i,0,null),s=Kt(s,i,o,null),s.flags|=2,r.return=t,s.return=t,r.sibling=s,t.child=r,t.mode&1&&Ln(t,e.child,null,o),t.child.memoizedState=Ko(o),t.memoizedState=qo,s);if(!(t.mode&1))return di(e,t,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var l=r.dgst;return r=l,s=Error(x(419)),r=eo(s,r,void 0),di(e,t,o,r)}if(l=(o&e.childLanes)!==0,_e||l){if(r=ne,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,at(e,i),Ge(r,e,i,-1))}return ta(),r=eo(Error(x(421))),di(e,t,o,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=fm.bind(null,e),i._reactRetry=t,null):(e=s.treeContext,Ce=Ct(i.nextSibling),je=t,F=!0,Ve=null,e!==null&&(Ae[Oe++]=rt,Ae[Oe++]=it,Ae[Oe++]=Qt,rt=e.id,it=e.overflow,Qt=t),t=Jl(t,r.children),t.flags|=4096,t)}function du(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Fo(e.return,t,n)}function to(e,t,n,r,i){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function Qd(e,t,n){var r=t.pendingProps,i=r.revealOrder,s=r.tail;if(he(e,t,r.children,n),r=B.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&du(e,n,t);else if(e.tag===19)du(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(D(B,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&Ji(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),to(t,!1,i,n,s);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&Ji(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}to(t,!0,n,null,s);break;case"together":to(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function bi(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function ut(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Xt|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(x(153));if(t.child!==null){for(e=t.child,n=Nt(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Nt(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function tm(e,t,n){switch(t.tag){case 3:Kd(t),Rn();break;case 5:kd(t);break;case 1:ke(t.type)&&Hi(t);break;case 4:Fl(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;D(Gi,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(D(B,B.current&1),t.flags|=128,null):n&t.child.childLanes?Jd(e,t,n):(D(B,B.current&1),e=ut(e,t,n),e!==null?e.sibling:null);D(B,B.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return Qd(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),D(B,B.current),r)break;return null;case 22:case 23:return t.lanes=0,Gd(e,t,n)}return ut(e,t,n)}var Yd,Jo,Xd,Zd;Yd=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Jo=function(){};Xd=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,Gt(Xe.current);var s=null;switch(n){case"input":i=vo(e,i),r=vo(e,r),s=[];break;case"select":i=W({},i,{value:void 0}),r=W({},r,{value:void 0}),s=[];break;case"textarea":i=_o(e,i),r=_o(e,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Fi)}ko(n,r);var o;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var l=i[u];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(xr.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var a=r[u];if(l=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&a!==l&&(a!=null||l!=null))if(u==="style")if(l){for(o in l)!l.hasOwnProperty(o)||a&&a.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in a)a.hasOwnProperty(o)&&l[o]!==a[o]&&(n||(n={}),n[o]=a[o])}else n||(s||(s=[]),s.push(u,n)),n=a;else u==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,l=l?l.__html:void 0,a!=null&&l!==a&&(s=s||[]).push(u,a)):u==="children"?typeof a!="string"&&typeof a!="number"||(s=s||[]).push(u,""+a):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(xr.hasOwnProperty(u)?(a!=null&&u==="onScroll"&&M("scroll",e),s||l===a||(s=[])):(s=s||[]).push(u,a))}n&&(s=s||[]).push("style",n);var u=s;(t.updateQueue=u)&&(t.flags|=4)}};Zd=function(e,t,n,r){n!==r&&(t.flags|=4)};function Zn(e,t){if(!F)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function ae(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function nm(e,t,n){var r=t.pendingProps;switch(Rl(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ae(t),null;case 1:return ke(t.type)&&Bi(),ae(t),null;case 3:return r=t.stateNode,$n(),z(xe),z(ce),Hl(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(ui(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Ve!==null&&(rl(Ve),Ve=null))),Jo(e,t),ae(t),null;case 5:Bl(t);var i=Gt(Ir.current);if(n=t.type,e!==null&&t.stateNode!=null)Xd(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(x(166));return ae(t),null}if(e=Gt(Xe.current),ui(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[Qe]=t,r[Or]=s,e=(t.mode&1)!==0,n){case"dialog":M("cancel",r),M("close",r);break;case"iframe":case"object":case"embed":M("load",r);break;case"video":case"audio":for(i=0;i<sr.length;i++)M(sr[i],r);break;case"source":M("error",r);break;case"img":case"image":case"link":M("error",r),M("load",r);break;case"details":M("toggle",r);break;case"input":_a(r,s),M("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},M("invalid",r);break;case"textarea":ka(r,s),M("invalid",r)}ko(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var l=s[o];o==="children"?typeof l=="string"?r.textContent!==l&&(s.suppressHydrationWarning!==!0&&ai(r.textContent,l,e),i=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(s.suppressHydrationWarning!==!0&&ai(r.textContent,l,e),i=["children",""+l]):xr.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&M("scroll",r)}switch(n){case"input":ei(r),xa(r,s,!0);break;case"textarea":ei(r),Sa(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=Fi)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Tc(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=o.createElement(n,{is:r.is}):(e=o.createElement(n),n==="select"&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,n),e[Qe]=t,e[Or]=r,Yd(e,t,!1,!1),t.stateNode=e;e:{switch(o=So(n,r),n){case"dialog":M("cancel",e),M("close",e),i=r;break;case"iframe":case"object":case"embed":M("load",e),i=r;break;case"video":case"audio":for(i=0;i<sr.length;i++)M(sr[i],e);i=r;break;case"source":M("error",e),i=r;break;case"img":case"image":case"link":M("error",e),M("load",e),i=r;break;case"details":M("toggle",e),i=r;break;case"input":_a(e,r),i=vo(e,r),M("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=W({},r,{value:void 0}),M("invalid",e);break;case"textarea":ka(e,r),i=_o(e,r),M("invalid",e);break;default:i=r}ko(n,i),l=i;for(s in l)if(l.hasOwnProperty(s)){var a=l[s];s==="style"?Ac(e,a):s==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,a!=null&&bc(e,a)):s==="children"?typeof a=="string"?(n!=="textarea"||a!=="")&&kr(e,a):typeof a=="number"&&kr(e,""+a):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(xr.hasOwnProperty(s)?a!=null&&s==="onScroll"&&M("scroll",e):a!=null&&wl(e,s,a,o))}switch(n){case"input":ei(e),xa(e,r,!1);break;case"textarea":ei(e),Sa(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Ot(r.value));break;case"select":e.multiple=!!r.multiple,s=r.value,s!=null?Cn(e,!!r.multiple,s,!1):r.defaultValue!=null&&Cn(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=Fi)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return ae(t),null;case 6:if(e&&t.stateNode!=null)Zd(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(x(166));if(n=Gt(Ir.current),Gt(Xe.current),ui(t)){if(r=t.stateNode,n=t.memoizedProps,r[Qe]=t,(s=r.nodeValue!==n)&&(e=je,e!==null))switch(e.tag){case 3:ai(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&ai(r.nodeValue,n,(e.mode&1)!==0)}s&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Qe]=t,t.stateNode=r}return ae(t),null;case 13:if(z(B),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(F&&Ce!==null&&t.mode&1&&!(t.flags&128))vd(),Rn(),t.flags|=98560,s=!1;else if(s=ui(t),r!==null&&r.dehydrated!==null){if(e===null){if(!s)throw Error(x(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(x(317));s[Qe]=t}else Rn(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;ae(t),s=!1}else Ve!==null&&(rl(Ve),Ve=null),s=!0;if(!s)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||B.current&1?X===0&&(X=3):ta())),t.updateQueue!==null&&(t.flags|=4),ae(t),null);case 4:return $n(),Jo(e,t),e===null&&Nr(t.stateNode.containerInfo),ae(t),null;case 10:return Dl(t.type._context),ae(t),null;case 17:return ke(t.type)&&Bi(),ae(t),null;case 19:if(z(B),s=t.memoizedState,s===null)return ae(t),null;if(r=(t.flags&128)!==0,o=s.rendering,o===null)if(r)Zn(s,!1);else{if(X!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=Ji(e),o!==null){for(t.flags|=128,Zn(s,!1),r=o.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)s=n,e=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,e=o.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return D(B,B.current&1|2),t.child}e=e.sibling}s.tail!==null&&J()>Dn&&(t.flags|=128,r=!0,Zn(s,!1),t.lanes=4194304)}else{if(!r)if(e=Ji(o),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Zn(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!F)return ae(t),null}else 2*J()-s.renderingStartTime>Dn&&n!==1073741824&&(t.flags|=128,r=!0,Zn(s,!1),t.lanes=4194304);s.isBackwards?(o.sibling=t.child,t.child=o):(n=s.last,n!==null?n.sibling=o:t.child=o,s.last=o)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=J(),t.sibling=null,n=B.current,D(B,r?n&1|2:n&1),t):(ae(t),null);case 22:case 23:return ea(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Ee&1073741824&&(ae(t),t.subtreeFlags&6&&(t.flags|=8192)):ae(t),null;case 24:return null;case 25:return null}throw Error(x(156,t.tag))}function rm(e,t){switch(Rl(t),t.tag){case 1:return ke(t.type)&&Bi(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return $n(),z(xe),z(ce),Hl(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Bl(t),null;case 13:if(z(B),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(x(340));Rn()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return z(B),null;case 4:return $n(),null;case 10:return Dl(t.type._context),null;case 22:case 23:return ea(),null;case 24:return null;default:return null}}var hi=!1,ue=!1,im=typeof WeakSet=="function"?WeakSet:Set,j=null;function kn(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){G(e,t,r)}else n.current=null}function Qo(e,t,n){try{n()}catch(r){G(e,t,r)}}var hu=!1;function sm(e,t){if(Io=Di,e=id(),Pl(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,l=-1,a=-1,u=0,c=0,f=e,d=null;t:for(;;){for(var v;f!==n||i!==0&&f.nodeType!==3||(l=o+i),f!==s||r!==0&&f.nodeType!==3||(a=o+r),f.nodeType===3&&(o+=f.nodeValue.length),(v=f.firstChild)!==null;)d=f,f=v;for(;;){if(f===e)break t;if(d===n&&++u===i&&(l=o),d===s&&++c===r&&(a=o),(v=f.nextSibling)!==null)break;f=d,d=f.parentNode}f=v}n=l===-1||a===-1?null:{start:l,end:a}}else n=null}n=n||{start:0,end:0}}else n=null;for(Ro={focusedElem:e,selectionRange:n},Di=!1,j=t;j!==null;)if(t=j,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,j=e;else for(;j!==null;){t=j;try{var w=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(w!==null){var _=w.memoizedProps,C=w.memoizedState,g=t.stateNode,p=g.getSnapshotBeforeUpdate(t.elementType===t.type?_:Fe(t.type,_),C);g.__reactInternalSnapshotBeforeUpdate=p}break;case 3:var m=t.stateNode.containerInfo;m.nodeType===1?m.textContent="":m.nodeType===9&&m.documentElement&&m.removeChild(m.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(x(163))}}catch(y){G(t,t.return,y)}if(e=t.sibling,e!==null){e.return=t.return,j=e;break}j=t.return}return w=hu,hu=!1,w}function fr(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var s=i.destroy;i.destroy=void 0,s!==void 0&&Qo(t,n,s)}i=i.next}while(i!==r)}}function ps(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Yo(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function eh(e){var t=e.alternate;t!==null&&(e.alternate=null,eh(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Qe],delete t[Or],delete t[Uo],delete t[Fp],delete t[Bp])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function th(e){return e.tag===5||e.tag===3||e.tag===4}function fu(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||th(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Xo(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Fi));else if(r!==4&&(e=e.child,e!==null))for(Xo(e,t,n),e=e.sibling;e!==null;)Xo(e,t,n),e=e.sibling}function Zo(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Zo(e,t,n),e=e.sibling;e!==null;)Zo(e,t,n),e=e.sibling}var ie=null,Be=!1;function dt(e,t,n){for(n=n.child;n!==null;)nh(e,t,n),n=n.sibling}function nh(e,t,n){if(Ye&&typeof Ye.onCommitFiberUnmount=="function")try{Ye.onCommitFiberUnmount(os,n)}catch{}switch(n.tag){case 5:ue||kn(n,t);case 6:var r=ie,i=Be;ie=null,dt(e,t,n),ie=r,Be=i,ie!==null&&(Be?(e=ie,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):ie.removeChild(n.stateNode));break;case 18:ie!==null&&(Be?(e=ie,n=n.stateNode,e.nodeType===8?Ks(e.parentNode,n):e.nodeType===1&&Ks(e,n),jr(e)):Ks(ie,n.stateNode));break;case 4:r=ie,i=Be,ie=n.stateNode.containerInfo,Be=!0,dt(e,t,n),ie=r,Be=i;break;case 0:case 11:case 14:case 15:if(!ue&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&Qo(n,t,o),i=i.next}while(i!==r)}dt(e,t,n);break;case 1:if(!ue&&(kn(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){G(n,t,l)}dt(e,t,n);break;case 21:dt(e,t,n);break;case 22:n.mode&1?(ue=(r=ue)||n.memoizedState!==null,dt(e,t,n),ue=r):dt(e,t,n);break;default:dt(e,t,n)}}function pu(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new im),t.forEach(function(r){var i=pm.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Me(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:ie=l.stateNode,Be=!1;break e;case 3:ie=l.stateNode.containerInfo,Be=!0;break e;case 4:ie=l.stateNode.containerInfo,Be=!0;break e}l=l.return}if(ie===null)throw Error(x(160));nh(s,o,i),ie=null,Be=!1;var a=i.alternate;a!==null&&(a.return=null),i.return=null}catch(u){G(i,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)rh(t,e),t=t.sibling}function rh(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Me(t,e),Ke(e),r&4){try{fr(3,e,e.return),ps(3,e)}catch(_){G(e,e.return,_)}try{fr(5,e,e.return)}catch(_){G(e,e.return,_)}}break;case 1:Me(t,e),Ke(e),r&512&&n!==null&&kn(n,n.return);break;case 5:if(Me(t,e),Ke(e),r&512&&n!==null&&kn(n,n.return),e.flags&32){var i=e.stateNode;try{kr(i,"")}catch(_){G(e,e.return,_)}}if(r&4&&(i=e.stateNode,i!=null)){var s=e.memoizedProps,o=n!==null?n.memoizedProps:s,l=e.type,a=e.updateQueue;if(e.updateQueue=null,a!==null)try{l==="input"&&s.type==="radio"&&s.name!=null&&Cc(i,s),So(l,o);var u=So(l,s);for(o=0;o<a.length;o+=2){var c=a[o],f=a[o+1];c==="style"?Ac(i,f):c==="dangerouslySetInnerHTML"?bc(i,f):c==="children"?kr(i,f):wl(i,c,f,u)}switch(l){case"input":yo(i,s);break;case"textarea":jc(i,s);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var v=s.value;v!=null?Cn(i,!!s.multiple,v,!1):d!==!!s.multiple&&(s.defaultValue!=null?Cn(i,!!s.multiple,s.defaultValue,!0):Cn(i,!!s.multiple,s.multiple?[]:"",!1))}i[Or]=s}catch(_){G(e,e.return,_)}}break;case 6:if(Me(t,e),Ke(e),r&4){if(e.stateNode===null)throw Error(x(162));i=e.stateNode,s=e.memoizedProps;try{i.nodeValue=s}catch(_){G(e,e.return,_)}}break;case 3:if(Me(t,e),Ke(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{jr(t.containerInfo)}catch(_){G(e,e.return,_)}break;case 4:Me(t,e),Ke(e);break;case 13:Me(t,e),Ke(e),i=e.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(Xl=J())),r&4&&pu(e);break;case 22:if(c=n!==null&&n.memoizedState!==null,e.mode&1?(ue=(u=ue)||c,Me(t,e),ue=u):Me(t,e),Ke(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!c&&e.mode&1)for(j=e,c=e.child;c!==null;){for(f=j=c;j!==null;){switch(d=j,v=d.child,d.tag){case 0:case 11:case 14:case 15:fr(4,d,d.return);break;case 1:kn(d,d.return);var w=d.stateNode;if(typeof w.componentWillUnmount=="function"){r=d,n=d.return;try{t=r,w.props=t.memoizedProps,w.state=t.memoizedState,w.componentWillUnmount()}catch(_){G(r,n,_)}}break;case 5:kn(d,d.return);break;case 22:if(d.memoizedState!==null){gu(f);continue}}v!==null?(v.return=d,j=v):gu(f)}c=c.sibling}e:for(c=null,f=e;;){if(f.tag===5){if(c===null){c=f;try{i=f.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(l=f.stateNode,a=f.memoizedProps.style,o=a!=null&&a.hasOwnProperty("display")?a.display:null,l.style.display=Nc("display",o))}catch(_){G(e,e.return,_)}}}else if(f.tag===6){if(c===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(_){G(e,e.return,_)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;c===f&&(c=null),f=f.return}c===f&&(c=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Me(t,e),Ke(e),r&4&&pu(e);break;case 21:break;default:Me(t,e),Ke(e)}}function Ke(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(th(n)){var r=n;break e}n=n.return}throw Error(x(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(kr(i,""),r.flags&=-33);var s=fu(e);Zo(e,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,l=fu(e);Xo(e,l,o);break;default:throw Error(x(161))}}catch(a){G(e,e.return,a)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function om(e,t,n){j=e,ih(e)}function ih(e,t,n){for(var r=(e.mode&1)!==0;j!==null;){var i=j,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||hi;if(!o){var l=i.alternate,a=l!==null&&l.memoizedState!==null||ue;l=hi;var u=ue;if(hi=o,(ue=a)&&!u)for(j=i;j!==null;)o=j,a=o.child,o.tag===22&&o.memoizedState!==null?vu(i):a!==null?(a.return=o,j=a):vu(i);for(;s!==null;)j=s,ih(s),s=s.sibling;j=i,hi=l,ue=u}mu(e)}else i.subtreeFlags&8772&&s!==null?(s.return=i,j=s):mu(e)}}function mu(e){for(;j!==null;){var t=j;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:ue||ps(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!ue)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:Fe(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;s!==null&&Za(t,s,r);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Za(t,o,n)}break;case 5:var l=t.stateNode;if(n===null&&t.flags&4){n=l;var a=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":a.autoFocus&&n.focus();break;case"img":a.src&&(n.src=a.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var f=c.dehydrated;f!==null&&jr(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(x(163))}ue||t.flags&512&&Yo(t)}catch(d){G(t,t.return,d)}}if(t===e){j=null;break}if(n=t.sibling,n!==null){n.return=t.return,j=n;break}j=t.return}}function gu(e){for(;j!==null;){var t=j;if(t===e){j=null;break}var n=t.sibling;if(n!==null){n.return=t.return,j=n;break}j=t.return}}function vu(e){for(;j!==null;){var t=j;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{ps(4,t)}catch(a){G(t,n,a)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(a){G(t,i,a)}}var s=t.return;try{Yo(t)}catch(a){G(t,s,a)}break;case 5:var o=t.return;try{Yo(t)}catch(a){G(t,o,a)}}}catch(a){G(t,t.return,a)}if(t===e){j=null;break}var l=t.sibling;if(l!==null){l.return=t.return,j=l;break}j=t.return}}var lm=Math.ceil,Xi=ct.ReactCurrentDispatcher,Ql=ct.ReactCurrentOwner,Ie=ct.ReactCurrentBatchConfig,L=0,ne=null,Q=null,se=0,Ee=0,Sn=Rt(0),X=0,Ur=null,Xt=0,ms=0,Yl=0,pr=null,ve=null,Xl=0,Dn=1/0,et=null,Zi=!1,el=null,Tt=null,fi=!1,xt=null,es=0,mr=0,tl=null,Ni=-1,Ai=0;function fe(){return L&6?J():Ni!==-1?Ni:Ni=J()}function bt(e){return e.mode&1?L&2&&se!==0?se&-se:Vp.transition!==null?(Ai===0&&(Ai=Bc()),Ai):(e=$,e!==0||(e=window.event,e=e===void 0?16:Jc(e.type)),e):1}function Ge(e,t,n,r){if(50<mr)throw mr=0,tl=null,Error(x(185));Br(e,n,r),(!(L&2)||e!==ne)&&(e===ne&&(!(L&2)&&(ms|=n),X===4&&yt(e,se)),Se(e,r),n===1&&L===0&&!(t.mode&1)&&(Dn=J()+500,ds&&Lt()))}function Se(e,t){var n=e.callbackNode;Vf(e,t);var r=Ui(e,e===ne?se:0);if(r===0)n!==null&&ja(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&ja(n),t===1)e.tag===0?Hp(yu.bind(null,e)):pd(yu.bind(null,e)),Mp(function(){!(L&6)&&Lt()}),n=null;else{switch(Hc(r)){case 1:n=El;break;case 4:n=zc;break;case 16:n=$i;break;case 536870912:n=Fc;break;default:n=$i}n=hh(n,sh.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function sh(e,t){if(Ni=-1,Ai=0,L&6)throw Error(x(327));var n=e.callbackNode;if(An()&&e.callbackNode!==n)return null;var r=Ui(e,e===ne?se:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=ts(e,r);else{t=r;var i=L;L|=2;var s=lh();(ne!==e||se!==t)&&(et=null,Dn=J()+500,qt(e,t));do try{cm();break}catch(l){oh(e,l)}while(!0);Ul(),Xi.current=s,L=i,Q!==null?t=0:(ne=null,se=0,t=X)}if(t!==0){if(t===2&&(i=bo(e),i!==0&&(r=i,t=nl(e,i))),t===1)throw n=Ur,qt(e,0),yt(e,r),Se(e,J()),n;if(t===6)yt(e,r);else{if(i=e.current.alternate,!(r&30)&&!am(i)&&(t=ts(e,r),t===2&&(s=bo(e),s!==0&&(r=s,t=nl(e,s))),t===1))throw n=Ur,qt(e,0),yt(e,r),Se(e,J()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(x(345));case 2:Ft(e,ve,et);break;case 3:if(yt(e,r),(r&130023424)===r&&(t=Xl+500-J(),10<t)){if(Ui(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){fe(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=$o(Ft.bind(null,e,ve,et),t);break}Ft(e,ve,et);break;case 4:if(yt(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var o=31-We(r);s=1<<o,o=t[o],o>i&&(i=o),r&=~s}if(r=i,r=J()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*lm(r/1960))-r,10<r){e.timeoutHandle=$o(Ft.bind(null,e,ve,et),r);break}Ft(e,ve,et);break;case 5:Ft(e,ve,et);break;default:throw Error(x(329))}}}return Se(e,J()),e.callbackNode===n?sh.bind(null,e):null}function nl(e,t){var n=pr;return e.current.memoizedState.isDehydrated&&(qt(e,t).flags|=256),e=ts(e,t),e!==2&&(t=ve,ve=n,t!==null&&rl(t)),e}function rl(e){ve===null?ve=e:ve.push.apply(ve,e)}function am(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!qe(s(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function yt(e,t){for(t&=~Yl,t&=~ms,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-We(t),r=1<<n;e[n]=-1,t&=~r}}function yu(e){if(L&6)throw Error(x(327));An();var t=Ui(e,0);if(!(t&1))return Se(e,J()),null;var n=ts(e,t);if(e.tag!==0&&n===2){var r=bo(e);r!==0&&(t=r,n=nl(e,r))}if(n===1)throw n=Ur,qt(e,0),yt(e,t),Se(e,J()),n;if(n===6)throw Error(x(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Ft(e,ve,et),Se(e,J()),null}function Zl(e,t){var n=L;L|=1;try{return e(t)}finally{L=n,L===0&&(Dn=J()+500,ds&&Lt())}}function Zt(e){xt!==null&&xt.tag===0&&!(L&6)&&An();var t=L;L|=1;var n=Ie.transition,r=$;try{if(Ie.transition=null,$=1,e)return e()}finally{$=r,Ie.transition=n,L=t,!(L&6)&&Lt()}}function ea(){Ee=Sn.current,z(Sn)}function qt(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,Dp(n)),Q!==null)for(n=Q.return;n!==null;){var r=n;switch(Rl(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Bi();break;case 3:$n(),z(xe),z(ce),Hl();break;case 5:Bl(r);break;case 4:$n();break;case 13:z(B);break;case 19:z(B);break;case 10:Dl(r.type._context);break;case 22:case 23:ea()}n=n.return}if(ne=e,Q=e=Nt(e.current,null),se=Ee=t,X=0,Ur=null,Yl=ms=Xt=0,ve=pr=null,Wt!==null){for(t=0;t<Wt.length;t++)if(n=Wt[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}Wt=null}return e}function oh(e,t){do{var n=Q;try{if(Ul(),ji.current=Yi,Qi){for(var r=V.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Qi=!1}if(Yt=0,te=Y=V=null,hr=!1,Rr=0,Ql.current=null,n===null||n.return===null){X=1,Ur=t,Q=null;break}e:{var s=e,o=n.return,l=n,a=t;if(t=se,l.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){var u=a,c=l,f=c.tag;if(!(c.mode&1)&&(f===0||f===11||f===15)){var d=c.alternate;d?(c.updateQueue=d.updateQueue,c.memoizedState=d.memoizedState,c.lanes=d.lanes):(c.updateQueue=null,c.memoizedState=null)}var v=su(o);if(v!==null){v.flags&=-257,ou(v,o,l,s,t),v.mode&1&&iu(s,u,t),t=v,a=u;var w=t.updateQueue;if(w===null){var _=new Set;_.add(a),t.updateQueue=_}else w.add(a);break e}else{if(!(t&1)){iu(s,u,t),ta();break e}a=Error(x(426))}}else if(F&&l.mode&1){var C=su(o);if(C!==null){!(C.flags&65536)&&(C.flags|=256),ou(C,o,l,s,t),Ll(Un(a,l));break e}}s=a=Un(a,l),X!==4&&(X=2),pr===null?pr=[s]:pr.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t;var g=Hd(s,a,t);Xa(s,g);break e;case 1:l=a;var p=s.type,m=s.stateNode;if(!(s.flags&128)&&(typeof p.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(Tt===null||!Tt.has(m)))){s.flags|=65536,t&=-t,s.lanes|=t;var y=Vd(s,l,t);Xa(s,y);break e}}s=s.return}while(s!==null)}uh(n)}catch(k){t=k,Q===n&&n!==null&&(Q=n=n.return);continue}break}while(!0)}function lh(){var e=Xi.current;return Xi.current=Yi,e===null?Yi:e}function ta(){(X===0||X===3||X===2)&&(X=4),ne===null||!(Xt&268435455)&&!(ms&268435455)||yt(ne,se)}function ts(e,t){var n=L;L|=2;var r=lh();(ne!==e||se!==t)&&(et=null,qt(e,t));do try{um();break}catch(i){oh(e,i)}while(!0);if(Ul(),L=n,Xi.current=r,Q!==null)throw Error(x(261));return ne=null,se=0,X}function um(){for(;Q!==null;)ah(Q)}function cm(){for(;Q!==null&&!Lf();)ah(Q)}function ah(e){var t=dh(e.alternate,e,Ee);e.memoizedProps=e.pendingProps,t===null?uh(e):Q=t,Ql.current=null}function uh(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=rm(n,t),n!==null){n.flags&=32767,Q=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{X=6,Q=null;return}}else if(n=nm(n,t,Ee),n!==null){Q=n;return}if(t=t.sibling,t!==null){Q=t;return}Q=t=e}while(t!==null);X===0&&(X=5)}function Ft(e,t,n){var r=$,i=Ie.transition;try{Ie.transition=null,$=1,dm(e,t,n,r)}finally{Ie.transition=i,$=r}return null}function dm(e,t,n,r){do An();while(xt!==null);if(L&6)throw Error(x(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(x(177));e.callbackNode=null,e.callbackPriority=0;var s=n.lanes|n.childLanes;if(Wf(e,s),e===ne&&(Q=ne=null,se=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||fi||(fi=!0,hh($i,function(){return An(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=Ie.transition,Ie.transition=null;var o=$;$=1;var l=L;L|=4,Ql.current=null,sm(e,n),rh(n,e),Op(Ro),Di=!!Io,Ro=Io=null,e.current=n,om(n),$f(),L=l,$=o,Ie.transition=s}else e.current=n;if(fi&&(fi=!1,xt=e,es=i),s=e.pendingLanes,s===0&&(Tt=null),Mf(n.stateNode),Se(e,J()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Zi)throw Zi=!1,e=el,el=null,e;return es&1&&e.tag!==0&&An(),s=e.pendingLanes,s&1?e===tl?mr++:(mr=0,tl=e):mr=0,Lt(),null}function An(){if(xt!==null){var e=Hc(es),t=Ie.transition,n=$;try{if(Ie.transition=null,$=16>e?16:e,xt===null)var r=!1;else{if(e=xt,xt=null,es=0,L&6)throw Error(x(331));var i=L;for(L|=4,j=e.current;j!==null;){var s=j,o=s.child;if(j.flags&16){var l=s.deletions;if(l!==null){for(var a=0;a<l.length;a++){var u=l[a];for(j=u;j!==null;){var c=j;switch(c.tag){case 0:case 11:case 15:fr(8,c,s)}var f=c.child;if(f!==null)f.return=c,j=f;else for(;j!==null;){c=j;var d=c.sibling,v=c.return;if(eh(c),c===u){j=null;break}if(d!==null){d.return=v,j=d;break}j=v}}}var w=s.alternate;if(w!==null){var _=w.child;if(_!==null){w.child=null;do{var C=_.sibling;_.sibling=null,_=C}while(_!==null)}}j=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,j=o;else e:for(;j!==null;){if(s=j,s.flags&2048)switch(s.tag){case 0:case 11:case 15:fr(9,s,s.return)}var g=s.sibling;if(g!==null){g.return=s.return,j=g;break e}j=s.return}}var p=e.current;for(j=p;j!==null;){o=j;var m=o.child;if(o.subtreeFlags&2064&&m!==null)m.return=o,j=m;else e:for(o=p;j!==null;){if(l=j,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:ps(9,l)}}catch(k){G(l,l.return,k)}if(l===o){j=null;break e}var y=l.sibling;if(y!==null){y.return=l.return,j=y;break e}j=l.return}}if(L=i,Lt(),Ye&&typeof Ye.onPostCommitFiberRoot=="function")try{Ye.onPostCommitFiberRoot(os,e)}catch{}r=!0}return r}finally{$=n,Ie.transition=t}}return!1}function wu(e,t,n){t=Un(n,t),t=Hd(e,t,1),e=jt(e,t,1),t=fe(),e!==null&&(Br(e,1,t),Se(e,t))}function G(e,t,n){if(e.tag===3)wu(e,e,n);else for(;t!==null;){if(t.tag===3){wu(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Tt===null||!Tt.has(r))){e=Un(n,e),e=Vd(t,e,1),t=jt(t,e,1),e=fe(),t!==null&&(Br(t,1,e),Se(t,e));break}}t=t.return}}function hm(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=fe(),e.pingedLanes|=e.suspendedLanes&n,ne===e&&(se&n)===n&&(X===4||X===3&&(se&130023424)===se&&500>J()-Xl?qt(e,0):Yl|=n),Se(e,t)}function ch(e,t){t===0&&(e.mode&1?(t=ri,ri<<=1,!(ri&130023424)&&(ri=4194304)):t=1);var n=fe();e=at(e,t),e!==null&&(Br(e,t,n),Se(e,n))}function fm(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),ch(e,n)}function pm(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(x(314))}r!==null&&r.delete(t),ch(e,n)}var dh;dh=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||xe.current)_e=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return _e=!1,tm(e,t,n);_e=!!(e.flags&131072)}else _e=!1,F&&t.flags&1048576&&md(t,Wi,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;bi(e,t),e=t.pendingProps;var i=In(t,ce.current);Nn(t,n),i=Wl(null,t,r,e,i,n);var s=Gl();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,ke(r)?(s=!0,Hi(t)):s=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,zl(t),i.updater=fs,t.stateNode=i,i._reactInternals=t,Ho(t,r,e,n),t=Go(null,t,r,!0,s,n)):(t.tag=0,F&&s&&Il(t),he(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(bi(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=gm(r),e=Fe(r,e),i){case 0:t=Wo(null,t,r,e,n);break e;case 1:t=uu(null,t,r,e,n);break e;case 11:t=lu(null,t,r,e,n);break e;case 14:t=au(null,t,r,Fe(r.type,e),n);break e}throw Error(x(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Fe(r,i),Wo(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Fe(r,i),uu(e,t,r,i,n);case 3:e:{if(Kd(t),e===null)throw Error(x(387));r=t.pendingProps,s=t.memoizedState,i=s.element,xd(e,t),Ki(t,r,null,n);var o=t.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){i=Un(Error(x(423)),t),t=cu(e,t,r,n,i);break e}else if(r!==i){i=Un(Error(x(424)),t),t=cu(e,t,r,n,i);break e}else for(Ce=Ct(t.stateNode.containerInfo.firstChild),je=t,F=!0,Ve=null,n=wd(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Rn(),r===i){t=ut(e,t,n);break e}he(e,t,r,n)}t=t.child}return t;case 5:return kd(t),e===null&&zo(t),r=t.type,i=t.pendingProps,s=e!==null?e.memoizedProps:null,o=i.children,Lo(r,i)?o=null:s!==null&&Lo(r,s)&&(t.flags|=32),qd(e,t),he(e,t,o,n),t.child;case 6:return e===null&&zo(t),null;case 13:return Jd(e,t,n);case 4:return Fl(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Ln(t,null,r,n):he(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Fe(r,i),lu(e,t,r,i,n);case 7:return he(e,t,t.pendingProps,n),t.child;case 8:return he(e,t,t.pendingProps.children,n),t.child;case 12:return he(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,s=t.memoizedProps,o=i.value,D(Gi,r._currentValue),r._currentValue=o,s!==null)if(qe(s.value,o)){if(s.children===i.children&&!xe.current){t=ut(e,t,n);break e}}else for(s=t.child,s!==null&&(s.return=t);s!==null;){var l=s.dependencies;if(l!==null){o=s.child;for(var a=l.firstContext;a!==null;){if(a.context===r){if(s.tag===1){a=st(-1,n&-n),a.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?a.next=a:(a.next=c.next,c.next=a),u.pending=a}}s.lanes|=n,a=s.alternate,a!==null&&(a.lanes|=n),Fo(s.return,n,t),l.lanes|=n;break}a=a.next}}else if(s.tag===10)o=s.type===t.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(x(341));o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),Fo(o,n,t),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===t){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}he(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Nn(t,n),i=Le(i),r=r(i),t.flags|=1,he(e,t,r,n),t.child;case 14:return r=t.type,i=Fe(r,t.pendingProps),i=Fe(r.type,i),au(e,t,r,i,n);case 15:return Wd(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Fe(r,i),bi(e,t),t.tag=1,ke(r)?(e=!0,Hi(t)):e=!1,Nn(t,n),Bd(t,r,i),Ho(t,r,i,n),Go(null,t,r,!0,e,n);case 19:return Qd(e,t,n);case 22:return Gd(e,t,n)}throw Error(x(156,t.tag))};function hh(e,t){return Mc(e,t)}function mm(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Pe(e,t,n,r){return new mm(e,t,n,r)}function na(e){return e=e.prototype,!(!e||!e.isReactComponent)}function gm(e){if(typeof e=="function")return na(e)?1:0;if(e!=null){if(e=e.$$typeof,e===xl)return 11;if(e===kl)return 14}return 2}function Nt(e,t){var n=e.alternate;return n===null?(n=Pe(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Oi(e,t,n,r,i,s){var o=2;if(r=e,typeof e=="function")na(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case fn:return Kt(n.children,i,s,t);case _l:o=8,i|=8;break;case fo:return e=Pe(12,n,t,i|2),e.elementType=fo,e.lanes=s,e;case po:return e=Pe(13,n,t,i),e.elementType=po,e.lanes=s,e;case mo:return e=Pe(19,n,t,i),e.elementType=mo,e.lanes=s,e;case kc:return gs(n,i,s,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case _c:o=10;break e;case xc:o=9;break e;case xl:o=11;break e;case kl:o=14;break e;case ft:o=16,r=null;break e}throw Error(x(130,e==null?e:typeof e,""))}return t=Pe(o,n,t,i),t.elementType=e,t.type=r,t.lanes=s,t}function Kt(e,t,n,r){return e=Pe(7,e,r,t),e.lanes=n,e}function gs(e,t,n,r){return e=Pe(22,e,r,t),e.elementType=kc,e.lanes=n,e.stateNode={isHidden:!1},e}function no(e,t,n){return e=Pe(6,e,null,t),e.lanes=n,e}function ro(e,t,n){return t=Pe(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function vm(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Us(0),this.expirationTimes=Us(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Us(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function ra(e,t,n,r,i,s,o,l,a){return e=new vm(e,t,n,l,a),t===1?(t=1,s===!0&&(t|=8)):t=0,s=Pe(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},zl(s),e}function ym(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:hn,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function fh(e){if(!e)return Pt;e=e._reactInternals;e:{if(nn(e)!==e||e.tag!==1)throw Error(x(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(ke(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(x(171))}if(e.tag===1){var n=e.type;if(ke(n))return fd(e,n,t)}return t}function ph(e,t,n,r,i,s,o,l,a){return e=ra(n,r,!0,e,i,s,o,l,a),e.context=fh(null),n=e.current,r=fe(),i=bt(n),s=st(r,i),s.callback=t??null,jt(n,s,i),e.current.lanes=i,Br(e,i,r),Se(e,r),e}function vs(e,t,n,r){var i=t.current,s=fe(),o=bt(i);return n=fh(n),t.context===null?t.context=n:t.pendingContext=n,t=st(s,o),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=jt(i,t,o),e!==null&&(Ge(e,i,o,s),Ci(e,i,o)),o}function ns(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function _u(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function ia(e,t){_u(e,t),(e=e.alternate)&&_u(e,t)}function wm(){return null}var mh=typeof reportError=="function"?reportError:function(e){console.error(e)};function sa(e){this._internalRoot=e}ys.prototype.render=sa.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(x(409));vs(e,t,null,null)};ys.prototype.unmount=sa.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Zt(function(){vs(null,e,null,null)}),t[lt]=null}};function ys(e){this._internalRoot=e}ys.prototype.unstable_scheduleHydration=function(e){if(e){var t=Gc();e={blockedOn:null,target:e,priority:t};for(var n=0;n<vt.length&&t!==0&&t<vt[n].priority;n++);vt.splice(n,0,e),n===0&&Kc(e)}};function oa(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function ws(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function xu(){}function _m(e,t,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var u=ns(o);s.call(u)}}var o=ph(t,r,e,0,null,!1,!1,"",xu);return e._reactRootContainer=o,e[lt]=o.current,Nr(e.nodeType===8?e.parentNode:e),Zt(),o}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var l=r;r=function(){var u=ns(a);l.call(u)}}var a=ra(e,0,!1,null,null,!1,!1,"",xu);return e._reactRootContainer=a,e[lt]=a.current,Nr(e.nodeType===8?e.parentNode:e),Zt(function(){vs(t,a,n,r)}),a}function _s(e,t,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var l=i;i=function(){var a=ns(o);l.call(a)}}vs(t,o,e,i)}else o=_m(n,t,e,i,r);return ns(o)}Vc=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ir(t.pendingLanes);n!==0&&(Cl(t,n|1),Se(t,J()),!(L&6)&&(Dn=J()+500,Lt()))}break;case 13:Zt(function(){var r=at(e,1);if(r!==null){var i=fe();Ge(r,e,1,i)}}),ia(e,1)}};jl=function(e){if(e.tag===13){var t=at(e,134217728);if(t!==null){var n=fe();Ge(t,e,134217728,n)}ia(e,134217728)}};Wc=function(e){if(e.tag===13){var t=bt(e),n=at(e,t);if(n!==null){var r=fe();Ge(n,e,t,r)}ia(e,t)}};Gc=function(){return $};qc=function(e,t){var n=$;try{return $=e,t()}finally{$=n}};Co=function(e,t,n){switch(t){case"input":if(yo(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=cs(r);if(!i)throw Error(x(90));Ec(r),yo(r,i)}}}break;case"textarea":jc(e,n);break;case"select":t=n.value,t!=null&&Cn(e,!!n.multiple,t,!1)}};Ic=Zl;Rc=Zt;var xm={usingClientEntryPoint:!1,Events:[Vr,vn,cs,Oc,Pc,Zl]},er={findFiberByHostInstance:Vt,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},km={bundleType:er.bundleType,version:er.version,rendererPackageName:er.rendererPackageName,rendererConfig:er.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ct.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Uc(e),e===null?null:e.stateNode},findFiberByHostInstance:er.findFiberByHostInstance||wm,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var pi=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!pi.isDisabled&&pi.supportsFiber)try{os=pi.inject(km),Ye=pi}catch{}}be.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=xm;be.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!oa(t))throw Error(x(200));return ym(e,t,null,n)};be.createRoot=function(e,t){if(!oa(e))throw Error(x(299));var n=!1,r="",i=mh;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=ra(e,1,!1,null,null,n,!1,r,i),e[lt]=t.current,Nr(e.nodeType===8?e.parentNode:e),new sa(t)};be.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(x(188)):(e=Object.keys(e).join(","),Error(x(268,e)));return e=Uc(t),e=e===null?null:e.stateNode,e};be.flushSync=function(e){return Zt(e)};be.hydrate=function(e,t,n){if(!ws(t))throw Error(x(200));return _s(null,e,t,!0,n)};be.hydrateRoot=function(e,t,n){if(!oa(e))throw Error(x(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=mh;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=ph(t,null,e,1,n??null,i,!1,s,o),e[lt]=t.current,Nr(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new ys(t)};be.render=function(e,t,n){if(!ws(t))throw Error(x(200));return _s(null,e,t,!1,n)};be.unmountComponentAtNode=function(e){if(!ws(e))throw Error(x(40));return e._reactRootContainer?(Zt(function(){_s(null,null,e,!1,function(){e._reactRootContainer=null,e[lt]=null})}),!0):!1};be.unstable_batchedUpdates=Zl;be.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!ws(n))throw Error(x(200));if(e==null||e._reactInternals===void 0)throw Error(x(38));return _s(e,t,n,!1,r)};be.version="18.3.1-next-f1338f8080-20240426";function gh(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(gh)}catch(e){console.error(e)}}gh(),gc.exports=be;var Sm=gc.exports,vh,ku=Sm;vh=ku.createRoot,ku.hydrateRoot;/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Em={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cm=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),Ue=(e,t)=>{const n=H.forwardRef(({color:r="currentColor",size:i=24,strokeWidth:s=2,absoluteStrokeWidth:o,className:l="",children:a,...u},c)=>H.createElement("svg",{ref:c,...Em,width:i,height:i,stroke:r,strokeWidth:o?Number(s)*24/Number(i):s,className:["lucide",`lucide-${Cm(e)}`,l].join(" "),...u},[...t.map(([f,d])=>H.createElement(f,d)),...Array.isArray(a)?a:[a]]));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jm=Ue("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tm=Ue("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bm=Ue("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nm=Ue("Brain",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Am=Ue("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const En=Ue("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Om=Ue("Mic",[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pm=Ue("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Im=Ue("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rm=Ue("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lm=Ue("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Su=Ue("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]),$m=({currentView:e,onViewChange:t,conversationCount:n})=>h.jsx("header",{className:"bg-white/80 backdrop-blur-md border-b border-purple-100 sticky top-0 z-50",children:h.jsx("div",{className:"container mx-auto px-4",children:h.jsxs("div",{className:"flex items-center justify-between h-16",children:[h.jsxs("div",{className:"flex items-center space-x-3",children:[h.jsx("div",{className:"bg-gradient-to-r from-purple-600 to-pink-600 p-2 rounded-xl",children:h.jsx(Nm,{className:"h-6 w-6 text-white"})}),h.jsxs("div",{children:[h.jsx("h1",{className:"text-xl font-bold bg-gradient-to-r from-purple-600 to-pink-600 bg-clip-text text-transparent",children:"GossipAI"}),h.jsx("p",{className:"text-xs text-gray-500",children:"Conversation Intelligence"})]})]}),h.jsxs("nav",{className:"hidden md:flex items-center space-x-1",children:[h.jsxs("button",{onClick:()=>t("dashboard"),className:`px-4 py-2 rounded-lg text-sm font-medium transition-all ${e==="dashboard"?"bg-purple-100 text-purple-700":"text-gray-600 hover:text-purple-600 hover:bg-purple-50"}`,children:[h.jsx(bm,{className:"h-4 w-4 inline mr-2"}),"Dashboard"]}),h.jsxs("button",{onClick:()=>t("analyze"),className:`px-4 py-2 rounded-lg text-sm font-medium transition-all ${e==="analyze"?"bg-purple-100 text-purple-700":"text-gray-600 hover:text-purple-600 hover:bg-purple-50"}`,children:[h.jsx(En,{className:"h-4 w-4 inline mr-2"}),"New Analysis"]})]}),h.jsxs("div",{className:"flex items-center space-x-3",children:[h.jsxs("div",{className:"hidden sm:block text-sm text-gray-500",children:[n," conversations analyzed"]}),h.jsx("button",{className:"md:hidden p-2 text-gray-600 hover:text-purple-600",children:h.jsx(Am,{className:"h-5 w-5"})})]})]})})}),Um=({conversations:e,onViewChange:t})=>{const n=[{title:"Total Conversations",value:e.length.toString(),icon:En,color:"purple",change:"+12%"},{title:"Insights Generated",value:(e.length*(e.length>0?5:0)).toString(),icon:Su,color:"blue",change:"+15%"}],r=i=>{if(i.imageUrl)return"Image-based conversation";if(i.audioUrl)return"Audio-based conversation";{const s=i.text||"";return s.substring(0,100)+(s.length>100?"...":"")}};return h.jsxs("div",{className:"space-y-8",children:[h.jsxs("div",{className:"text-center",children:[h.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Welcome to GossipAI"}),h.jsx("p",{className:"text-gray-600 max-w-2xl mx-auto",children:"Unlock deeper insights from your conversations with AI-powered analysis, emotion tracking, and subtle communication pattern detection."})]}),h.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-2 gap-6",children:n.map((i,s)=>h.jsxs("div",{className:"bg-white/60 backdrop-blur-sm rounded-2xl p-6 border border-white/20 hover:shadow-lg transition-all duration-300 hover:-translate-y-1",children:[h.jsxs("div",{className:"flex items-center justify-between mb-4",children:[h.jsx("div",{className:`p-3 rounded-xl bg-gradient-to-r ${i.color==="purple"?"from-purple-500 to-purple-600":i.color==="blue"?"from-blue-500 to-blue-600":"from-green-500 to-green-600"}`,children:h.jsx(i.icon,{className:"h-6 w-6 text-white"})}),h.jsx("span",{className:"text-sm text-green-600 font-medium",children:i.change})]}),h.jsxs("div",{children:[h.jsx("p",{className:"text-2xl font-bold text-gray-900 mb-1",children:i.value}),h.jsx("p",{className:"text-sm text-gray-600",children:i.title})]})]},s))}),h.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[h.jsxs("div",{className:"bg-white/60 backdrop-blur-sm rounded-2xl p-6 border border-white/20",children:[h.jsxs("div",{className:"flex items-center justify-between mb-6",children:[h.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Recent Conversations"}),h.jsxs("button",{onClick:()=>t("analyze"),className:"bg-gradient-to-r from-purple-600 to-pink-600 text-white px-4 py-2 rounded-lg text-sm font-medium hover:shadow-lg transition-all duration-300 flex items-center space-x-2",children:[h.jsx(Pm,{className:"h-4 w-4"}),h.jsx("span",{children:"New Analysis"})]})]}),e.length===0?h.jsxs("div",{className:"text-center py-12",children:[h.jsx(En,{className:"h-12 w-12 text-gray-300 mx-auto mb-4"}),h.jsx("p",{className:"text-gray-500 mb-4",children:"No conversations analyzed yet"}),h.jsx("button",{onClick:()=>t("analyze"),className:"bg-gradient-to-r from-purple-600 to-pink-600 text-white px-6 py-3 rounded-lg font-medium hover:shadow-lg transition-all duration-300",children:"Analyze Your First Conversation"})]}):h.jsx("div",{className:"space-y-3",children:e.filter(i=>i!=null).slice(-5).reverse().map(i=>h.jsxs("div",{className:"p-4 bg-white/50 rounded-xl border border-white/30 hover:bg-white/70 transition-all cursor-pointer",onClick:()=>t("results",i),children:[h.jsxs("div",{className:"flex items-center justify-between mb-2",children:[h.jsxs("h4",{className:"font-medium text-gray-900",children:["Conversation #",i.id.substring(0,4)]}),h.jsxs("span",{className:"text-xs text-gray-500",children:[new Date(i.createdAt||"").toLocaleDateString()," at ",new Date(i.createdAt||"").toLocaleTimeString()]})]}),h.jsx("div",{className:"flex items-center text-sm text-gray-600 space-x-4",children:h.jsxs("span",{className:"flex items-center space-x-1",children:[i.imageUrl?h.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})}):i.audioUrl?h.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19 11a7 7 0 01-7 7m0 0a7 7 0 01-7-7m7 7v4m0 0H8m4 0h4m-4-8a4 4 0 11-8 0 4 4 0 018 0z"})}):h.jsx(En,{className:"h-3 w-3"}),h.jsx("span",{children:r(i)})]})})]},i.id))})]}),h.jsxs("div",{className:"bg-white/60 backdrop-blur-sm rounded-2xl p-6 border border-white/20",children:[h.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-6",children:"Key Features"}),h.jsxs("div",{className:"space-y-4",children:[h.jsxs("div",{className:"flex items-start space-x-4 p-4 bg-white/50 rounded-xl",children:[h.jsx("div",{className:"bg-gradient-to-r from-purple-500 to-purple-600 p-2 rounded-lg",children:h.jsx(Su,{className:"h-5 w-5 text-white"})}),h.jsxs("div",{children:[h.jsx("h4",{className:"font-medium text-gray-900 mb-1",children:"AI Judge"}),h.jsx("p",{className:"text-sm text-gray-600",children:"Get objective analysis and scoring of conversation quality and dynamics."})]})]}),h.jsxs("div",{className:"flex items-start space-x-4 p-4 bg-white/50 rounded-xl",children:[h.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-blue-600 p-2 rounded-lg",children:h.jsx(En,{className:"h-5 w-5 text-white"})}),h.jsxs("div",{children:[h.jsx("h4",{className:"font-medium text-gray-900 mb-1",children:"Subtleties Detection"}),h.jsx("p",{className:"text-sm text-gray-600",children:"Uncover hidden meanings, implications, and subtext in conversations."})]})]}),h.jsxs("div",{className:"flex items-start space-x-4 p-4 bg-white/50 rounded-xl",children:[h.jsx("div",{className:"bg-gradient-to-r from-pink-500 to-pink-600 p-2 rounded-lg",children:h.jsx(Rm,{className:"h-5 w-5 text-white"})}),h.jsxs("div",{children:[h.jsx("h4",{className:"font-medium text-gray-900 mb-1",children:"Emotion Timeline"}),h.jsx("p",{className:"text-sm text-gray-600",children:"Track emotional changes and patterns throughout conversations."})]})]})]})]})]})]})};var Eu;(function(e){e.STRING="string",e.NUMBER="number",e.INTEGER="integer",e.BOOLEAN="boolean",e.ARRAY="array",e.OBJECT="object"})(Eu||(Eu={}));/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Cu;(function(e){e.LANGUAGE_UNSPECIFIED="language_unspecified",e.PYTHON="python"})(Cu||(Cu={}));var ju;(function(e){e.OUTCOME_UNSPECIFIED="outcome_unspecified",e.OUTCOME_OK="outcome_ok",e.OUTCOME_FAILED="outcome_failed",e.OUTCOME_DEADLINE_EXCEEDED="outcome_deadline_exceeded"})(ju||(ju={}));/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tu=["user","model","function","system"];var bu;(function(e){e.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",e.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",e.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",e.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",e.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT"})(bu||(bu={}));var Nu;(function(e){e.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",e.BLOCK_NONE="BLOCK_NONE"})(Nu||(Nu={}));var Au;(function(e){e.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",e.NEGLIGIBLE="NEGLIGIBLE",e.LOW="LOW",e.MEDIUM="MEDIUM",e.HIGH="HIGH"})(Au||(Au={}));var Ou;(function(e){e.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",e.SAFETY="SAFETY",e.OTHER="OTHER"})(Ou||(Ou={}));var gr;(function(e){e.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",e.STOP="STOP",e.MAX_TOKENS="MAX_TOKENS",e.SAFETY="SAFETY",e.RECITATION="RECITATION",e.LANGUAGE="LANGUAGE",e.OTHER="OTHER"})(gr||(gr={}));var Pu;(function(e){e.TASK_TYPE_UNSPECIFIED="TASK_TYPE_UNSPECIFIED",e.RETRIEVAL_QUERY="RETRIEVAL_QUERY",e.RETRIEVAL_DOCUMENT="RETRIEVAL_DOCUMENT",e.SEMANTIC_SIMILARITY="SEMANTIC_SIMILARITY",e.CLASSIFICATION="CLASSIFICATION",e.CLUSTERING="CLUSTERING"})(Pu||(Pu={}));var Iu;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.AUTO="AUTO",e.ANY="ANY",e.NONE="NONE"})(Iu||(Iu={}));var Ru;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.MODE_DYNAMIC="MODE_DYNAMIC"})(Ru||(Ru={}));/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class we extends Error{constructor(t){super(`[GoogleGenerativeAI Error]: ${t}`)}}class on extends we{constructor(t,n){super(t),this.response=n}}class yh extends we{constructor(t,n,r,i){super(t),this.status=n,this.statusText=r,this.errorDetails=i}}class At extends we{}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dm="https://generativelanguage.googleapis.com",Mm="v1beta",zm="0.21.0",Fm="genai-js";var en;(function(e){e.GENERATE_CONTENT="generateContent",e.STREAM_GENERATE_CONTENT="streamGenerateContent",e.COUNT_TOKENS="countTokens",e.EMBED_CONTENT="embedContent",e.BATCH_EMBED_CONTENTS="batchEmbedContents"})(en||(en={}));class Bm{constructor(t,n,r,i,s){this.model=t,this.task=n,this.apiKey=r,this.stream=i,this.requestOptions=s}toString(){var t,n;const r=((t=this.requestOptions)===null||t===void 0?void 0:t.apiVersion)||Mm;let s=`${((n=this.requestOptions)===null||n===void 0?void 0:n.baseUrl)||Dm}/${r}/${this.model}:${this.task}`;return this.stream&&(s+="?alt=sse"),s}}function Hm(e){const t=[];return e!=null&&e.apiClient&&t.push(e.apiClient),t.push(`${Fm}/${zm}`),t.join(" ")}async function Vm(e){var t;const n=new Headers;n.append("Content-Type","application/json"),n.append("x-goog-api-client",Hm(e.requestOptions)),n.append("x-goog-api-key",e.apiKey);let r=(t=e.requestOptions)===null||t===void 0?void 0:t.customHeaders;if(r){if(!(r instanceof Headers))try{r=new Headers(r)}catch(i){throw new At(`unable to convert customHeaders value ${JSON.stringify(r)} to Headers: ${i.message}`)}for(const[i,s]of r.entries()){if(i==="x-goog-api-key")throw new At(`Cannot set reserved header name ${i}`);if(i==="x-goog-api-client")throw new At(`Header name ${i} can only be set using the apiClient field`);n.append(i,s)}}return n}async function Wm(e,t,n,r,i,s){const o=new Bm(e,t,n,r,s);return{url:o.toString(),fetchOptions:Object.assign(Object.assign({},Jm(s)),{method:"POST",headers:await Vm(o),body:i})}}async function Gr(e,t,n,r,i,s={},o=fetch){const{url:l,fetchOptions:a}=await Wm(e,t,n,r,i,s);return Gm(l,a,o)}async function Gm(e,t,n=fetch){let r;try{r=await n(e,t)}catch(i){qm(i,e)}return r.ok||await Km(r,e),r}function qm(e,t){let n=e;throw e instanceof yh||e instanceof At||(n=new we(`Error fetching from ${t.toString()}: ${e.message}`),n.stack=e.stack),n}async function Km(e,t){let n="",r;try{const i=await e.json();n=i.error.message,i.error.details&&(n+=` ${JSON.stringify(i.error.details)}`,r=i.error.details)}catch{}throw new yh(`Error fetching from ${t.toString()}: [${e.status} ${e.statusText}] ${n}`,e.status,e.statusText,r)}function Jm(e){const t={};if((e==null?void 0:e.signal)!==void 0||(e==null?void 0:e.timeout)>=0){const n=new AbortController;(e==null?void 0:e.timeout)>=0&&setTimeout(()=>n.abort(),e.timeout),e!=null&&e.signal&&e.signal.addEventListener("abort",()=>{n.abort()}),t.signal=n.signal}return t}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function la(e){return e.text=()=>{if(e.candidates&&e.candidates.length>0){if(e.candidates.length>1&&console.warn(`This response had ${e.candidates.length} candidates. Returning text from the first candidate only. Access response.candidates directly to use the other candidates.`),Pi(e.candidates[0]))throw new on(`${mt(e)}`,e);return Qm(e)}else if(e.promptFeedback)throw new on(`Text not available. ${mt(e)}`,e);return""},e.functionCall=()=>{if(e.candidates&&e.candidates.length>0){if(e.candidates.length>1&&console.warn(`This response had ${e.candidates.length} candidates. Returning function calls from the first candidate only. Access response.candidates directly to use the other candidates.`),Pi(e.candidates[0]))throw new on(`${mt(e)}`,e);return console.warn("response.functionCall() is deprecated. Use response.functionCalls() instead."),Lu(e)[0]}else if(e.promptFeedback)throw new on(`Function call not available. ${mt(e)}`,e)},e.functionCalls=()=>{if(e.candidates&&e.candidates.length>0){if(e.candidates.length>1&&console.warn(`This response had ${e.candidates.length} candidates. Returning function calls from the first candidate only. Access response.candidates directly to use the other candidates.`),Pi(e.candidates[0]))throw new on(`${mt(e)}`,e);return Lu(e)}else if(e.promptFeedback)throw new on(`Function call not available. ${mt(e)}`,e)},e}function Qm(e){var t,n,r,i;const s=[];if(!((n=(t=e.candidates)===null||t===void 0?void 0:t[0].content)===null||n===void 0)&&n.parts)for(const o of(i=(r=e.candidates)===null||r===void 0?void 0:r[0].content)===null||i===void 0?void 0:i.parts)o.text&&s.push(o.text),o.executableCode&&s.push("\n```"+o.executableCode.language+`
`+o.executableCode.code+"\n```\n"),o.codeExecutionResult&&s.push("\n```\n"+o.codeExecutionResult.output+"\n```\n");return s.length>0?s.join(""):""}function Lu(e){var t,n,r,i;const s=[];if(!((n=(t=e.candidates)===null||t===void 0?void 0:t[0].content)===null||n===void 0)&&n.parts)for(const o of(i=(r=e.candidates)===null||r===void 0?void 0:r[0].content)===null||i===void 0?void 0:i.parts)o.functionCall&&s.push(o.functionCall);if(s.length>0)return s}const Ym=[gr.RECITATION,gr.SAFETY,gr.LANGUAGE];function Pi(e){return!!e.finishReason&&Ym.includes(e.finishReason)}function mt(e){var t,n,r;let i="";if((!e.candidates||e.candidates.length===0)&&e.promptFeedback)i+="Response was blocked",!((t=e.promptFeedback)===null||t===void 0)&&t.blockReason&&(i+=` due to ${e.promptFeedback.blockReason}`),!((n=e.promptFeedback)===null||n===void 0)&&n.blockReasonMessage&&(i+=`: ${e.promptFeedback.blockReasonMessage}`);else if(!((r=e.candidates)===null||r===void 0)&&r[0]){const s=e.candidates[0];Pi(s)&&(i+=`Candidate was blocked due to ${s.finishReason}`,s.finishMessage&&(i+=`: ${s.finishMessage}`))}return i}function Dr(e){return this instanceof Dr?(this.v=e,this):new Dr(e)}function Xm(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(e,t||[]),i,s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(d){r[d]&&(i[d]=function(v){return new Promise(function(w,_){s.push([d,v,w,_])>1||l(d,v)})})}function l(d,v){try{a(r[d](v))}catch(w){f(s[0][3],w)}}function a(d){d.value instanceof Dr?Promise.resolve(d.value.v).then(u,c):f(s[0][2],d)}function u(d){l("next",d)}function c(d){l("throw",d)}function f(d,v){d(v),s.shift(),s.length&&l(s[0][0],s[0][1])}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $u=/^data\: (.*)(?:\n\n|\r\r|\r\n\r\n)/;function Zm(e){const t=e.body.pipeThrough(new TextDecoderStream("utf8",{fatal:!0})),n=ng(t),[r,i]=n.tee();return{stream:tg(r),response:eg(i)}}async function eg(e){const t=[],n=e.getReader();for(;;){const{done:r,value:i}=await n.read();if(r)return la(rg(t));t.push(i)}}function tg(e){return Xm(this,arguments,function*(){const n=e.getReader();for(;;){const{value:r,done:i}=yield Dr(n.read());if(i)break;yield yield Dr(la(r))}})}function ng(e){const t=e.getReader();return new ReadableStream({start(r){let i="";return s();function s(){return t.read().then(({value:o,done:l})=>{if(l){if(i.trim()){r.error(new we("Failed to parse stream"));return}r.close();return}i+=o;let a=i.match($u),u;for(;a;){try{u=JSON.parse(a[1])}catch{r.error(new we(`Error parsing JSON response: "${a[1]}"`));return}r.enqueue(u),i=i.substring(a[0].length),a=i.match($u)}return s()})}}})}function rg(e){const t=e[e.length-1],n={promptFeedback:t==null?void 0:t.promptFeedback};for(const r of e){if(r.candidates)for(const i of r.candidates){const s=i.index;if(n.candidates||(n.candidates=[]),n.candidates[s]||(n.candidates[s]={index:i.index}),n.candidates[s].citationMetadata=i.citationMetadata,n.candidates[s].groundingMetadata=i.groundingMetadata,n.candidates[s].finishReason=i.finishReason,n.candidates[s].finishMessage=i.finishMessage,n.candidates[s].safetyRatings=i.safetyRatings,i.content&&i.content.parts){n.candidates[s].content||(n.candidates[s].content={role:i.content.role||"user",parts:[]});const o={};for(const l of i.content.parts)l.text&&(o.text=l.text),l.functionCall&&(o.functionCall=l.functionCall),l.executableCode&&(o.executableCode=l.executableCode),l.codeExecutionResult&&(o.codeExecutionResult=l.codeExecutionResult),Object.keys(o).length===0&&(o.text=""),n.candidates[s].content.parts.push(o)}}r.usageMetadata&&(n.usageMetadata=r.usageMetadata)}return n}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wh(e,t,n,r){const i=await Gr(t,en.STREAM_GENERATE_CONTENT,e,!0,JSON.stringify(n),r);return Zm(i)}async function _h(e,t,n,r){const s=await(await Gr(t,en.GENERATE_CONTENT,e,!1,JSON.stringify(n),r)).json();return{response:la(s)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xh(e){if(e!=null){if(typeof e=="string")return{role:"system",parts:[{text:e}]};if(e.text)return{role:"system",parts:[e]};if(e.parts)return e.role?e:{role:"system",parts:e.parts}}}function Mr(e){let t=[];if(typeof e=="string")t=[{text:e}];else for(const n of e)typeof n=="string"?t.push({text:n}):t.push(n);return ig(t)}function ig(e){const t={role:"user",parts:[]},n={role:"function",parts:[]};let r=!1,i=!1;for(const s of e)"functionResponse"in s?(n.parts.push(s),i=!0):(t.parts.push(s),r=!0);if(r&&i)throw new we("Within a single message, FunctionResponse cannot be mixed with other type of part in the request for sending chat message.");if(!r&&!i)throw new we("No content is provided for sending chat message.");return r?t:n}function sg(e,t){var n;let r={model:t==null?void 0:t.model,generationConfig:t==null?void 0:t.generationConfig,safetySettings:t==null?void 0:t.safetySettings,tools:t==null?void 0:t.tools,toolConfig:t==null?void 0:t.toolConfig,systemInstruction:t==null?void 0:t.systemInstruction,cachedContent:(n=t==null?void 0:t.cachedContent)===null||n===void 0?void 0:n.name,contents:[]};const i=e.generateContentRequest!=null;if(e.contents){if(i)throw new At("CountTokensRequest must have one of contents or generateContentRequest, not both.");r.contents=e.contents}else if(i)r=Object.assign(Object.assign({},r),e.generateContentRequest);else{const s=Mr(e);r.contents=[s]}return{generateContentRequest:r}}function Uu(e){let t;return e.contents?t=e:t={contents:[Mr(e)]},e.systemInstruction&&(t.systemInstruction=xh(e.systemInstruction)),t}function og(e){return typeof e=="string"||Array.isArray(e)?{content:Mr(e)}:e}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Du=["text","inlineData","functionCall","functionResponse","executableCode","codeExecutionResult"],lg={user:["text","inlineData"],function:["functionResponse"],model:["text","functionCall","executableCode","codeExecutionResult"],system:["text"]};function ag(e){let t=!1;for(const n of e){const{role:r,parts:i}=n;if(!t&&r!=="user")throw new we(`First content should be with role 'user', got ${r}`);if(!Tu.includes(r))throw new we(`Each item should include role field. Got ${r} but valid roles are: ${JSON.stringify(Tu)}`);if(!Array.isArray(i))throw new we("Content should have 'parts' property with an array of Parts");if(i.length===0)throw new we("Each Content should have at least one part");const s={text:0,inlineData:0,functionCall:0,functionResponse:0,fileData:0,executableCode:0,codeExecutionResult:0};for(const l of i)for(const a of Du)a in l&&(s[a]+=1);const o=lg[r];for(const l of Du)if(!o.includes(l)&&s[l]>0)throw new we(`Content with role '${r}' can't contain '${l}' part`);t=!0}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mu="SILENT_ERROR";class ug{constructor(t,n,r,i={}){this.model=n,this.params=r,this._requestOptions=i,this._history=[],this._sendPromise=Promise.resolve(),this._apiKey=t,r!=null&&r.history&&(ag(r.history),this._history=r.history)}async getHistory(){return await this._sendPromise,this._history}async sendMessage(t,n={}){var r,i,s,o,l,a;await this._sendPromise;const u=Mr(t),c={safetySettings:(r=this.params)===null||r===void 0?void 0:r.safetySettings,generationConfig:(i=this.params)===null||i===void 0?void 0:i.generationConfig,tools:(s=this.params)===null||s===void 0?void 0:s.tools,toolConfig:(o=this.params)===null||o===void 0?void 0:o.toolConfig,systemInstruction:(l=this.params)===null||l===void 0?void 0:l.systemInstruction,cachedContent:(a=this.params)===null||a===void 0?void 0:a.cachedContent,contents:[...this._history,u]},f=Object.assign(Object.assign({},this._requestOptions),n);let d;return this._sendPromise=this._sendPromise.then(()=>_h(this._apiKey,this.model,c,f)).then(v=>{var w;if(v.response.candidates&&v.response.candidates.length>0){this._history.push(u);const _=Object.assign({parts:[],role:"model"},(w=v.response.candidates)===null||w===void 0?void 0:w[0].content);this._history.push(_)}else{const _=mt(v.response);_&&console.warn(`sendMessage() was unsuccessful. ${_}. Inspect response object for details.`)}d=v}),await this._sendPromise,d}async sendMessageStream(t,n={}){var r,i,s,o,l,a;await this._sendPromise;const u=Mr(t),c={safetySettings:(r=this.params)===null||r===void 0?void 0:r.safetySettings,generationConfig:(i=this.params)===null||i===void 0?void 0:i.generationConfig,tools:(s=this.params)===null||s===void 0?void 0:s.tools,toolConfig:(o=this.params)===null||o===void 0?void 0:o.toolConfig,systemInstruction:(l=this.params)===null||l===void 0?void 0:l.systemInstruction,cachedContent:(a=this.params)===null||a===void 0?void 0:a.cachedContent,contents:[...this._history,u]},f=Object.assign(Object.assign({},this._requestOptions),n),d=wh(this._apiKey,this.model,c,f);return this._sendPromise=this._sendPromise.then(()=>d).catch(v=>{throw new Error(Mu)}).then(v=>v.response).then(v=>{if(v.candidates&&v.candidates.length>0){this._history.push(u);const w=Object.assign({},v.candidates[0].content);w.role||(w.role="model"),this._history.push(w)}else{const w=mt(v);w&&console.warn(`sendMessageStream() was unsuccessful. ${w}. Inspect response object for details.`)}}).catch(v=>{v.message!==Mu&&console.error(v)}),d}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cg(e,t,n,r){return(await Gr(t,en.COUNT_TOKENS,e,!1,JSON.stringify(n),r)).json()}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dg(e,t,n,r){return(await Gr(t,en.EMBED_CONTENT,e,!1,JSON.stringify(n),r)).json()}async function hg(e,t,n,r){const i=n.requests.map(o=>Object.assign(Object.assign({},o),{model:t}));return(await Gr(t,en.BATCH_EMBED_CONTENTS,e,!1,JSON.stringify({requests:i}),r)).json()}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zu{constructor(t,n,r={}){this.apiKey=t,this._requestOptions=r,n.model.includes("/")?this.model=n.model:this.model=`models/${n.model}`,this.generationConfig=n.generationConfig||{},this.safetySettings=n.safetySettings||[],this.tools=n.tools,this.toolConfig=n.toolConfig,this.systemInstruction=xh(n.systemInstruction),this.cachedContent=n.cachedContent}async generateContent(t,n={}){var r;const i=Uu(t),s=Object.assign(Object.assign({},this._requestOptions),n);return _h(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(r=this.cachedContent)===null||r===void 0?void 0:r.name},i),s)}async generateContentStream(t,n={}){var r;const i=Uu(t),s=Object.assign(Object.assign({},this._requestOptions),n);return wh(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(r=this.cachedContent)===null||r===void 0?void 0:r.name},i),s)}startChat(t){var n;return new ug(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(n=this.cachedContent)===null||n===void 0?void 0:n.name},t),this._requestOptions)}async countTokens(t,n={}){const r=sg(t,{model:this.model,generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:this.cachedContent}),i=Object.assign(Object.assign({},this._requestOptions),n);return cg(this.apiKey,this.model,r,i)}async embedContent(t,n={}){const r=og(t),i=Object.assign(Object.assign({},this._requestOptions),n);return dg(this.apiKey,this.model,r,i)}async batchEmbedContents(t,n={}){const r=Object.assign(Object.assign({},this._requestOptions),n);return hg(this.apiKey,this.model,t,r)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fg{constructor(t){this.apiKey=t}getGenerativeModel(t,n){if(!t.model)throw new we("Must provide a model name. Example: genai.getGenerativeModel({ model: 'my-model-name' })");return new zu(this.apiKey,t,n)}getGenerativeModelFromCachedContent(t,n,r){if(!t.name)throw new At("Cached content must contain a `name` field.");if(!t.model)throw new At("Cached content must contain a `model` field.");const i=["model","systemInstruction"];for(const o of i)if(n!=null&&n[o]&&t[o]&&(n==null?void 0:n[o])!==t[o]){if(o==="model"){const l=n.model.startsWith("models/")?n.model.replace("models/",""):n.model,a=t.model.startsWith("models/")?t.model.replace("models/",""):t.model;if(l===a)continue}throw new At(`Different value for "${o}" specified in modelParams (${n[o]}) and cachedContent (${t[o]})`)}const s=Object.assign(Object.assign({},n),{model:t.model,tools:t.tools,toolConfig:t.toolConfig,systemInstruction:t.systemInstruction,cachedContent:t});return new zu(this.apiKey,s,r)}}class pg{constructor(){Os(this,"genAI",null);Os(this,"model",null);this.initializeAPI()}initializeAPI(){const t="AIzaSyCpPEnkUL55kHvweqhFBNBcDvftSlT59GE";try{this.genAI=new fg(t),this.model=this.genAI.getGenerativeModel({model:"gemini-1.5-flash-latest"})}catch(n){console.error("Failed to initialize Gemini API:",n)}}async analyzeConversation(t){if(!this.model)throw new Error("Gemini API not initialized. Please check your API key.");const n=[{text:`Analyze the following conversation based on the user's input:
Conversation Content: ${t.text}`}];t.context&&n.push({text:`
Conversation Context: ${t.context}`}),t.imageUrl&&n.push({inlineData:{mimeType:"image/jpeg",data:t.imageUrl.split(",")[1]}});const r=`
      You are GossipAI, an unparalleled expert conversation analyst and a perceptive AI psychologist, powered by Gemini 1.5 Flash. Your mission is to dissect the provided conversation (which might be text, an image of chat, or transcribed audio) and produce a singularly creative, novel, and technically innovative analysis. Your output MUST be a complete, valid JSON object, structured precisely according to the TypeScript interfaces provided below. ABSOLUTELY NO other text, markdown, or commentary outside this JSON object is permitted.

      Perform the following highly detailed analyses:
      1.  **Summary Card (SummaryResult):**
          *   Provide a concise, highly readable summary (max 3-4 sentences).
          *   Identify the *dominant* emotion of the **opponent** (not the user/author) from the entire conversation. Express this as a single, large, vibrant, 'minion-style' emoji (e.g., '😅', '🥳', '🤯', '😭', '😡'). Choose an emoji that truly encapsulates their overarching emotional state.
          *   Categorize the **relationship tone** between the participants. Choose one from: 'Officially-Business', 'Friendly & Casual', 'Romantic Interest', 'One-Sided Sympathy', 'Conflict-Ridden', 'Neutral & Transactional'.

      2.  **Emotion Bars Card (EmotionBarsResult):**
          *   Identify 3 to 5 *distinct and highly relevant* emotions that significantly colored the conversation. Think beyond basic emotions; consider nuanced states like: 'Trust', 'Relaxation', 'Distrust', 'Engagement', 'Frustration', 'Empathy', 'Sarcasm Detection'.
          *   For each emotion, provide a visually striking emoji.
          *   Quantify the **percentage** for both the 'Opponent' and the 'Author' (user who provided the input). Ensure these percentages reflect their *contribution* or *display* of that emotion within the conversation, summing up to 100% *across both participants for that specific emotion*. (e.g., if total 'Trust' expressed is 100 units, and opponent expressed 80 units, then opponent is 80%, author 20%).

      3.  **AI Judge Card (AIJudgeResult):**
          *   Act as an impartial AI judge. Analyze the **key messages, turning points, or critical statements** from *each* participant.
          *   Provide a coherent, semi-formal **narrative-style analysis** (not just bullet points) of their communication effectiveness, areas of strength, and areas for improvement. Integrate insightful emojis to highlight points.

      4.  **Intents & Subtext Card (IntentsSubtextResult):**
          *   Uncover the **hidden intentions, unspoken desires, and subtle underlying meanings (subtext)**. Look for: 'Flirting', 'Jealousy', 'Passive Aggression', 'Flattery', 'Genuine Interest', 'Boredom', 'Sarcasm', or 'General Unstated Subtext'.
          *   For each identified intent/subtext, **quote the exact suspicious fragment** from the conversation.
          *   Provide a concise, direct **'translation' or interpretation** of what that fragment *truly* means or implies.

      5.  **Emotion Timeline Card (EmotionTimelineResult):**
          *   Divide the conversation into three distinct phases: 'Beginning', 'Middle', and 'End'.
          *   For each phase, provide a vivid description of the **changing atmosphere, dominant emotions, and key shifts**. Use a distinct, expressive emoji for each phase to visually represent its essence.

      6.  **Wrap-Up Card (WrapUpResult):**
          *   Deliver a concise (max 3 sentences), empathetic summary from the perspective of a seasoned 'AI psychologist'. This summary should feel light, friendly, and truly insightful.
          *   Provide one clear, actionable, and uniquely tailored piece of advice derived directly from the conversation's dynamics. Avoid generic self-help clichés.

      7.  **My Advice (string):**
          *   Provide a direct, practical, and concise piece of advice to the user based on the entire conversation, from the perspective of a supportive AI.

      Your response should strictly adhere to the "AnalysisResult" TypeScript interface defined externally. You must provide the full JSON object for "AnalysisResult".

      Provide the full AnalysisResult JSON object. Example structure (ENSURE YOUR OUTPUT ADHERES TO THIS JSON STRUCTURE): 
      {
        "summary": {
          "mainEmotionEmoji": "😊",
          "summaryText": "The conversation started cautiously but evolved into a positive and supportive exchange.",
          "relationshipTone": "Romantic Interest"
        },
        "emotionBars": {
          "bars": [
            { "emotion": "Trust", "emoji": "🤝", "opponentPercentage": 80, "authorPercentage": 20 },
            { "emotion": "Engagement", "emoji": "💡", "opponentPercentage": 70, "authorPercentage": 30 },
            { "emotion": "Conflict Avoidance", "emoji": "🕊️", "opponentPercentage": 40, "authorPercentage": 60 }
          ]
        },
        "aiJudge": {
          "analysisText": "The opponent skillfully navigated a sensitive topic, demonstrating a high degree of emotional intelligence. 👍 The author, while initially hesitant, showed impressive adaptability, turning potential tension into rapport. ✨"
        },
        "intentsSubtext": {
          "flirt": [{
            "quote": "Your eyes sparkle when you talk about it.",
            "translation": "Expressing romantic interest with a compliment."
          }],
          "passiveAggression": [],
          "sarcasm": [{
            "quote": "Oh, *that's* incredibly helpful.",
            "translation": "Actually implying the opposite, expressing annoyance."
          }],
          "generalSubtext": [{
            "quote": "I'm fine.",
            "translation": "The tone suggests unspoken frustration or a desire to end the topic."
          }]
        },
        "emotionTimeline": {
          "phases": [
            { "phase": "Beginning (Tension & Caution)", "description": "Initial exchanges were formal, almost guarded, with a palpable undercurrent of uncertainty. 😬", "emoji": "😬" },
            { "phase": "Middle (Exploration & Connection)", "description": "A breakthrough moment where shared humor eased the tension, allowing for deeper personal revelations. 😂", "emoji": "😄" },
            { "phase": "End (Affirmation & Future)", "description": "The conversation concluded on a note of mutual understanding and reinforced connection, hinting at future positive interactions. ✨", "emoji": "🥰" }
          ]
        },
        "wrapUp": {
          "psychologistSummary": "Your conversation brilliantly illustrates how empathy and strategic communication can transform initial awkwardness into genuine connection. A true masterclass in conversational judo!",
          "advice": "Next time, try introducing a lighthearted topic even earlier to set a positive tone from the outset."
        },
        "myAdvice": "Consider practicing active listening techniques to ensure both parties feel heard."
      }
      `;try{let o=(await(await this.model.generateContent({contents:[{role:"user",parts:[...n,{text:r}]}]})).response).text();const l=o.match(/```(?:json)?\n?([\s\S]*?)```/);return l&&l[1]?o=l[1].trim():o=o.trim(),JSON.parse(o)}catch(i){throw console.error("Error analyzing conversation:",i),new Error("Failed to analyze conversation. Please try again.")}}isConfigured(){return this.model!==null}async analyzeAudio(t){if(!this.model)throw new Error("Gemini API not initialized. Please check your API key.");const n=[{inlineData:{mimeType:"audio/mp3",data:t.split(",")[1]}},{text:`
        Analyze the provided audio for the following:
        1. Transcribe the audio into text (ASR).
        2. Analyze the overall tone of the speech.
        3. Identify key emotions present in the audio.
        4. Provide a brief summary of the audio content.
        
        Format your response as a JSON object with the following keys: "transcribedText", "toneAnalysis", "emotionAnalysis", "briefSummary".
        Example:
        {
          "transcribedText": "Hello, how are you today?",
          "toneAnalysis": "Friendly and positive",
          "emotionAnalysis": "Joy, calmness",
          "briefSummary": "A short greeting expressing well-being."
        }
        Ensure the response is ONLY the JSON object.
      `}];try{let s=(await(await this.model.generateContent({contents:[{role:"user",parts:n}]})).response).text();const o=s.match(/```(?:json)?\n?([\s\S]*?)```/);return o&&o[1]?s=o[1].trim():s=s.trim(),JSON.parse(s)}catch(r){throw console.error("Error analyzing audio:",r),new Error("Failed to analyze audio. Please try again.")}}async chatWithConversation(t){if(!this.model)throw new Error("Gemini API not initialized. Please check your API key.");try{let i=(await(await this.model.generateContent(t)).response).text();const s=i.match(/```(?:\w+)?\n?([\s\S]*?)```/);return s&&s[1]?i=s[1].trim():i=i.trim(),i}catch(n){throw console.error("Error during chat interaction:",n),new Error("Failed to get a response from AI. Please try again.")}}}const vr=new pg,re=[];for(let e=0;e<256;++e)re.push((e+256).toString(16).slice(1));function mg(e,t=0){return(re[e[t+0]]+re[e[t+1]]+re[e[t+2]]+re[e[t+3]]+"-"+re[e[t+4]]+re[e[t+5]]+"-"+re[e[t+6]]+re[e[t+7]]+"-"+re[e[t+8]]+re[e[t+9]]+"-"+re[e[t+10]]+re[e[t+11]]+re[e[t+12]]+re[e[t+13]]+re[e[t+14]]+re[e[t+15]]).toLowerCase()}let io;const gg=new Uint8Array(16);function vg(){if(!io){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");io=crypto.getRandomValues.bind(crypto)}return io(gg)}const yg=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),Fu={randomUUID:yg};function wg(e,t,n){var i;if(Fu.randomUUID&&!t&&!e)return Fu.randomUUID();e=e||{};const r=e.random??((i=e.rng)==null?void 0:i.call(e))??vg();if(r.length<16)throw new Error("Random bytes length must be >= 16");return r[6]=r[6]&15|64,r[8]=r[8]&63|128,mg(r)}const _g=({onAnalyze:e,onBack:t})=>{const[n,r]=H.useState("text"),[i,s]=H.useState(""),[o,l]=H.useState(""),[a,u]=H.useState(void 0),[c,f]=H.useState(void 0),[d,v]=H.useState(!1),[w,_]=H.useState(null),C=y=>{var S;const k=(S=y.target.files)==null?void 0:S[0];if(k){const E=new FileReader;E.onloadend=()=>{u(E.result)},E.readAsDataURL(k)}},g=y=>{var S;const k=(S=y.target.files)==null?void 0:S[0];if(k){const E=new FileReader;E.onloadend=()=>{f(E.result)},E.readAsDataURL(k)}},p=async()=>{if(!i.trim()&&!a&&!c){_("Please provide conversation content (text, image, or audio).");return}if(!vr.isConfigured()){_("Gemini API is not configured. Please add your API key to continue.");return}v(!0),_(null);try{let y=i.trim();c&&(y=(await vr.analyzeAudio(c)).transcribedText||"");const k={id:wg(),text:y,context:o.trim()||void 0,imageUrl:a,audioUrl:c,createdAt:new Date().toISOString()};e(k)}catch(y){console.error("Analysis failed:",y),_(y instanceof Error?y.message:"Analysis failed. Please try again.")}finally{v(!1)}},m=vr.isConfigured();return h.jsxs("div",{className:"max-w-4xl mx-auto",children:[h.jsxs("div",{className:"mb-6",children:[h.jsxs("button",{onClick:t,className:"flex items-center space-x-2 text-gray-600 hover:text-purple-600 transition-colors mb-4",children:[h.jsx(Tm,{className:"h-4 w-4"}),h.jsx("span",{children:"Back to Dashboard"})]}),h.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Analyze New Conversation"}),h.jsx("p",{className:"text-gray-600",children:"Upload or input your conversation data for AI-powered analysis using Gemini 1.5 Flash."})]}),!m&&h.jsx("div",{className:"bg-amber-50 border border-amber-200 rounded-xl p-4 mb-6",children:h.jsxs("div",{className:"flex items-start space-x-3",children:[h.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-amber-600 mt-0.5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 7a2 2 0 012 2v5a2 2 0 01-2 2h-5a2 2 0 01-2-2V9a2 2 0 012-2h5z"})}),h.jsxs("div",{children:[h.jsx("h3",{className:"font-medium text-amber-800 mb-1",children:"API Configuration Required"}),h.jsx("p",{className:"text-sm text-amber-700 mb-2",children:"To use AI analysis, please add your Gemini API key to the environment variables."}),h.jsxs("p",{className:"text-xs text-amber-600",children:["Add ",h.jsx("code",{className:"bg-amber-100 px-1 rounded",children:"VITE_GEMINI_API_KEY"})," to your .env file"]})]})]})}),w&&h.jsx("div",{className:"bg-red-50 border border-red-200 rounded-xl p-4 mb-6",children:h.jsxs("div",{className:"flex items-start space-x-3",children:[h.jsx(jm,{className:"h-5 w-5 text-red-600 mt-0.5"}),h.jsxs("div",{children:[h.jsx("h3",{className:"font-medium text-red-800 mb-1",children:"Analysis Error"}),h.jsx("p",{className:"text-sm text-red-700",children:w})]})]})}),h.jsxs("div",{className:"bg-white/60 backdrop-blur-sm rounded-2xl p-6 border border-white/20 mb-6",children:[h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[h.jsxs("button",{onClick:()=>r("text"),className:`p-4 rounded-xl border-2 transition-all ${n==="text"?"border-purple-500 bg-purple-50":"border-gray-200 hover:border-purple-300"}`,children:[h.jsx(En,{className:"h-8 w-8 mx-auto mb-2 text-purple-600"}),h.jsx("div",{className:"text-sm font-medium",children:"Text Input"}),h.jsx("div",{className:"text-xs text-gray-500",children:"Paste conversation text"})]}),h.jsxs("button",{onClick:()=>r("image"),className:`p-4 rounded-xl border-2 transition-all ${n==="image"?"border-purple-500 bg-purple-50":"border-gray-200 hover:border-purple-300"}`,children:[h.jsx(Lm,{className:"h-8 w-8 mx-auto mb-2 text-purple-600"}),h.jsx("div",{className:"text-sm font-medium",children:"Image Upload"}),h.jsx("div",{className:"text-xs text-gray-500",children:"Upload screenshot or photo"})]}),h.jsxs("button",{onClick:()=>r("audio"),className:`p-4 rounded-xl border-2 transition-all ${n==="audio"?"border-purple-500 bg-purple-50":"border-gray-200 hover:border-purple-300"}`,children:[h.jsx(Om,{className:"h-8 w-8 mx-auto mb-2 text-purple-600"}),h.jsx("div",{className:"text-sm font-medium",children:"Audio Upload"}),h.jsx("div",{className:"text-xs text-gray-500",children:"Upload voice messages"})]})]}),h.jsxs("div",{className:"space-y-6",children:[n==="text"&&h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Conversation Text *"}),h.jsx("textarea",{value:i,onChange:y=>s(y.target.value),placeholder:"Paste your conversation here...",rows:10,className:"w-full px-4 py-3 border border-gray-200 rounded-xl focus:ring-2 focus:ring-purple-500 focus:border-transparent resize-y"})]}),n==="image"&&h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Upload Image of Conversation *"}),h.jsx("input",{type:"file",accept:"image/*",onChange:C,className:"w-full text-gray-700 bg-gray-100 border border-gray-200 rounded-xl p-3 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-purple-50 file:text-purple-700 hover:file:bg-purple-100"}),a&&h.jsxs("div",{className:"mt-4",children:[h.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Preview:"}),h.jsx("img",{src:a,alt:"Conversation Preview",className:"max-w-full h-auto rounded-lg shadow-md"})]})]}),n==="audio"&&h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Upload Audio File (MP3/WAV) *"}),h.jsx("input",{type:"file",accept:"audio/mp3,audio/wav",onChange:g,className:"w-full text-gray-700 bg-gray-100 border border-gray-200 rounded-xl p-3 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-purple-50 file:text-purple-700 hover:file:bg-purple-100"}),c&&h.jsx("div",{className:"mt-4",children:h.jsx("audio",{controls:!0,src:c,className:"w-full"})})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Context (Optional)"}),h.jsx("textarea",{value:o,onChange:y=>l(y.target.value),placeholder:"Provide any additional context for the conversation (e.g., relationship status, recent events)...",rows:4,className:"w-full px-4 py-3 border border-gray-200 rounded-xl focus:ring-2 focus:ring-purple-500 focus:border-transparent resize-y"})]}),h.jsx("button",{onClick:p,disabled:d||!m||!i.trim()&&!a&&!c,className:"w-full bg-purple-600 text-white py-3 rounded-xl text-lg font-semibold hover:bg-purple-700 transition-colors duration-300 flex items-center justify-center space-x-2 disabled:opacity-50 disabled:cursor-not-allowed",children:d?h.jsxs(h.Fragment,{children:[h.jsxs("svg",{className:"animate-spin h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[h.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),h.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),h.jsx("span",{children:"Analyzing..."})]}):h.jsxs(h.Fragment,{children:[h.jsx(Im,{className:"h-5 w-5"}),h.jsx("span",{children:"Analyze Conversation"})]})})]})]})]})},xg="modulepreload",kg=function(e){return"/"+e},Bu={},qr=function(t,n,r){let i=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));i=Promise.allSettled(n.map(a=>{if(a=kg(a),a in Bu)return;Bu[a]=!0;const u=a.endsWith(".css"),c=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${a}"]${c}`))return;const f=document.createElement("link");if(f.rel=u?"stylesheet":xg,u||(f.as="script"),f.crossOrigin="",f.href=a,l&&f.setAttribute("nonce",l),document.head.appendChild(f),u)return new Promise((d,v)=>{f.addEventListener("load",d),f.addEventListener("error",()=>v(new Error(`Unable to preload CSS for ${a}`)))})}))}function s(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return i.then(o=>{for(const l of o||[])l.status==="rejected"&&s(l.reason);return t().catch(s)})},Sg=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>qr(async()=>{const{default:r}=await Promise.resolve().then(()=>Hn);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)};class aa extends Error{constructor(t,n="FunctionsError",r){super(t),this.name=n,this.context=r}}class Eg extends aa{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class Cg extends aa{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class jg extends aa{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var il;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(il||(il={}));var Tg=function(e,t,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function l(c){try{u(r.next(c))}catch(f){o(f)}}function a(c){try{u(r.throw(c))}catch(f){o(f)}}function u(c){c.done?s(c.value):i(c.value).then(l,a)}u((r=r.apply(e,t||[])).next())})};class bg{constructor(t,{headers:n={},customFetch:r,region:i=il.Any}={}){this.url=t,this.headers=n,this.region=i,this.fetch=Sg(r)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,n={}){var r;return Tg(this,void 0,void 0,function*(){try{const{headers:i,method:s,body:o}=n;let l={},{region:a}=n;a||(a=this.region),a&&a!=="any"&&(l["x-region"]=a);let u;o&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(l["Content-Type"]="application/octet-stream",u=o):typeof o=="string"?(l["Content-Type"]="text/plain",u=o):typeof FormData<"u"&&o instanceof FormData?u=o:(l["Content-Type"]="application/json",u=JSON.stringify(o)));const c=yield this.fetch(`${this.url}/${t}`,{method:s||"POST",headers:Object.assign(Object.assign(Object.assign({},l),this.headers),i),body:u}).catch(w=>{throw new Eg(w)}),f=c.headers.get("x-relay-error");if(f&&f==="true")throw new Cg(c);if(!c.ok)throw new jg(c);let d=((r=c.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),v;return d==="application/json"?v=yield c.json():d==="application/octet-stream"?v=yield c.blob():d==="text/event-stream"?v=c:d==="multipart/form-data"?v=yield c.formData():v=yield c.text(),{data:v,error:null}}catch(i){return{data:null,error:i}}})}}var ye={},ua={},xs={},Kr={},ks={},Ss={},Ng=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Mn=Ng();const Ag=Mn.fetch,kh=Mn.fetch.bind(Mn),Sh=Mn.Headers,Og=Mn.Request,Pg=Mn.Response,Hn=Object.freeze(Object.defineProperty({__proto__:null,Headers:Sh,Request:Og,Response:Pg,default:kh,fetch:Ag},Symbol.toStringTag,{value:"Module"})),Ig=Qh(Hn);var Es={};Object.defineProperty(Es,"__esModule",{value:!0});let Rg=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};Es.default=Rg;var Eh=Re&&Re.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ss,"__esModule",{value:!0});const Lg=Eh(Ig),$g=Eh(Es);let Ug=class{constructor(t){this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=t.headers,this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=t.shouldThrowOnError,this.signal=t.signal,this.isMaybeSingle=t.isMaybeSingle,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=Lg.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,n){return this.headers=Object.assign({},this.headers),this.headers[t]=n,this}then(t,n){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const r=this.fetch;let i=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async s=>{var o,l,a;let u=null,c=null,f=null,d=s.status,v=s.statusText;if(s.ok){if(this.method!=="HEAD"){const g=await s.text();g===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?c=g:c=JSON.parse(g))}const _=(o=this.headers.Prefer)===null||o===void 0?void 0:o.match(/count=(exact|planned|estimated)/),C=(l=s.headers.get("content-range"))===null||l===void 0?void 0:l.split("/");_&&C&&C.length>1&&(f=parseInt(C[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(c)&&(c.length>1?(u={code:"PGRST116",details:`Results contain ${c.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},c=null,f=null,d=406,v="Not Acceptable"):c.length===1?c=c[0]:c=null)}else{const _=await s.text();try{u=JSON.parse(_),Array.isArray(u)&&s.status===404&&(c=[],u=null,d=200,v="OK")}catch{s.status===404&&_===""?(d=204,v="No Content"):u={message:_}}if(u&&this.isMaybeSingle&&(!((a=u==null?void 0:u.details)===null||a===void 0)&&a.includes("0 rows"))&&(u=null,d=200,v="OK"),u&&this.shouldThrowOnError)throw new $g.default(u)}return{error:u,data:c,count:f,status:d,statusText:v}});return this.shouldThrowOnError||(i=i.catch(s=>{var o,l,a;return{error:{message:`${(o=s==null?void 0:s.name)!==null&&o!==void 0?o:"FetchError"}: ${s==null?void 0:s.message}`,details:`${(l=s==null?void 0:s.stack)!==null&&l!==void 0?l:""}`,hint:"",code:`${(a=s==null?void 0:s.code)!==null&&a!==void 0?a:""}`},data:null,count:null,status:0,statusText:""}})),i.then(t,n)}returns(){return this}overrideTypes(){return this}};Ss.default=Ug;var Dg=Re&&Re.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ks,"__esModule",{value:!0});const Mg=Dg(Ss);let zg=class extends Mg.default{select(t){let n=!1;const r=(t??"*").split("").map(i=>/\s/.test(i)&&!n?"":(i==='"'&&(n=!n),i)).join("");return this.url.searchParams.set("select",r),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(t,{ascending:n=!0,nullsFirst:r,foreignTable:i,referencedTable:s=i}={}){const o=s?`${s}.order`:"order",l=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${l?`${l},`:""}${t}.${n?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:n,referencedTable:r=n}={}){const i=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(i,`${t}`),this}range(t,n,{foreignTable:r,referencedTable:i=r}={}){const s=typeof i>"u"?"offset":`${i}.offset`,o=typeof i>"u"?"limit":`${i}.limit`;return this.url.searchParams.set(s,`${t}`),this.url.searchParams.set(o,`${n-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:t=!1,verbose:n=!1,settings:r=!1,buffers:i=!1,wal:s=!1,format:o="text"}={}){var l;const a=[t?"analyze":null,n?"verbose":null,r?"settings":null,i?"buffers":null,s?"wal":null].filter(Boolean).join("|"),u=(l=this.headers.Accept)!==null&&l!==void 0?l:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${o}; for="${u}"; options=${a};`,o==="json"?this:this}rollback(){var t;return((t=this.headers.Prefer)!==null&&t!==void 0?t:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};ks.default=zg;var Fg=Re&&Re.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Kr,"__esModule",{value:!0});const Bg=Fg(ks);let Hg=class extends Bg.default{eq(t,n){return this.url.searchParams.append(t,`eq.${n}`),this}neq(t,n){return this.url.searchParams.append(t,`neq.${n}`),this}gt(t,n){return this.url.searchParams.append(t,`gt.${n}`),this}gte(t,n){return this.url.searchParams.append(t,`gte.${n}`),this}lt(t,n){return this.url.searchParams.append(t,`lt.${n}`),this}lte(t,n){return this.url.searchParams.append(t,`lte.${n}`),this}like(t,n){return this.url.searchParams.append(t,`like.${n}`),this}likeAllOf(t,n){return this.url.searchParams.append(t,`like(all).{${n.join(",")}}`),this}likeAnyOf(t,n){return this.url.searchParams.append(t,`like(any).{${n.join(",")}}`),this}ilike(t,n){return this.url.searchParams.append(t,`ilike.${n}`),this}ilikeAllOf(t,n){return this.url.searchParams.append(t,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(t,n){return this.url.searchParams.append(t,`ilike(any).{${n.join(",")}}`),this}is(t,n){return this.url.searchParams.append(t,`is.${n}`),this}in(t,n){const r=Array.from(new Set(n)).map(i=>typeof i=="string"&&new RegExp("[,()]").test(i)?`"${i}"`:`${i}`).join(",");return this.url.searchParams.append(t,`in.(${r})`),this}contains(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cs.{${n.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(n)}`),this}containedBy(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cd.{${n.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(n)}`),this}rangeGt(t,n){return this.url.searchParams.append(t,`sr.${n}`),this}rangeGte(t,n){return this.url.searchParams.append(t,`nxl.${n}`),this}rangeLt(t,n){return this.url.searchParams.append(t,`sl.${n}`),this}rangeLte(t,n){return this.url.searchParams.append(t,`nxr.${n}`),this}rangeAdjacent(t,n){return this.url.searchParams.append(t,`adj.${n}`),this}overlaps(t,n){return typeof n=="string"?this.url.searchParams.append(t,`ov.${n}`):this.url.searchParams.append(t,`ov.{${n.join(",")}}`),this}textSearch(t,n,{config:r,type:i}={}){let s="";i==="plain"?s="pl":i==="phrase"?s="ph":i==="websearch"&&(s="w");const o=r===void 0?"":`(${r})`;return this.url.searchParams.append(t,`${s}fts${o}.${n}`),this}match(t){return Object.entries(t).forEach(([n,r])=>{this.url.searchParams.append(n,`eq.${r}`)}),this}not(t,n,r){return this.url.searchParams.append(t,`not.${n}.${r}`),this}or(t,{foreignTable:n,referencedTable:r=n}={}){const i=r?`${r}.or`:"or";return this.url.searchParams.append(i,`(${t})`),this}filter(t,n,r){return this.url.searchParams.append(t,`${n}.${r}`),this}};Kr.default=Hg;var Vg=Re&&Re.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(xs,"__esModule",{value:!0});const tr=Vg(Kr);let Wg=class{constructor(t,{headers:n={},schema:r,fetch:i}){this.url=t,this.headers=n,this.schema=r,this.fetch=i}select(t,{head:n=!1,count:r}={}){const i=n?"HEAD":"GET";let s=!1;const o=(t??"*").split("").map(l=>/\s/.test(l)&&!s?"":(l==='"'&&(s=!s),l)).join("");return this.url.searchParams.set("select",o),r&&(this.headers.Prefer=`count=${r}`),new tr.default({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(t,{count:n,defaultToNull:r=!0}={}){const i="POST",s=[];if(this.headers.Prefer&&s.push(this.headers.Prefer),n&&s.push(`count=${n}`),r||s.push("missing=default"),this.headers.Prefer=s.join(","),Array.isArray(t)){const o=t.reduce((l,a)=>l.concat(Object.keys(a)),[]);if(o.length>0){const l=[...new Set(o)].map(a=>`"${a}"`);this.url.searchParams.set("columns",l.join(","))}}return new tr.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}upsert(t,{onConflict:n,ignoreDuplicates:r=!1,count:i,defaultToNull:s=!0}={}){const o="POST",l=[`resolution=${r?"ignore":"merge"}-duplicates`];if(n!==void 0&&this.url.searchParams.set("on_conflict",n),this.headers.Prefer&&l.push(this.headers.Prefer),i&&l.push(`count=${i}`),s||l.push("missing=default"),this.headers.Prefer=l.join(","),Array.isArray(t)){const a=t.reduce((u,c)=>u.concat(Object.keys(c)),[]);if(a.length>0){const u=[...new Set(a)].map(c=>`"${c}"`);this.url.searchParams.set("columns",u.join(","))}}return new tr.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}update(t,{count:n}={}){const r="PATCH",i=[];return this.headers.Prefer&&i.push(this.headers.Prefer),n&&i.push(`count=${n}`),this.headers.Prefer=i.join(","),new tr.default({method:r,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}delete({count:t}={}){const n="DELETE",r=[];return t&&r.push(`count=${t}`),this.headers.Prefer&&r.unshift(this.headers.Prefer),this.headers.Prefer=r.join(","),new tr.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};xs.default=Wg;var Cs={},js={};Object.defineProperty(js,"__esModule",{value:!0});js.version=void 0;js.version="0.0.0-automated";Object.defineProperty(Cs,"__esModule",{value:!0});Cs.DEFAULT_HEADERS=void 0;const Gg=js;Cs.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${Gg.version}`};var Ch=Re&&Re.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ua,"__esModule",{value:!0});const qg=Ch(xs),Kg=Ch(Kr),Jg=Cs;let Qg=class jh{constructor(t,{headers:n={},schema:r,fetch:i}={}){this.url=t,this.headers=Object.assign(Object.assign({},Jg.DEFAULT_HEADERS),n),this.schemaName=r,this.fetch=i}from(t){const n=new URL(`${this.url}/${t}`);return new qg.default(n,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new jh(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,n={},{head:r=!1,get:i=!1,count:s}={}){let o;const l=new URL(`${this.url}/rpc/${t}`);let a;r||i?(o=r?"HEAD":"GET",Object.entries(n).filter(([c,f])=>f!==void 0).map(([c,f])=>[c,Array.isArray(f)?`{${f.join(",")}}`:`${f}`]).forEach(([c,f])=>{l.searchParams.append(c,f)})):(o="POST",a=n);const u=Object.assign({},this.headers);return s&&(u.Prefer=`count=${s}`),new Kg.default({method:o,url:l,headers:u,schema:this.schemaName,body:a,fetch:this.fetch,allowEmpty:!1})}};ua.default=Qg;var Vn=Re&&Re.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ye,"__esModule",{value:!0});ye.PostgrestError=ye.PostgrestBuilder=ye.PostgrestTransformBuilder=ye.PostgrestFilterBuilder=ye.PostgrestQueryBuilder=ye.PostgrestClient=void 0;const Th=Vn(ua);ye.PostgrestClient=Th.default;const bh=Vn(xs);ye.PostgrestQueryBuilder=bh.default;const Nh=Vn(Kr);ye.PostgrestFilterBuilder=Nh.default;const Ah=Vn(ks);ye.PostgrestTransformBuilder=Ah.default;const Oh=Vn(Ss);ye.PostgrestBuilder=Oh.default;const Ph=Vn(Es);ye.PostgrestError=Ph.default;var Yg=ye.default={PostgrestClient:Th.default,PostgrestQueryBuilder:bh.default,PostgrestFilterBuilder:Nh.default,PostgrestTransformBuilder:Ah.default,PostgrestBuilder:Oh.default,PostgrestError:Ph.default};const{PostgrestClient:Xg,PostgrestQueryBuilder:ny,PostgrestFilterBuilder:ry,PostgrestTransformBuilder:iy,PostgrestBuilder:sy,PostgrestError:oy}=Yg;let sl;typeof window>"u"?sl=require("ws"):sl=window.WebSocket;const Zg=sl,e0="2.11.10",t0={"X-Client-Info":`realtime-js/${e0}`},n0="1.0.0",Ih=1e4,r0=1e3;var On;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(On||(On={}));var de;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(de||(de={}));var He;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(He||(He={}));var ol;(function(e){e.websocket="websocket"})(ol||(ol={}));var Ht;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Ht||(Ht={}));class i0{constructor(){this.HEADER_LENGTH=1}decode(t,n){return t.constructor===ArrayBuffer?n(this._binaryDecode(t)):n(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const n=new DataView(t),r=new TextDecoder;return this._decodeBroadcast(t,n,r)}_decodeBroadcast(t,n,r){const i=n.getUint8(1),s=n.getUint8(2);let o=this.HEADER_LENGTH+2;const l=r.decode(t.slice(o,o+i));o=o+i;const a=r.decode(t.slice(o,o+s));o=o+s;const u=JSON.parse(r.decode(t.slice(o,t.byteLength)));return{ref:null,topic:l,event:a,payload:u}}}class Rh{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var U;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(U||(U={}));const Hu=(e,t,n={})=>{var r;const i=(r=n.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(t).reduce((s,o)=>(s[o]=s0(o,e,t,i),s),{})},s0=(e,t,n,r)=>{const i=t.find(l=>l.name===e),s=i==null?void 0:i.type,o=n[e];return s&&!r.includes(s)?Lh(s,o):ll(o)},Lh=(e,t)=>{if(e.charAt(0)==="_"){const n=e.slice(1,e.length);return u0(t,n)}switch(e){case U.bool:return o0(t);case U.float4:case U.float8:case U.int2:case U.int4:case U.int8:case U.numeric:case U.oid:return l0(t);case U.json:case U.jsonb:return a0(t);case U.timestamp:return c0(t);case U.abstime:case U.date:case U.daterange:case U.int4range:case U.int8range:case U.money:case U.reltime:case U.text:case U.time:case U.timestamptz:case U.timetz:case U.tsrange:case U.tstzrange:return ll(t);default:return ll(t)}},ll=e=>e,o0=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},l0=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},a0=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},u0=(e,t)=>{if(typeof e!="string")return e;const n=e.length-1,r=e[n];if(e[0]==="{"&&r==="}"){let s;const o=e.slice(1,n);try{s=JSON.parse("["+o+"]")}catch{s=o?o.split(","):[]}return s.map(l=>Lh(t,l))}return e},c0=e=>typeof e=="string"?e.replace(" ","T"):e,$h=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class so{constructor(t,n,r={},i=Ih){this.channel=t,this.event=n,this.payload=r,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var r;return this._hasReceived(t)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(r=>r.status===t).forEach(r=>r.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var Vu;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(Vu||(Vu={}));class yr{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},i=>{const{onJoin:s,onLeave:o,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=yr.syncState(this.state,i,s,o),this.pendingDiffs.forEach(a=>{this.state=yr.syncDiff(this.state,a,s,o)}),this.pendingDiffs=[],l()}),this.channel._on(r.diff,{},i=>{const{onJoin:s,onLeave:o,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=yr.syncDiff(this.state,i,s,o),l())}),this.onJoin((i,s,o)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:s,newPresences:o})}),this.onLeave((i,s,o)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:s,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,r,i){const s=this.cloneDeep(t),o=this.transformState(n),l={},a={};return this.map(s,(u,c)=>{o[u]||(a[u]=c)}),this.map(o,(u,c)=>{const f=s[u];if(f){const d=c.map(C=>C.presence_ref),v=f.map(C=>C.presence_ref),w=c.filter(C=>v.indexOf(C.presence_ref)<0),_=f.filter(C=>d.indexOf(C.presence_ref)<0);w.length>0&&(l[u]=w),_.length>0&&(a[u]=_)}else l[u]=c}),this.syncDiff(s,{joins:l,leaves:a},r,i)}static syncDiff(t,n,r,i){const{joins:s,leaves:o}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),i||(i=()=>{}),this.map(s,(l,a)=>{var u;const c=(u=t[l])!==null&&u!==void 0?u:[];if(t[l]=this.cloneDeep(a),c.length>0){const f=t[l].map(v=>v.presence_ref),d=c.filter(v=>f.indexOf(v.presence_ref)<0);t[l].unshift(...d)}r(l,c,a)}),this.map(o,(l,a)=>{let u=t[l];if(!u)return;const c=a.map(f=>f.presence_ref);u=u.filter(f=>c.indexOf(f.presence_ref)<0),t[l]=u,i(l,u,a),u.length===0&&delete t[l]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(r=>n(r,t[r]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,r)=>{const i=t[r];return"metas"in i?n[r]=i.metas.map(s=>(s.presence_ref=s.phx_ref,delete s.phx_ref,delete s.phx_ref_prev,s)):n[r]=i,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Wu;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(Wu||(Wu={}));var Gu;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Gu||(Gu={}));var tt;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(tt||(tt={}));class ca{constructor(t,n={config:{}},r){this.topic=t,this.params=n,this.socket=r,this.bindings={},this.state=de.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new so(this,He.join,this.params,this.timeout),this.rejoinTimer=new Rh(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=de.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(i=>i.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=de.closed,this.socket._remove(this)}),this._onError(i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=de.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=de.errored,this.rejoinTimer.scheduleTimeout())}),this._on(He.reply,{},(i,s)=>{this._trigger(this._replyEventName(s),i)}),this.presence=new yr(this),this.broadcastEndpointURL=$h(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(t,n=this.timeout){var r,i;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:s,presence:o,private:l}}=this.params;this._onError(c=>t==null?void 0:t(tt.CHANNEL_ERROR,c)),this._onClose(()=>t==null?void 0:t(tt.CLOSED));const a={},u={broadcast:s,presence:o,postgres_changes:(i=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(c=>c.filter))!==null&&i!==void 0?i:[],private:l};this.socket.accessTokenValue&&(a.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:u},a)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:c})=>{var f;if(this.socket.setAuth(),c===void 0){t==null||t(tt.SUBSCRIBED);return}else{const d=this.bindings.postgres_changes,v=(f=d==null?void 0:d.length)!==null&&f!==void 0?f:0,w=[];for(let _=0;_<v;_++){const C=d[_],{filter:{event:g,schema:p,table:m,filter:y}}=C,k=c&&c[_];if(k&&k.event===g&&k.schema===p&&k.table===m&&k.filter===y)w.push(Object.assign(Object.assign({},C),{id:k.id}));else{this.unsubscribe(),this.state=de.errored,t==null||t(tt.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=w,t&&t(tt.SUBSCRIBED);return}}).receive("error",c=>{this.state=de.errored,t==null||t(tt.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(c).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(tt.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,r){return this._on(t,n,r)}async send(t,n={}){var r,i;if(!this._canPush()&&t.type==="broadcast"){const{event:s,payload:o}=t,a={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:s,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,a,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((i=u.body)===null||i===void 0?void 0:i.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(s=>{var o,l,a;const u=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((a=(l=(o=this.params)===null||o===void 0?void 0:o.config)===null||l===void 0?void 0:l.broadcast)===null||a===void 0)&&a.ack)&&s("ok"),u.receive("ok",()=>s("ok")),u.receive("error",()=>s("error")),u.receive("timeout",()=>s("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=de.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(He.close,"leave",this._joinRef())};return this.joinPush.destroy(),new Promise(r=>{const i=new so(this,He.leave,{},t);i.receive("ok",()=>{n(),r("ok")}).receive("timeout",()=>{n(),r("timed out")}).receive("error",()=>{r("error")}),i.send(),this._canPush()||i.trigger("ok",{})})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.rejoinTimer&&clearTimeout(this.rejoinTimer.timer),this.joinPush.destroy()}async _fetchWithTimeout(t,n,r){const i=new AbortController,s=setTimeout(()=>i.abort(),r),o=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:i.signal}));return clearTimeout(s),o}_push(t,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new so(this,t,n,r);return this._canPush()?i.send():(i.startTimeout(),this.pushBuffer.push(i)),i}_onMessage(t,n,r){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,r){var i,s;const o=t.toLocaleLowerCase(),{close:l,error:a,leave:u,join:c}=He;if(r&&[l,a,u,c].indexOf(o)>=0&&r!==this._joinRef())return;let d=this._onMessage(o,n,r);if(n&&!d)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(v=>{var w,_,C;return((w=v.filter)===null||w===void 0?void 0:w.event)==="*"||((C=(_=v.filter)===null||_===void 0?void 0:_.event)===null||C===void 0?void 0:C.toLocaleLowerCase())===o}).map(v=>v.callback(d,r)):(s=this.bindings[o])===null||s===void 0||s.filter(v=>{var w,_,C,g,p,m;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in v){const y=v.id,k=(w=v.filter)===null||w===void 0?void 0:w.event;return y&&((_=n.ids)===null||_===void 0?void 0:_.includes(y))&&(k==="*"||(k==null?void 0:k.toLocaleLowerCase())===((C=n.data)===null||C===void 0?void 0:C.type.toLocaleLowerCase()))}else{const y=(p=(g=v==null?void 0:v.filter)===null||g===void 0?void 0:g.event)===null||p===void 0?void 0:p.toLocaleLowerCase();return y==="*"||y===((m=n==null?void 0:n.event)===null||m===void 0?void 0:m.toLocaleLowerCase())}else return v.type.toLocaleLowerCase()===o}).map(v=>{if(typeof d=="object"&&"ids"in d){const w=d.data,{schema:_,table:C,commit_timestamp:g,type:p,errors:m}=w;d=Object.assign(Object.assign({},{schema:_,table:C,commit_timestamp:g,eventType:p,new:{},old:{},errors:m}),this._getPayloadRecords(w))}v.callback(d,r)})}_isClosed(){return this.state===de.closed}_isJoined(){return this.state===de.joined}_isJoining(){return this.state===de.joining}_isLeaving(){return this.state===de.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,r){const i=t.toLocaleLowerCase(),s={type:i,filter:n,callback:r};return this.bindings[i]?this.bindings[i].push(s):this.bindings[i]=[s],this}_off(t,n){const r=t.toLocaleLowerCase();return this.bindings[r]=this.bindings[r].filter(i=>{var s;return!(((s=i.type)===null||s===void 0?void 0:s.toLocaleLowerCase())===r&&ca.isEqual(i.filter,n))}),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const r in t)if(t[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(He.close,{},t)}_onError(t){this._on(He.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=de.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=Hu(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=Hu(t.columns,t.old_record)),n}}const qu=()=>{},d0=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class h0{constructor(t,n){var r;this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers=t0,this.params={},this.timeout=Ih,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=qu,this.ref=0,this.logger=qu,this.conn=null,this.sendBuffer=[],this.serializer=new i0,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=s=>{let o;return s?o=s:typeof fetch>"u"?o=(...l)=>qr(async()=>{const{default:a}=await Promise.resolve().then(()=>Hn);return{default:a}},void 0).then(({default:a})=>a(...l)):o=fetch,(...l)=>o(...l)},this.endPoint=`${t}/${ol.websocket}`,this.httpEndpoint=$h(t),n!=null&&n.transport?this.transport=n.transport:this.transport=null,n!=null&&n.params&&(this.params=n.params),n!=null&&n.headers&&(this.headers=Object.assign(Object.assign({},this.headers),n.headers)),n!=null&&n.timeout&&(this.timeout=n.timeout),n!=null&&n.logger&&(this.logger=n.logger),(n!=null&&n.logLevel||n!=null&&n.log_level)&&(this.logLevel=n.logLevel||n.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),n!=null&&n.heartbeatIntervalMs&&(this.heartbeatIntervalMs=n.heartbeatIntervalMs);const i=(r=n==null?void 0:n.params)===null||r===void 0?void 0:r.apikey;if(i&&(this.accessTokenValue=i,this.apiKey=i),this.reconnectAfterMs=n!=null&&n.reconnectAfterMs?n.reconnectAfterMs:s=>[1e3,2e3,5e3,1e4][s-1]||1e4,this.encode=n!=null&&n.encode?n.encode:(s,o)=>o(JSON.stringify(s)),this.decode=n!=null&&n.decode?n.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new Rh(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(n==null?void 0:n.fetch),n!=null&&n.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(n==null?void 0:n.worker)||!1,this.workerUrl=n==null?void 0:n.workerUrl}this.accessToken=(n==null?void 0:n.accessToken)||null}connect(){if(!this.conn){if(this.transport||(this.transport=Zg),this.transport){typeof window<"u"&&this.transport===window.WebSocket?this.conn=new this.transport(this.endpointURL()):this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection();return}this.conn=new f0(this.endpointURL(),void 0,{close:()=>{this.conn=null}})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:n0}))}disconnect(t,n){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,n??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset(),this.channels.forEach(r=>r.teardown()))}getChannels(){return this.channels}async removeChannel(t){const n=await t.unsubscribe();return this.channels=this.channels.filter(r=>r._joinRef!==t._joinRef),this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,n,r){this.logger(t,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case On.connecting:return Ht.Connecting;case On.open:return Ht.Open;case On.closing:return Ht.Closing;default:return Ht.Closed}}isConnected(){return this.connectionState()===Ht.Open}channel(t,n={config:{}}){const r=`realtime:${t}`,i=this.getChannels().find(s=>s.topic===r);if(i)return i;{const s=new ca(`realtime:${t}`,n,this);return this.channels.push(s),s}}push(t){const{topic:n,event:r,payload:i,ref:s}=t,o=()=>{this.encode(t,l=>{var a;(a=this.conn)===null||a===void 0||a.send(l)})};this.log("push",`${n} ${r} (${s})`,i),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){let n=t||this.accessToken&&await this.accessToken()||this.accessTokenValue;this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(r=>{n&&r.updateJoinPayload({access_token:n,version:this.headers&&this.headers["X-Client-Info"]}),r.joinedOnce&&r._isJoined()&&r._push(He.access_token,{access_token:n})}))}async sendHeartbeat(){var t;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),(t=this.conn)===null||t===void 0||t.close(r0,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),await this.setAuth()}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(r=>r.topic===t&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n.topic!==t.topic)}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_onConnMessage(t){this.decode(t.data,n=>{let{topic:r,event:i,payload:s,ref:o}=n;r==="phoenix"&&i==="phx_reply"&&this.heartbeatCallback(n.payload.status=="ok"?"ok":"error"),o&&o===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${s.status||""} ${r} ${i} ${o&&"("+o+")"||""}`,s),Array.from(this.channels).filter(l=>l._isMember(r)).forEach(l=>l._trigger(i,s,o)),this.stateChangeCallbacks.message.forEach(l=>l(n))})}_onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(t=>t())}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(n=>n(t))}_onConnError(t){this.log("transport",t.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(n=>n(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(He.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const r=t.match(/\?/)?"&":"?",i=new URLSearchParams(n);return`${t}${r}${i}`}_workerObjectUrl(t){let n;if(t)n=t;else{const r=new Blob([d0],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}}class f0{constructor(t,n,r){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=On.connecting,this.send=()=>{},this.url=null,this.url=t,this.close=r.close}}class da extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function ee(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class p0 extends da{constructor(t,n){super(t),this.name="StorageApiError",this.status=n}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class al extends da{constructor(t,n){super(t),this.name="StorageUnknownError",this.originalError=n}}var m0=function(e,t,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function l(c){try{u(r.next(c))}catch(f){o(f)}}function a(c){try{u(r.throw(c))}catch(f){o(f)}}function u(c){c.done?s(c.value):i(c.value).then(l,a)}u((r=r.apply(e,t||[])).next())})};const Uh=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>qr(async()=>{const{default:r}=await Promise.resolve().then(()=>Hn);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},g0=()=>m0(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield qr(()=>Promise.resolve().then(()=>Hn),void 0)).Response:Response}),ul=e=>{if(Array.isArray(e))return e.map(n=>ul(n));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([n,r])=>{const i=n.replace(/([-_][a-z])/gi,s=>s.toUpperCase().replace(/[-_]/g,""));t[i]=ul(r)}),t};var rn=function(e,t,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function l(c){try{u(r.next(c))}catch(f){o(f)}}function a(c){try{u(r.throw(c))}catch(f){o(f)}}function u(c){c.done?s(c.value):i(c.value).then(l,a)}u((r=r.apply(e,t||[])).next())})};const oo=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),v0=(e,t,n)=>rn(void 0,void 0,void 0,function*(){const r=yield g0();e instanceof r&&!(n!=null&&n.noResolveJson)?e.json().then(i=>{t(new p0(oo(i),e.status||500))}).catch(i=>{t(new al(oo(i),i))}):t(new al(oo(e),e))}),y0=(e,t,n,r)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),r&&(i.body=JSON.stringify(r)),Object.assign(Object.assign({},i),n))};function Jr(e,t,n,r,i,s){return rn(this,void 0,void 0,function*(){return new Promise((o,l)=>{e(n,y0(t,r,i,s)).then(a=>{if(!a.ok)throw a;return r!=null&&r.noResolveJson?a:a.json()}).then(a=>o(a)).catch(a=>v0(a,l,r))})})}function rs(e,t,n,r){return rn(this,void 0,void 0,function*(){return Jr(e,"GET",t,n,r)})}function gt(e,t,n,r,i){return rn(this,void 0,void 0,function*(){return Jr(e,"POST",t,r,i,n)})}function w0(e,t,n,r,i){return rn(this,void 0,void 0,function*(){return Jr(e,"PUT",t,r,i,n)})}function _0(e,t,n,r){return rn(this,void 0,void 0,function*(){return Jr(e,"HEAD",t,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function Dh(e,t,n,r,i){return rn(this,void 0,void 0,function*(){return Jr(e,"DELETE",t,r,i,n)})}var ge=function(e,t,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function l(c){try{u(r.next(c))}catch(f){o(f)}}function a(c){try{u(r.throw(c))}catch(f){o(f)}}function u(c){c.done?s(c.value):i(c.value).then(l,a)}u((r=r.apply(e,t||[])).next())})};const x0={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Ku={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class k0{constructor(t,n={},r,i){this.url=t,this.headers=n,this.bucketId=r,this.fetch=Uh(i)}uploadOrUpdate(t,n,r,i){return ge(this,void 0,void 0,function*(){try{let s;const o=Object.assign(Object.assign({},Ku),i);let l=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(o.upsert)});const a=o.metadata;typeof Blob<"u"&&r instanceof Blob?(s=new FormData,s.append("cacheControl",o.cacheControl),a&&s.append("metadata",this.encodeMetadata(a)),s.append("",r)):typeof FormData<"u"&&r instanceof FormData?(s=r,s.append("cacheControl",o.cacheControl),a&&s.append("metadata",this.encodeMetadata(a))):(s=r,l["cache-control"]=`max-age=${o.cacheControl}`,l["content-type"]=o.contentType,a&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(a)))),i!=null&&i.headers&&(l=Object.assign(Object.assign({},l),i.headers));const u=this._removeEmptyFolders(n),c=this._getFinalPath(u),f=yield this.fetch(`${this.url}/object/${c}`,Object.assign({method:t,body:s,headers:l},o!=null&&o.duplex?{duplex:o.duplex}:{})),d=yield f.json();return f.ok?{data:{path:u,id:d.Id,fullPath:d.Key},error:null}:{data:null,error:d}}catch(s){if(ee(s))return{data:null,error:s};throw s}})}upload(t,n,r){return ge(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,n,r)})}uploadToSignedUrl(t,n,r,i){return ge(this,void 0,void 0,function*(){const s=this._removeEmptyFolders(t),o=this._getFinalPath(s),l=new URL(this.url+`/object/upload/sign/${o}`);l.searchParams.set("token",n);try{let a;const u=Object.assign({upsert:Ku.upsert},i),c=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&r instanceof Blob?(a=new FormData,a.append("cacheControl",u.cacheControl),a.append("",r)):typeof FormData<"u"&&r instanceof FormData?(a=r,a.append("cacheControl",u.cacheControl)):(a=r,c["cache-control"]=`max-age=${u.cacheControl}`,c["content-type"]=u.contentType);const f=yield this.fetch(l.toString(),{method:"PUT",body:a,headers:c}),d=yield f.json();return f.ok?{data:{path:s,fullPath:d.Key},error:null}:{data:null,error:d}}catch(a){if(ee(a))return{data:null,error:a};throw a}})}createSignedUploadUrl(t,n){return ge(this,void 0,void 0,function*(){try{let r=this._getFinalPath(t);const i=Object.assign({},this.headers);n!=null&&n.upsert&&(i["x-upsert"]="true");const s=yield gt(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:i}),o=new URL(this.url+s.url),l=o.searchParams.get("token");if(!l)throw new da("No token returned by API");return{data:{signedUrl:o.toString(),path:t,token:l},error:null}}catch(r){if(ee(r))return{data:null,error:r};throw r}})}update(t,n,r){return ge(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,n,r)})}move(t,n,r){return ge(this,void 0,void 0,function*(){try{return{data:yield gt(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(ee(i))return{data:null,error:i};throw i}})}copy(t,n,r){return ge(this,void 0,void 0,function*(){try{return{data:{path:(yield gt(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(ee(i))return{data:null,error:i};throw i}})}createSignedUrl(t,n,r){return ge(this,void 0,void 0,function*(){try{let i=this._getFinalPath(t),s=yield gt(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return s={signedUrl:encodeURI(`${this.url}${s.signedURL}${o}`)},{data:s,error:null}}catch(i){if(ee(i))return{data:null,error:i};throw i}})}createSignedUrls(t,n,r){return ge(this,void 0,void 0,function*(){try{const i=yield gt(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:t},{headers:this.headers}),s=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:i.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${s}`):null})),error:null}}catch(i){if(ee(i))return{data:null,error:i};throw i}})}download(t,n){return ge(this,void 0,void 0,function*(){const i=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",s=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),o=s?`?${s}`:"";try{const l=this._getFinalPath(t);return{data:yield(yield rs(this.fetch,`${this.url}/${i}/${l}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(l){if(ee(l))return{data:null,error:l};throw l}})}info(t){return ge(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{const r=yield rs(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:ul(r),error:null}}catch(r){if(ee(r))return{data:null,error:r};throw r}})}exists(t){return ge(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{return yield _0(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(ee(r)&&r instanceof al){const i=r.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:r}}throw r}})}getPublicUrl(t,n){const r=this._getFinalPath(t),i=[],s=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";s!==""&&i.push(s);const l=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",a=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});a!==""&&i.push(a);let u=i.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${r}${u}`)}}}remove(t){return ge(this,void 0,void 0,function*(){try{return{data:yield Dh(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(n){if(ee(n))return{data:null,error:n};throw n}})}list(t,n,r){return ge(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},x0),n),{prefix:t||""});return{data:yield gt(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},r),error:null}}catch(i){if(ee(i))return{data:null,error:i};throw i}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const n=[];return t.width&&n.push(`width=${t.width}`),t.height&&n.push(`height=${t.height}`),t.resize&&n.push(`resize=${t.resize}`),t.format&&n.push(`format=${t.format}`),t.quality&&n.push(`quality=${t.quality}`),n.join("&")}}const S0="2.7.1",E0={"X-Client-Info":`storage-js/${S0}`};var ln=function(e,t,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function l(c){try{u(r.next(c))}catch(f){o(f)}}function a(c){try{u(r.throw(c))}catch(f){o(f)}}function u(c){c.done?s(c.value):i(c.value).then(l,a)}u((r=r.apply(e,t||[])).next())})};class C0{constructor(t,n={},r){this.url=t,this.headers=Object.assign(Object.assign({},E0),n),this.fetch=Uh(r)}listBuckets(){return ln(this,void 0,void 0,function*(){try{return{data:yield rs(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(ee(t))return{data:null,error:t};throw t}})}getBucket(t){return ln(this,void 0,void 0,function*(){try{return{data:yield rs(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(n){if(ee(n))return{data:null,error:n};throw n}})}createBucket(t,n={public:!1}){return ln(this,void 0,void 0,function*(){try{return{data:yield gt(this.fetch,`${this.url}/bucket`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(ee(r))return{data:null,error:r};throw r}})}updateBucket(t,n){return ln(this,void 0,void 0,function*(){try{return{data:yield w0(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(ee(r))return{data:null,error:r};throw r}})}emptyBucket(t){return ln(this,void 0,void 0,function*(){try{return{data:yield gt(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(ee(n))return{data:null,error:n};throw n}})}deleteBucket(t){return ln(this,void 0,void 0,function*(){try{return{data:yield Dh(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(ee(n))return{data:null,error:n};throw n}})}}class j0 extends C0{constructor(t,n={},r){super(t,n,r)}from(t){return new k0(this.url,this.headers,t,this.fetch)}}const T0="2.50.0";let or="";typeof Deno<"u"?or="deno":typeof document<"u"?or="web":typeof navigator<"u"&&navigator.product==="ReactNative"?or="react-native":or="node";const b0={"X-Client-Info":`supabase-js-${or}/${T0}`},N0={headers:b0},A0={schema:"public"},O0={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},P0={};var I0=function(e,t,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function l(c){try{u(r.next(c))}catch(f){o(f)}}function a(c){try{u(r.throw(c))}catch(f){o(f)}}function u(c){c.done?s(c.value):i(c.value).then(l,a)}u((r=r.apply(e,t||[])).next())})};const R0=e=>{let t;return e?t=e:typeof fetch>"u"?t=kh:t=fetch,(...n)=>t(...n)},L0=()=>typeof Headers>"u"?Sh:Headers,$0=(e,t,n)=>{const r=R0(n),i=L0();return(s,o)=>I0(void 0,void 0,void 0,function*(){var l;const a=(l=yield t())!==null&&l!==void 0?l:e;let u=new i(o==null?void 0:o.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${a}`),r(s,Object.assign(Object.assign({},o),{headers:u}))})};var U0=function(e,t,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function l(c){try{u(r.next(c))}catch(f){o(f)}}function a(c){try{u(r.throw(c))}catch(f){o(f)}}function u(c){c.done?s(c.value):i(c.value).then(l,a)}u((r=r.apply(e,t||[])).next())})};function D0(e){return e.endsWith("/")?e:e+"/"}function M0(e,t){var n,r;const{db:i,auth:s,realtime:o,global:l}=e,{db:a,auth:u,realtime:c,global:f}=t,d={db:Object.assign(Object.assign({},a),i),auth:Object.assign(Object.assign({},u),s),realtime:Object.assign(Object.assign({},c),o),global:Object.assign(Object.assign(Object.assign({},f),l),{headers:Object.assign(Object.assign({},(n=f==null?void 0:f.headers)!==null&&n!==void 0?n:{}),(r=l==null?void 0:l.headers)!==null&&r!==void 0?r:{})}),accessToken:()=>U0(this,void 0,void 0,function*(){return""})};return e.accessToken?d.accessToken=e.accessToken:delete d.accessToken,d}const Mh="2.70.0",dn=30*1e3,cl=3,lo=cl*dn,z0="http://localhost:9999",F0="supabase.auth.token",B0={"X-Client-Info":`gotrue-js/${Mh}`},dl="X-Supabase-Api-Version",zh={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},H0=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,V0=6e5;class ha extends Error{constructor(t,n,r){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function N(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class W0 extends ha{constructor(t,n,r){super(t,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function G0(e){return N(e)&&e.name==="AuthApiError"}class Fh extends ha{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}}class $t extends ha{constructor(t,n,r,i){super(t,r,i),this.name=n,this.status=r}}class ht extends $t{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function q0(e){return N(e)&&e.name==="AuthSessionMissingError"}class mi extends $t{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class gi extends $t{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class vi extends $t{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function K0(e){return N(e)&&e.name==="AuthImplicitGrantRedirectError"}class Ju extends $t{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class hl extends $t{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}}function ao(e){return N(e)&&e.name==="AuthRetryableFetchError"}class Qu extends $t{constructor(t,n,r){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class wr extends $t{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const is="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Yu=` 	
\r=`.split(""),J0=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<Yu.length;t+=1)e[Yu[t].charCodeAt(0)]=-2;for(let t=0;t<is.length;t+=1)e[is[t].charCodeAt(0)]=t;return e})();function Xu(e,t,n){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(is[r]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(is[r]),t.queuedBits-=6}}function Bh(e,t,n){const r=J0[e];if(r>-1)for(t.queue=t.queue<<6|r,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function Zu(e){const t=[],n=o=>{t.push(String.fromCodePoint(o))},r={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},s=o=>{X0(o,r,n)};for(let o=0;o<e.length;o+=1)Bh(e.charCodeAt(o),i,s);return t.join("")}function Q0(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function Y0(e,t){for(let n=0;n<e.length;n+=1){let r=e.charCodeAt(n);if(r>55295&&r<=56319){const i=(r-55296)*1024&65535;r=(e.charCodeAt(n+1)-56320&65535|i)+65536,n+=1}Q0(r,t)}}function X0(e,t,n){if(t.utf8seq===0){if(e<=127){n(e);return}for(let r=1;r<6;r+=1)if(!(e>>7-r&1)){t.utf8seq=r;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&n(t.codepoint)}}function Z0(e){const t=[],n={queue:0,queuedBits:0},r=i=>{t.push(i)};for(let i=0;i<e.length;i+=1)Bh(e.charCodeAt(i),n,r);return new Uint8Array(t)}function ev(e){const t=[];return Y0(e,n=>t.push(n)),new Uint8Array(t)}function tv(e){const t=[],n={queue:0,queuedBits:0},r=i=>{t.push(i)};return e.forEach(i=>Xu(i,n,r)),Xu(null,n,r),t.join("")}function nv(e){return Math.round(Date.now()/1e3)+e}function rv(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const ze=()=>typeof window<"u"&&typeof document<"u",Mt={tested:!1,writable:!1},_r=()=>{if(!ze())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Mt.tested)return Mt.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Mt.tested=!0,Mt.writable=!0}catch{Mt.tested=!0,Mt.writable=!1}return Mt.writable};function iv(e){const t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((i,s)=>{t[s]=i})}catch{}return n.searchParams.forEach((r,i)=>{t[i]=r}),t}const Hh=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>qr(async()=>{const{default:r}=await Promise.resolve().then(()=>Hn);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},sv=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Vh=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},yi=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},wi=async(e,t)=>{await e.removeItem(t)};class Ts{constructor(){this.promise=new Ts.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}Ts.promiseConstructor=Promise;function uo(e){const t=e.split(".");if(t.length!==3)throw new wr("Invalid JWT structure");for(let r=0;r<t.length;r++)if(!H0.test(t[r]))throw new wr("JWT not in base64url format");return{header:JSON.parse(Zu(t[0])),payload:JSON.parse(Zu(t[1])),signature:Z0(t[2]),raw:{header:t[0],payload:t[1]}}}async function ov(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function lv(e,t){return new Promise((r,i)=>{(async()=>{for(let s=0;s<1/0;s++)try{const o=await e(s);if(!t(s,null,o)){r(o);return}}catch(o){if(!t(s,o)){i(o);return}}})()})}function av(e){return("0"+e.toString(16)).substr(-2)}function uv(){const t=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let i="";for(let s=0;s<56;s++)i+=n.charAt(Math.floor(Math.random()*r));return i}return crypto.getRandomValues(t),Array.from(t,av).join("")}async function cv(e){const n=new TextEncoder().encode(e),r=await crypto.subtle.digest("SHA-256",n),i=new Uint8Array(r);return Array.from(i).map(s=>String.fromCharCode(s)).join("")}async function dv(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const n=await cv(e);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function an(e,t,n=!1){const r=uv();let i=r;n&&(i+="/PASSWORD_RECOVERY"),await Vh(e,`${t}-code-verifier`,i);const s=await dv(r);return[s,r===s?"plain":"s256"]}const hv=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function fv(e){const t=e.headers.get(dl);if(!t||!t.match(hv))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function pv(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function mv(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const gv=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function un(e){if(!gv.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}var vv=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};const Bt=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),yv=[502,503,504];async function ec(e){var t;if(!sv(e))throw new hl(Bt(e),0);if(yv.includes(e.status))throw new hl(Bt(e),e.status);let n;try{n=await e.json()}catch(s){throw new Fh(Bt(s),s)}let r;const i=fv(e);if(i&&i.getTime()>=zh["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new Qu(Bt(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(r==="session_not_found")throw new ht}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((s,o)=>s&&typeof o=="string",!0))throw new Qu(Bt(n),e.status,n.weak_password.reasons);throw new W0(Bt(n),e.status||500,r)}const wv=(e,t,n,r)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),i.body=JSON.stringify(r),Object.assign(Object.assign({},i),n))};async function P(e,t,n,r){var i;const s=Object.assign({},r==null?void 0:r.headers);s[dl]||(s[dl]=zh["2024-01-01"].name),r!=null&&r.jwt&&(s.Authorization=`Bearer ${r.jwt}`);const o=(i=r==null?void 0:r.query)!==null&&i!==void 0?i:{};r!=null&&r.redirectTo&&(o.redirect_to=r.redirectTo);const l=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",a=await _v(e,t,n+l,{headers:s,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(a):{data:Object.assign({},a),error:null}}async function _v(e,t,n,r,i,s){const o=wv(t,r,i,s);let l;try{l=await e(n,Object.assign({},o))}catch(a){throw console.error(a),new hl(Bt(a),0)}if(l.ok||await ec(l),r!=null&&r.noResolveJson)return l;try{return await l.json()}catch(a){await ec(a)}}function Ze(e){var t;let n=null;Ev(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=nv(e.expires_in)));const r=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:r},error:null}}function tc(e){const t=Ze(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(t.data.weak_password=e.weak_password),t}function wt(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function xv(e){return{data:e,error:null}}function kv(e){const{action_link:t,email_otp:n,hashed_token:r,redirect_to:i,verification_type:s}=e,o=vv(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:n,hashed_token:r,redirect_to:i,verification_type:s},a=Object.assign({},o);return{data:{properties:l,user:a},error:null}}function Sv(e){return e}function Ev(e){return e.access_token&&e.refresh_token&&e.expires_in}const co=["global","local","others"];var Cv=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};class jv{constructor({url:t="",headers:n={},fetch:r}){this.url=t,this.headers=n,this.fetch=Hh(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,n=co[0]){if(co.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${co.join(", ")}`);try{return await P(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(r){if(N(r))return{data:null,error:r};throw r}}async inviteUserByEmail(t,n={}){try{return await P(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:wt})}catch(r){if(N(r))return{data:{user:null},error:r};throw r}}async generateLink(t){try{const{options:n}=t,r=Cv(t,["options"]),i=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(i.new_email=r==null?void 0:r.newEmail,delete i.newEmail),await P(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:kv,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(N(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await P(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:wt})}catch(n){if(N(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,r,i,s,o,l,a;try{const u={nextPage:null,lastPage:0,total:0},c=await P(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(s=(i=t==null?void 0:t.perPage)===null||i===void 0?void 0:i.toString())!==null&&s!==void 0?s:""},xform:Sv});if(c.error)throw c.error;const f=await c.json(),d=(o=c.headers.get("x-total-count"))!==null&&o!==void 0?o:0,v=(a=(l=c.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&a!==void 0?a:[];return v.length>0&&(v.forEach(w=>{const _=parseInt(w.split(";")[0].split("=")[1].substring(0,1)),C=JSON.parse(w.split(";")[1].split("=")[1]);u[`${C}Page`]=_}),u.total=parseInt(d)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(N(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){un(t);try{return await P(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:wt})}catch(n){if(N(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){un(t);try{return await P(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:wt})}catch(r){if(N(r))return{data:{user:null},error:r};throw r}}async deleteUser(t,n=!1){un(t);try{return await P(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:wt})}catch(r){if(N(r))return{data:{user:null},error:r};throw r}}async _listFactors(t){un(t.userId);try{const{data:n,error:r}=await P(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:n,error:r}}catch(n){if(N(n))return{data:null,error:n};throw n}}async _deleteFactor(t){un(t.userId),un(t.id);try{return{data:await P(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(N(n))return{data:null,error:n};throw n}}}const Tv={getItem:e=>_r()?globalThis.localStorage.getItem(e):null,setItem:(e,t)=>{_r()&&globalThis.localStorage.setItem(e,t)},removeItem:e=>{_r()&&globalThis.localStorage.removeItem(e)}};function nc(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}function bv(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const cn={debug:!!(globalThis&&_r()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Wh extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class Nv extends Wh{}async function Av(e,t,n){cn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort(),cn.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async i=>{if(i){cn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,i.name);try{return await n()}finally{cn.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,i.name)}}else{if(t===0)throw cn.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new Nv(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(cn.debug)try{const s=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(s,null,"  "))}catch(s){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",s)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}bv();const Ov={url:z0,storageKey:F0,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:B0,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function rc(e,t,n){return await n()}class zr{constructor(t){var n,r;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=zr.nextInstanceID,zr.nextInstanceID+=1,this.instanceID>0&&ze()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const i=Object.assign(Object.assign({},Ov),t);if(this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.persistSession=i.persistSession,this.storageKey=i.storageKey,this.autoRefreshToken=i.autoRefreshToken,this.admin=new jv({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=Hh(i.fetch),this.lock=i.lock||rc,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,i.lock?this.lock=i.lock:ze()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=Av:this.lock=rc,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?i.storage?this.storage=i.storage:_r()?this.storage=Tv:(this.memoryStorage={},this.storage=nc(this.memoryStorage)):(this.memoryStorage={},this.storage=nc(this.memoryStorage)),ze()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(s){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",s)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async s=>{this._debug("received broadcast notification from other tab or client",s),await this._notifyAllSubscribers(s.data.event,s.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Mh}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const n=iv(window.location.href);let r="none";if(this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce"),ze()&&this.detectSessionInUrl&&r!=="none"){const{data:i,error:s}=await this._getSessionFromURL(n,r);if(s){if(this._debug("#_initialize()","error detecting session from URL",s),K0(s)){const a=(t=s.details)===null||t===void 0?void 0:t.code;if(a==="identity_already_exists"||a==="identity_not_found"||a==="single_identity_not_deletable")return{error:s}}return await this._removeSession(),{error:s}}const{session:o,redirectType:l}=i;return this._debug("#_initialize()","detected session in URL",o,"redirect type",l),await this._saveSession(o),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return N(n)?{error:n}:{error:new Fh("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var n,r,i;try{const s=await P(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=t==null?void 0:t.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(i=t==null?void 0:t.options)===null||i===void 0?void 0:i.captchaToken}},xform:Ze}),{data:o,error:l}=s;if(l||!o)return{data:{user:null,session:null},error:l};const a=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",a)),{data:{user:u,session:a},error:null}}catch(s){if(N(s))return{data:{user:null,session:null},error:s};throw s}}async signUp(t){var n,r,i;try{let s;if("email"in t){const{email:c,password:f,options:d}=t;let v=null,w=null;this.flowType==="pkce"&&([v,w]=await an(this.storage,this.storageKey)),s=await P(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:d==null?void 0:d.emailRedirectTo,body:{email:c,password:f,data:(n=d==null?void 0:d.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken},code_challenge:v,code_challenge_method:w},xform:Ze})}else if("phone"in t){const{phone:c,password:f,options:d}=t;s=await P(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:c,password:f,data:(r=d==null?void 0:d.data)!==null&&r!==void 0?r:{},channel:(i=d==null?void 0:d.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken}},xform:Ze})}else throw new gi("You must provide either an email or phone number and a password");const{data:o,error:l}=s;if(l||!o)return{data:{user:null,session:null},error:l};const a=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",a)),{data:{user:u,session:a},error:null}}catch(s){if(N(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithPassword(t){try{let n;if("email"in t){const{email:s,password:o,options:l}=t;n=await P(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:s,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:tc})}else if("phone"in t){const{phone:s,password:o,options:l}=t;n=await P(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:s,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:tc})}else throw new gi("You must provide either an email or phone number and a password");const{data:r,error:i}=n;return i?{data:{user:null,session:null},error:i}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new mi}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:i})}catch(n){if(N(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(t){var n,r,i,s;return await this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=t.options)===null||r===void 0?void 0:r.scopes,queryParams:(i=t.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(s=t.options)===null||s===void 0?void 0:s.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:n}=t;if(n==="solana")return await this.signInWithSolana(t);throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}async signInWithSolana(t){var n,r,i,s,o,l,a,u,c,f,d,v;let w,_;if("message"in t)w=t.message,_=t.signature;else{const{chain:C,wallet:g,statement:p,options:m}=t;let y;if(ze())if(typeof g=="object")y=g;else{const S=window;if("solana"in S&&typeof S.solana=="object"&&("signIn"in S.solana&&typeof S.solana.signIn=="function"||"signMessage"in S.solana&&typeof S.solana.signMessage=="function"))y=S.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof g!="object"||!(m!=null&&m.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");y=g}const k=new URL((n=m==null?void 0:m.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in y&&y.signIn){const S=await y.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},m==null?void 0:m.signInWithSolana),{version:"1",domain:k.host,uri:k.href}),p?{statement:p}:null));let E;if(Array.isArray(S)&&S[0]&&typeof S[0]=="object")E=S[0];else if(S&&typeof S=="object"&&"signedMessage"in S&&"signature"in S)E=S;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in E&&"signature"in E&&(typeof E.signedMessage=="string"||E.signedMessage instanceof Uint8Array)&&E.signature instanceof Uint8Array)w=typeof E.signedMessage=="string"?E.signedMessage:new TextDecoder().decode(E.signedMessage),_=E.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in y)||typeof y.signMessage!="function"||!("publicKey"in y)||typeof y!="object"||!y.publicKey||!("toBase58"in y.publicKey)||typeof y.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");w=[`${k.host} wants you to sign in with your Solana account:`,y.publicKey.toBase58(),...p?["",p,""]:[""],"Version: 1",`URI: ${k.href}`,`Issued At: ${(i=(r=m==null?void 0:m.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((s=m==null?void 0:m.signInWithSolana)===null||s===void 0)&&s.notBefore?[`Not Before: ${m.signInWithSolana.notBefore}`]:[],...!((o=m==null?void 0:m.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${m.signInWithSolana.expirationTime}`]:[],...!((l=m==null?void 0:m.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${m.signInWithSolana.chainId}`]:[],...!((a=m==null?void 0:m.signInWithSolana)===null||a===void 0)&&a.nonce?[`Nonce: ${m.signInWithSolana.nonce}`]:[],...!((u=m==null?void 0:m.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${m.signInWithSolana.requestId}`]:[],...!((f=(c=m==null?void 0:m.signInWithSolana)===null||c===void 0?void 0:c.resources)===null||f===void 0)&&f.length?["Resources",...m.signInWithSolana.resources.map(E=>`- ${E}`)]:[]].join(`
`);const S=await y.signMessage(new TextEncoder().encode(w),"utf8");if(!S||!(S instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");_=S}}try{const{data:C,error:g}=await P(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:w,signature:tv(_)},!((d=t.options)===null||d===void 0)&&d.captchaToken?{gotrue_meta_security:{captcha_token:(v=t.options)===null||v===void 0?void 0:v.captchaToken}}:null),xform:Ze});if(g)throw g;return!C||!C.session||!C.user?{data:{user:null,session:null},error:new mi}:(C.session&&(await this._saveSession(C.session),await this._notifyAllSubscribers("SIGNED_IN",C.session)),{data:Object.assign({},C),error:g})}catch(C){if(N(C))return{data:{user:null,session:null},error:C};throw C}}async _exchangeCodeForSession(t){const n=await yi(this.storage,`${this.storageKey}-code-verifier`),[r,i]=(n??"").split("/");try{const{data:s,error:o}=await P(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:r},xform:Ze});if(await wi(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!s||!s.session||!s.user?{data:{user:null,session:null,redirectType:null},error:new mi}:(s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),{data:Object.assign(Object.assign({},s),{redirectType:i??null}),error:o})}catch(s){if(N(s))return{data:{user:null,session:null,redirectType:null},error:s};throw s}}async signInWithIdToken(t){try{const{options:n,provider:r,token:i,access_token:s,nonce:o}=t,l=await P(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:i,access_token:s,nonce:o,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:Ze}),{data:a,error:u}=l;return u?{data:{user:null,session:null},error:u}:!a||!a.session||!a.user?{data:{user:null,session:null},error:new mi}:(a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),{data:a,error:u})}catch(n){if(N(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(t){var n,r,i,s,o;try{if("email"in t){const{email:l,options:a}=t;let u=null,c=null;this.flowType==="pkce"&&([u,c]=await an(this.storage,this.storageKey));const{error:f}=await P(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(n=a==null?void 0:a.data)!==null&&n!==void 0?n:{},create_user:(r=a==null?void 0:a.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken},code_challenge:u,code_challenge_method:c},redirectTo:a==null?void 0:a.emailRedirectTo});return{data:{user:null,session:null},error:f}}if("phone"in t){const{phone:l,options:a}=t,{data:u,error:c}=await P(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(i=a==null?void 0:a.data)!==null&&i!==void 0?i:{},create_user:(s=a==null?void 0:a.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken},channel:(o=a==null?void 0:a.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:c}}throw new gi("You must provide either an email or phone number.")}catch(l){if(N(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(t){var n,r;try{let i,s;"options"in t&&(i=(n=t.options)===null||n===void 0?void 0:n.redirectTo,s=(r=t.options)===null||r===void 0?void 0:r.captchaToken);const{data:o,error:l}=await P(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:s}}),redirectTo:i,xform:Ze});if(l)throw l;if(!o)throw new Error("An error occurred on token verification.");const a=o.session,u=o.user;return a!=null&&a.access_token&&(await this._saveSession(a),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",a)),{data:{user:u,session:a},error:null}}catch(i){if(N(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithSSO(t){var n,r,i;try{let s=null,o=null;return this.flowType==="pkce"&&([s,o]=await an(this.storage,this.storageKey)),await P(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(r=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((i=t==null?void 0:t.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:s,code_challenge_method:o}),headers:this.headers,xform:xv})}catch(s){if(N(s))return{data:null,error:s};throw s}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;if(r)throw r;if(!n)throw new ht;const{error:i}=await P(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:i}})}catch(t){if(N(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const n=`${this.url}/resend`;if("email"in t){const{email:r,type:i,options:s}=t,{error:o}=await P(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:i,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},redirectTo:s==null?void 0:s.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in t){const{phone:r,type:i,options:s}=t,{data:o,error:l}=await P(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:i,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:l}}throw new gi("You must provide either an email or phone number and a type")}catch(n){if(N(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(t,n){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await t(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const n=await yi(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?t=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const r=t.expires_at?t.expires_at*1e3-Date.now()<lo:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",t.expires_at),!r){if(this.storage.isServer){let o=this.suppressGetSessionWarning;t=new Proxy(t,{get:(a,u,c)=>(!o&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(a,u,c))})}return{data:{session:t},error:null}}const{session:i,error:s}=await this._callRefreshToken(t.refresh_token);return s?{data:{session:null},error:s}:{data:{session:i},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await P(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:wt}):await this._useSession(async n=>{var r,i,s;const{data:o,error:l}=n;if(l)throw l;return!(!((r=o.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new ht}:await P(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(s=(i=o.session)===null||i===void 0?void 0:i.access_token)!==null&&s!==void 0?s:void 0,xform:wt})})}catch(n){if(N(n))return q0(n)&&(await this._removeSession(),await wi(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(t,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,n))}async _updateUser(t,n={}){try{return await this._useSession(async r=>{const{data:i,error:s}=r;if(s)throw s;if(!i.session)throw new ht;const o=i.session;let l=null,a=null;this.flowType==="pkce"&&t.email!=null&&([l,a]=await an(this.storage,this.storageKey));const{data:u,error:c}=await P(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:a}),jwt:o.access_token,xform:wt});if(c)throw c;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(r){if(N(r))return{data:{user:null},error:r};throw r}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new ht;const n=Date.now()/1e3;let r=n,i=!0,s=null;const{payload:o}=uo(t.access_token);if(o.exp&&(r=o.exp,i=r<=n),i){const{session:l,error:a}=await this._callRefreshToken(t.refresh_token);if(a)return{data:{user:null,session:null},error:a};if(!l)return{data:{user:null,session:null},error:null};s=l}else{const{data:l,error:a}=await this._getUser(t.access_token);if(a)throw a;s={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)}return{data:{user:s.user,session:s},error:null}}catch(n){if(N(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async n=>{var r;if(!t){const{data:o,error:l}=n;if(l)throw l;t=(r=o.session)!==null&&r!==void 0?r:void 0}if(!(t!=null&&t.refresh_token))throw new ht;const{session:i,error:s}=await this._callRefreshToken(t.refresh_token);return s?{data:{user:null,session:null},error:s}:i?{data:{user:i.user,session:i},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(N(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(t,n){try{if(!ze())throw new vi("No browser detected.");if(t.error||t.error_description||t.error_code)throw new vi(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new Ju("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new vi("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new Ju("No code detected.");const{data:p,error:m}=await this._exchangeCodeForSession(t.code);if(m)throw m;const y=new URL(window.location.href);return y.searchParams.delete("code"),window.history.replaceState(window.history.state,"",y.toString()),{data:{session:p.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:i,access_token:s,refresh_token:o,expires_in:l,expires_at:a,token_type:u}=t;if(!s||!l||!o||!u)throw new vi("No session defined in URL");const c=Math.round(Date.now()/1e3),f=parseInt(l);let d=c+f;a&&(d=parseInt(a));const v=d-c;v*1e3<=dn&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${v}s, should have been closer to ${f}s`);const w=d-f;c-w>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",w,d,c):c-w<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",w,d,c);const{data:_,error:C}=await this._getUser(s);if(C)throw C;const g={provider_token:r,provider_refresh_token:i,access_token:s,expires_in:f,expires_at:d,refresh_token:o,token_type:u,user:_.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:g,redirectType:t.type},error:null}}catch(r){if(N(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const n=await yi(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&n)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:i,error:s}=n;if(s)return{error:s};const o=(r=i.session)===null||r===void 0?void 0:r.access_token;if(o){const{error:l}=await this.admin.signOut(o,t);if(l&&!(G0(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return t!=="others"&&(await this._removeSession(),await wi(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const n=rv(),r={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(t){return await this._useSession(async n=>{var r,i;try{const{data:{session:s},error:o}=n;if(o)throw o;await((r=this.stateChangeEmitters.get(t))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",s)),this._debug("INITIAL_SESSION","callback id",t,"session",s)}catch(s){await((i=this.stateChangeEmitters.get(t))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",s),console.error(s)}})}async resetPasswordForEmail(t,n={}){let r=null,i=null;this.flowType==="pkce"&&([r,i]=await an(this.storage,this.storageKey,!0));try{return await P(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:r,code_challenge_method:i,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(s){if(N(s))return{data:null,error:s};throw s}}async getUserIdentities(){var t;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(t=n.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(n){if(N(n))return{data:null,error:n};throw n}}async linkIdentity(t){var n;try{const{data:r,error:i}=await this._useSession(async s=>{var o,l,a,u,c;const{data:f,error:d}=s;if(d)throw d;const v=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(a=t.options)===null||a===void 0?void 0:a.queryParams,skipBrowserRedirect:!0});return await P(this.fetch,"GET",v,{headers:this.headers,jwt:(c=(u=f.session)===null||u===void 0?void 0:u.access_token)!==null&&c!==void 0?c:void 0})});if(i)throw i;return ze()&&!(!((n=t.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:t.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(N(r))return{data:{provider:t.provider,url:null},error:r};throw r}}async unlinkIdentity(t){try{return await this._useSession(async n=>{var r,i;const{data:s,error:o}=n;if(o)throw o;return await P(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(i=(r=s.session)===null||r===void 0?void 0:r.access_token)!==null&&i!==void 0?i:void 0})})}catch(n){if(N(n))return{data:null,error:n};throw n}}async _refreshAccessToken(t){const n=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await lv(async i=>(i>0&&await ov(200*Math.pow(2,i-1)),this._debug(n,"refreshing attempt",i),await P(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Ze})),(i,s)=>{const o=200*Math.pow(2,i);return s&&ao(s)&&Date.now()+o-r<dn})}catch(r){if(this._debug(n,"error",r),N(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(n,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",r),ze()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:t,url:r},error:null}}async _recoverAndRefresh(){var t;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const r=await yi(this.storage,this.storageKey);if(this._debug(n,"session from storage",r),!this._isValidSession(r)){this._debug(n,"session is not valid"),r!==null&&await this._removeSession();return}const i=((t=r.expires_at)!==null&&t!==void 0?t:1/0)*1e3-Date.now()<lo;if(this._debug(n,`session has${i?"":" not"} expired with margin of ${lo}s`),i){if(this.autoRefreshToken&&r.refresh_token){const{error:s}=await this._callRefreshToken(r.refresh_token);s&&(console.error(s),ao(s)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",s),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",r)}catch(r){this._debug(n,"error",r),console.error(r);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var n,r;if(!t)throw new ht;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new Ts;const{data:s,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!s.session)throw new ht;await this._saveSession(s.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",s.session);const l={session:s.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(s){if(this._debug(i,"error",s),N(s)){const o={session:null,error:s};return ao(s)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(o),o}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(s),s}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(t,n,r=!0){const i=`#_notifyAllSubscribers(${t})`;this._debug(i,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:t,session:n});const s=[],o=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,n)}catch(a){s.push(a)}});if(await Promise.all(o),s.length>0){for(let l=0;l<s.length;l+=1)console.error(s[l]);throw s[0]}}finally{this._debug(i,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await Vh(this.storage,this.storageKey,t)}async _removeSession(){this._debug("#_removeSession()"),await wi(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&ze()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),dn);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((r.expires_at*1e3-t)/dn);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${dn}ms, refresh threshold is ${cl} ticks`),i<=cl&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof Wh)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!ze()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const n=`#_onVisibilityChanged(${t})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,n,r){const i=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&i.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&i.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[s,o]=await an(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(s)}`,code_challenge_method:`${encodeURIComponent(o)}`});i.push(l.toString())}if(r!=null&&r.queryParams){const s=new URLSearchParams(r.queryParams);i.push(s.toString())}return r!=null&&r.skipBrowserRedirect&&i.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${t}?${i.join("&")}`}async _unenroll(t){try{return await this._useSession(async n=>{var r;const{data:i,error:s}=n;return s?{data:null,error:s}:await P(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(N(n))return{data:null,error:n};throw n}}async _enroll(t){try{return await this._useSession(async n=>{var r,i;const{data:s,error:o}=n;if(o)return{data:null,error:o};const l=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:a,error:u}=await P(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});return u?{data:null,error:u}:(t.factorType==="totp"&&(!((i=a==null?void 0:a.totp)===null||i===void 0)&&i.qr_code)&&(a.totp.qr_code=`data:image/svg+xml;utf-8,${a.totp.qr_code}`),{data:a,error:null})})}catch(n){if(N(n))return{data:null,error:n};throw n}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:s}=n;if(s)return{data:null,error:s};const{data:o,error:l}=await P(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:l})})}catch(n){if(N(n))return{data:null,error:n};throw n}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:s}=n;return s?{data:null,error:s}:await P(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(N(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(t){const{data:n,error:r}=await this._challenge({factorId:t.factorId});return r?{data:null,error:r}:await this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})}async _listFactors(){const{data:{user:t},error:n}=await this.getUser();if(n)return{data:null,error:n};const r=(t==null?void 0:t.factors)||[],i=r.filter(o=>o.factor_type==="totp"&&o.status==="verified"),s=r.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:r,totp:i,phone:s},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var n,r;const{data:{session:i},error:s}=t;if(s)return{data:null,error:s};if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=uo(i.access_token);let l=null;o.aal&&(l=o.aal);let a=l;((r=(n=i.user.factors)===null||n===void 0?void 0:n.filter(f=>f.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(a="aal2");const c=o.amr||[];return{data:{currentLevel:l,nextLevel:a,currentAuthenticationMethods:c},error:null}}))}async fetchJwk(t,n={keys:[]}){let r=n.keys.find(o=>o.kid===t);if(r||(r=this.jwks.keys.find(o=>o.kid===t),r&&this.jwks_cached_at+V0>Date.now()))return r;const{data:i,error:s}=await P(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(s)throw s;if(!i.keys||i.keys.length===0)throw new wr("JWKS is empty");if(this.jwks=i,this.jwks_cached_at=Date.now(),r=i.keys.find(o=>o.kid===t),!r)throw new wr("No matching signing key found in JWKS");return r}async getClaims(t,n={keys:[]}){try{let r=t;if(!r){const{data:v,error:w}=await this.getSession();if(w||!v.session)return{data:null,error:w};r=v.session.access_token}const{header:i,payload:s,signature:o,raw:{header:l,payload:a}}=uo(r);if(pv(s.exp),!i.kid||i.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){const{error:v}=await this.getUser(r);if(v)throw v;return{data:{claims:s,header:i,signature:o},error:null}}const u=mv(i.alg),c=await this.fetchJwk(i.kid,n),f=await crypto.subtle.importKey("jwk",c,u,!0,["verify"]);if(!await crypto.subtle.verify(u,f,o,ev(`${l}.${a}`)))throw new wr("Invalid JWT signature");return{data:{claims:s,header:i,signature:o},error:null}}catch(r){if(N(r))return{data:null,error:r};throw r}}}zr.nextInstanceID=0;const Pv=zr;class Iv extends Pv{constructor(t){super(t)}}var Rv=function(e,t,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function l(c){try{u(r.next(c))}catch(f){o(f)}}function a(c){try{u(r.throw(c))}catch(f){o(f)}}function u(c){c.done?s(c.value):i(c.value).then(l,a)}u((r=r.apply(e,t||[])).next())})};class Lv{constructor(t,n,r){var i,s,o;if(this.supabaseUrl=t,this.supabaseKey=n,!t)throw new Error("supabaseUrl is required.");if(!n)throw new Error("supabaseKey is required.");const l=D0(t),a=new URL(l);this.realtimeUrl=new URL("realtime/v1",a),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",a),this.storageUrl=new URL("storage/v1",a),this.functionsUrl=new URL("functions/v1",a);const u=`sb-${a.hostname.split(".")[0]}-auth-token`,c={db:A0,realtime:P0,auth:Object.assign(Object.assign({},O0),{storageKey:u}),global:N0},f=M0(r??{},c);this.storageKey=(i=f.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(s=f.global.headers)!==null&&s!==void 0?s:{},f.accessToken?(this.accessToken=f.accessToken,this.auth=new Proxy({},{get:(d,v)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(v)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=f.auth)!==null&&o!==void 0?o:{},this.headers,f.global.fetch),this.fetch=$0(n,this._getAccessToken.bind(this),f.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},f.realtime)),this.rest=new Xg(new URL("rest/v1",a).href,{headers:this.headers,schema:f.db.schema,fetch:this.fetch}),f.accessToken||this._listenForAuthEvents()}get functions(){return new bg(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}get storage(){return new j0(this.storageUrl.href,this.headers,this.fetch)}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,n={},r={}){return this.rest.rpc(t,n,r)}channel(t,n={config:{}}){return this.realtime.channel(t,n)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,n;return Rv(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(n=(t=r.session)===null||t===void 0?void 0:t.access_token)!==null&&n!==void 0?n:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:i,storageKey:s,flowType:o,lock:l,debug:a},u,c){const f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Iv({url:this.authUrl.href,headers:Object.assign(Object.assign({},f),u),storageKey:s,autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:i,flowType:o,lock:l,debug:a,fetch:c,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new h0(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(t,n,r){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==r?this.changedAccessToken=r:t==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const $v=(e,t,n)=>new Lv(e,t,n),Uv="https://xagpbjgpfaewddggvsge.supabase.co",Dv="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InhhZ3BiamdwZmFld2RkZ2d2c2dlIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDk5Nzc4MDIsImV4cCI6MjA2NTU1MzgwMn0.v_E6bORuREavb5_VMTpzmemMmYjzbzph2tB7n16hPNU",Gh=$v(Uv,Dv),Mv=async(e,t)=>{try{const n={conversation:{id:e.id,text:e.text,context:e.context||null,imageUrl:e.imageUrl||null,audioUrl:e.audioUrl||null,createdAt:e.createdAt||new Date().toISOString()},analysis:t},{data:r,error:i}=await Gh.from("conversations").insert([{id:e.id,created_at:n.conversation.createdAt,data:n}]);if(i)throw console.error("Error saving conversation to Supabase:",i),i;return console.log("Conversation saved to Supabase:",r),r}catch(n){throw console.error("Supabase save operation failed:",n),n}},ic=async()=>{try{const{data:e,error:t}=await Gh.from("conversations").select("id, created_at, data").order("created_at",{ascending:!1});if(t)throw console.error("Error loading conversations from Supabase:",t),t;return console.log("Conversations loaded from Supabase:",e),e.map(n=>({id:n.data.conversation.id,text:n.data.conversation.text,context:n.data.conversation.context,imageUrl:n.data.conversation.imageUrl,audioUrl:n.data.conversation.audioUrl,createdAt:n.data.conversation.createdAt,analysis:n.data.analysis}))}catch(e){return console.error("Supabase load operation failed:",e),[]}},zv=({summary:e})=>h.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-6 flex flex-col items-center justify-center text-center animate-fade-in",children:[h.jsx("div",{className:"text-6xl mb-4",children:e.mainEmotionEmoji}),h.jsx("h3",{className:"text-2xl font-bold text-gray-800 mb-2",children:"Summary"}),h.jsx("p",{className:"text-gray-600 mb-4",children:e.summaryText}),h.jsxs("div",{className:"text-lg font-semibold text-purple-700",children:["Relationship Tone: ",h.jsx("span",{className:"text-purple-900",children:e.relationshipTone})]})]}),Fv=({bars:e})=>h.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-6 animate-fade-in",children:[h.jsx("h3",{className:"text-2xl font-bold text-gray-800 mb-6",children:"Emotion Bars"}),e.map((t,n)=>h.jsxs("div",{className:"mb-4",children:[h.jsxs("div",{className:"flex items-center mb-2",children:[h.jsx("span",{className:"text-xl mr-2",children:t.emoji}),h.jsx("p",{className:"text-base font-semibold text-gray-700",children:t.emotion})]}),h.jsxs("div",{className:"w-full bg-gray-200 rounded-full h-6",children:[h.jsx("div",{className:"bg-blue-400 h-6 rounded-l-full text-white text-right pr-2 flex items-center justify-end text-xs",style:{width:`${t.opponentPercentage}%`},children:t.opponentPercentage>0&&`${t.opponentPercentage}%`}),h.jsx("div",{className:"bg-pink-400 h-6 rounded-r-full text-white text-left pl-2 flex items-center text-xs",style:{width:`${t.authorPercentage}%`,marginLeft:`${t.opponentPercentage}%`},children:t.authorPercentage>0&&`${t.authorPercentage}%`})]}),h.jsxs("div",{className:"flex justify-between text-xs text-gray-500 mt-1",children:[h.jsx("span",{children:"Opponent"}),h.jsx("span",{children:"Author"})]})]},n))]}),Bv=({analysis:e})=>h.jsxs("div",{className:"bg-white rounded-2xl p-6 animate-fade-in",children:[h.jsx("h4",{className:"text-xl font-bold text-gray-800 mb-4",children:"AI Judge Analysis"}),h.jsx("p",{className:"text-gray-700 leading-relaxed",children:e.analysisText})]}),Hv=({analysis:e})=>{const t=(n,r)=>!r||r.length===0?null:h.jsxs("div",{className:"mb-6 last:mb-0",children:[h.jsx("h5",{className:"text-lg font-semibold text-gray-800 mb-2",children:n}),h.jsx("ul",{className:"list-disc list-inside space-y-2",children:r.map((i,s)=>h.jsxs("li",{className:"text-gray-700",children:[h.jsxs("span",{className:"font-medium italic",children:['"',i.quote,'"']})," — ",i.translation]},s))})]});return h.jsxs("div",{className:"bg-white rounded-2xl p-6 animate-fade-in",children:[h.jsx("h4",{className:"text-xl font-bold text-gray-800 mb-4",children:"Intents & Subtext Analysis"}),e.flirt&&t("Flirtatious:",e.flirt),e.jealousy&&t("Jealousy:",e.jealousy),e.passiveAggression&&t("Passive Aggression:",e.passiveAggression),e.flattery&&t("Flattery:",e.flattery),e.interest&&t("Interest:",e.interest),e.boredom&&t("Boredom:",e.boredom),e.sarcasm&&t("Sarcasm:",e.sarcasm),e.generalSubtext&&t("General Subtext:",e.generalSubtext),!e.flirt&&!e.jealousy&&!e.passiveAggression&&!e.flattery&&!e.interest&&!e.boredom&&!e.sarcasm&&!e.generalSubtext&&h.jsx("p",{className:"text-gray-600",children:"No specific intents or subtext detected for this conversation."})]})},Vv=({analysis:e})=>h.jsxs("div",{className:"bg-white rounded-2xl p-6 animate-fade-in",children:[h.jsx("h4",{className:"text-xl font-bold text-gray-800 mb-4",children:"Emotion Timeline"}),h.jsx("div",{className:"space-y-6",children:e.phases.map((t,n)=>h.jsxs("div",{className:"flex items-start",children:[h.jsx("div",{className:"flex-shrink-0 text-4xl mr-4",children:t.emoji}),h.jsxs("div",{children:[h.jsx("h5",{className:"text-lg font-semibold text-gray-800 mb-1",children:t.phase}),h.jsx("p",{className:"text-gray-700",children:t.description})]})]},n))})]}),Wv=({analysis:e})=>h.jsxs("div",{className:"bg-gradient-to-r from-purple-100 to-pink-100 rounded-2xl shadow-xl p-6 col-span-full animate-fade-in",children:[h.jsx("h3",{className:"text-2xl font-bold text-purple-800 mb-4",children:"✨ AI Psychologist's Wrap-Up ✨"}),h.jsxs("p",{className:"text-gray-700 leading-relaxed mb-4 italic",children:['"',e.psychologistSummary,'"']}),h.jsxs("div",{className:"bg-white rounded-xl p-4 border border-purple-200",children:[h.jsx("h4",{className:"text-xl font-semibold text-purple-700 mb-2",children:"My Advice:"}),h.jsx("p",{className:"text-gray-800",children:e.advice})]})]}),Gv=({conversationText:e})=>{const[t,n]=H.useState([]),[r,i]=H.useState(""),[s,o]=H.useState(!1),l=H.useRef(null),a=["Summarize the key takeaways from this conversation.","What was the main emotion expressed by the other person?","Can you find any subtle subtext or hidden meanings here?","Provide advice based on the dynamics of this chat."];H.useEffect(()=>{l.current&&(l.current.scrollTop=l.current.scrollHeight)},[t,s]);const u=async()=>{if(r.trim()==="")return;const d={sender:"user",text:r.trim()};n(v=>[...v,d]),i(""),o(!0);try{const v=`Based on the following conversation:
      "${e}"
      
      User's question/statement: "${d.text}"
      
      As an AI conversation assistant, respond to the user's question or statement in a helpful and concise manner, staying strictly within the context of the provided conversation. If the question is outside the scope of the conversation, politely state that you can only answer questions related to the conversation.`,w=await vr.chatWithConversation(v);n(_=>[..._,{sender:"ai",text:w}])}catch(v){console.error("Error during AI chat:",v),n(w=>[...w,{sender:"ai",text:"Sorry, I could not process your request at the moment. Please try again."}])}finally{o(!1)}},c=d=>{d.key==="Enter"&&!d.shiftKey&&(d.preventDefault(),u())},f=(d,v)=>d.length<=v?d:d.substring(0,v)+"...";return h.jsxs("div",{className:"flex flex-col h-full",children:[h.jsx("div",{className:"flex justify-between items-center p-4 border-b border-gray-200 bg-white/80 backdrop-blur-sm",children:h.jsxs("div",{className:"flex flex-col",children:[h.jsx("h2",{className:"text-xl font-bold text-gray-800",children:"AI Chat"}),h.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:['About: "',f(e,50),'"']})]})}),h.jsxs("div",{ref:l,className:"flex-1 p-4 overflow-y-auto space-y-4 scrollbar-hide",children:[t.length===0&&!s&&h.jsxs("div",{className:"text-center text-gray-600 italic mt-10",children:[h.jsx("p",{className:"mb-4",children:"Ask me anything about the conversation!"}),h.jsx("div",{className:"flex flex-wrap justify-center gap-2 px-4",children:a.map((d,v)=>h.jsx("button",{onClick:()=>i(d),className:"bg-purple-100 text-purple-800 px-3 py-1 rounded-full text-sm hover:bg-purple-200 transition-colors duration-200",children:d},v))})]}),t.map((d,v)=>h.jsx("div",{className:`flex ${d.sender==="user"?"justify-end":"justify-start"} animate-fade-in`,children:h.jsx("div",{className:`max-w-[75%] p-3 rounded-xl shadow-md ${d.sender==="user"?"bg-blue-600 text-white rounded-br-none":"bg-gray-200 text-gray-800 rounded-bl-none"}`,children:d.text})},v)),s&&h.jsx("div",{className:"flex justify-start",children:h.jsx("div",{className:"bg-gray-200 text-gray-800 p-3 rounded-xl rounded-bl-none animate-pulse",children:"Typing..."})})]}),h.jsxs("div",{className:"p-4 border-t border-gray-200 bg-white/80 backdrop-blur-sm flex items-center",children:[h.jsx("input",{type:"text",className:"flex-1 border border-gray-300 rounded-full px-4 py-2 focus:outline-none focus:ring-2 focus:ring-purple-400 pr-10 bg-white/70",placeholder:"Ask a question...",value:r,onChange:d=>i(d.target.value),onKeyPress:c,disabled:s}),h.jsx("button",{onClick:u,disabled:s||r.trim()==="",className:"ml-3 bg-purple-600 text-white rounded-full p-2 w-10 h-10 flex items-center justify-center hover:bg-purple-700 transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed","aria-label":"Send message",children:h.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M14 5l7 7m0 0l-7 7m7-7H3"})})})]})]})},qv=({transcribedText:e,toneAnalysis:t,emotionAnalysis:n,briefSummary:r})=>h.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-6 col-span-full animate-fade-in",children:[h.jsx("h3",{className:"text-2xl font-bold text-gray-800 mb-4",children:"🎙️ Audio Analysis 🎙️"}),h.jsxs("div",{className:"mb-4",children:[h.jsx("h4",{className:"text-xl font-semibold text-purple-700 mb-2",children:"Transcribed Text:"}),h.jsx("p",{className:"text-gray-700 bg-gray-50 p-3 rounded-lg border border-gray-200 overflow-auto max-h-40",children:e})]}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[h.jsxs("div",{children:[h.jsx("h4",{className:"text-xl font-semibold text-purple-700 mb-2",children:"Tone Analysis:"}),h.jsx("p",{className:"text-gray-700 bg-gray-50 p-3 rounded-lg border border-gray-200",children:t})]}),h.jsxs("div",{children:[h.jsx("h4",{className:"text-xl font-semibold text-purple-700 mb-2",children:"Emotion Analysis:"}),h.jsx("p",{className:"text-gray-700 bg-gray-50 p-3 rounded-lg border border-gray-200",children:n})]})]}),h.jsxs("div",{children:[h.jsx("h4",{className:"text-xl font-semibold text-purple-700 mb-2",children:"Brief Summary:"}),h.jsx("p",{className:"text-gray-700 bg-gray-50 p-3 rounded-lg border border-gray-200",children:r})]})]}),Kv=({advice:e})=>h.jsxs("div",{className:"bg-gradient-to-r from-green-50 to-teal-50 rounded-2xl shadow-lg p-6 animate-fade-in flex flex-col h-full text-center",children:[h.jsxs("h2",{className:"text-2xl font-bold text-green-800 mb-4 flex items-center justify-center",children:[h.jsx("span",{role:"img","aria-label":"lightbulb",className:"mr-2 text-3xl",children:"💡"})," My Advice"]}),h.jsx("div",{className:"flex-1 overflow-y-auto custom-scrollbar",children:h.jsx("p",{className:"text-gray-700 leading-relaxed whitespace-pre-wrap",children:e})})]});function Jv(){var c;const[e,t]=H.useState("dashboard"),[n,r]=H.useState([]),[i,s]=H.useState(null),[o,l]=H.useState(null);H.useEffect(()=>{(async()=>{const d=await ic();r(d),d.length>0&&s(d[0].analysis)})()},[]);const a=async(f,d)=>{t(f),f==="results"&&d?s(d.analysis):(f==="analyze"||f==="dashboard")&&(s(null),l(null))},u=async f=>{try{t("results"),s(null),l(null);const d=await vr.analyzeConversation(f);s(d),await Mv(f,d);const v=await ic();r(v),d.aiJudge?l("aiJudge"):d.intentsSubtext?l("intentsSubtext"):d.emotionTimeline&&l("emotionTimeline")}catch(d){console.error("Analysis failed:",d),s(null),t("analyze"),alert("Analysis failed. Please try again.")}};return h.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 via-blue-50 to-pink-50 relative",children:[h.jsx($m,{currentView:e,onViewChange:a,conversationCount:n.length}),h.jsxs("main",{className:"container mx-auto px-4 py-6",children:[e==="dashboard"&&h.jsx(Um,{conversations:n,onViewChange:a}),e==="analyze"&&h.jsx(_g,{onAnalyze:u,onBack:()=>a("dashboard")}),e==="results"&&i&&h.jsxs("div",{className:"flex flex-col gap-6",children:[h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[i.summary&&h.jsx(zv,{summary:i.summary}),i.emotionBars&&h.jsx(Fv,{bars:i.emotionBars.bars}),h.jsx("div",{className:"w-full bg-white rounded-2xl shadow-xl flex flex-col p-4",children:h.jsx(Gv,{conversationText:((c=n[n.length-1])==null?void 0:c.text)||""})})]}),h.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-6 relative w-full",children:[h.jsxs("div",{className:"flex justify-around mb-6 space-x-4",children:[h.jsxs("button",{onClick:()=>l("aiJudge"),className:`p-4 rounded-xl text-lg font-semibold transition-all duration-300 transform
                    ${o==="aiJudge"?"bg-purple-600 text-white shadow-lg scale-105":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:[h.jsx("span",{role:"img","aria-label":"judge",className:"text-2xl",children:"⚖️"})," AI Judge"]}),h.jsxs("button",{onClick:()=>l("intentsSubtext"),className:`p-4 rounded-xl text-lg font-semibold transition-all duration-300 transform
                    ${o==="intentsSubtext"?"bg-purple-600 text-white shadow-lg scale-105":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:[h.jsx("span",{role:"img","aria-label":"intents",className:"text-2xl",children:"🤔"})," Intents & Subtext"]}),h.jsxs("button",{onClick:()=>l("emotionTimeline"),className:`p-4 rounded-xl text-lg font-semibold transition-all duration-300 transform
                    ${o==="emotionTimeline"?"bg-purple-600 text-white shadow-lg scale-105":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:[h.jsx("span",{role:"img","aria-label":"timeline",className:"text-2xl",children:"📈"})," Emotion Timeline"]})]}),o==="aiJudge"&&i.aiJudge&&h.jsx(Bv,{analysis:i.aiJudge}),o==="intentsSubtext"&&i.intentsSubtext&&h.jsx(Hv,{analysis:i.intentsSubtext}),o==="emotionTimeline"&&i.emotionTimeline&&h.jsx(Vv,{analysis:i.emotionTimeline})]}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 w-full",children:[i.wrapUp&&h.jsx(Wv,{analysis:i.wrapUp}),i.myAdvice&&h.jsx(Kv,{advice:i.myAdvice}),i.audioAnalysis&&h.jsx(qv,{transcribedText:i.audioAnalysis.transcribedText,toneAnalysis:i.audioAnalysis.toneAnalysis,emotionAnalysis:i.audioAnalysis.emotionAnalysis,briefSummary:i.audioAnalysis.briefSummary})]})]})]})]})}vh(document.getElementById("root")).render(h.jsx(H.StrictMode,{children:h.jsx(Jv,{})}));
